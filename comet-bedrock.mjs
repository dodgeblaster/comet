var HP=Object.create;var eo=Object.defineProperty;var $P=Object.getOwnPropertyDescriptor;var GP=Object.getOwnPropertyNames;var zP=Object.getPrototypeOf,VP=Object.prototype.hasOwnProperty;var D=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var R=(e,t)=>()=>(e&&(t=e(e=0)),t);var g=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Yr=(e,t)=>{for(var r in t)eo(e,r,{get:t[r],enumerable:!0})},Dd=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of GP(t))!VP.call(e,o)&&o!==r&&eo(e,o,{get:()=>t[o],enumerable:!(n=$P(t,o))||n.enumerable});return e};var z=(e,t,r)=>(r=e!=null?HP(zP(e)):{},Dd(t||!e||!e.__esModule?eo(r,"default",{value:e,enumerable:!0}):r,e)),I=e=>Dd(eo({},"__esModule",{value:!0}),e);var je=g((Ez,$d)=>{var to=Object.defineProperty,WP=Object.getOwnPropertyDescriptor,KP=Object.getOwnPropertyNames,JP=Object.prototype.hasOwnProperty,ro=(e,t)=>to(e,"name",{value:t,configurable:!0}),YP=(e,t)=>{for(var r in t)to(e,r,{get:t[r],enumerable:!0})},XP=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of KP(t))!JP.call(e,o)&&o!==r&&to(e,o,{get:()=>t[o],enumerable:!(n=WP(t,o))||n.enumerable});return e},QP=e=>XP(to({},"__esModule",{value:!0}),e),Md={};YP(Md,{AlgorithmId:()=>qd,EndpointURLScheme:()=>Ld,FieldPosition:()=>jd,HttpApiKeyAuthLocation:()=>Ud,HttpAuthLocation:()=>Fd,IniSectionType:()=>Bd,RequestHandlerProtocol:()=>Hd,SMITHY_CONTEXT_KEY:()=>nR,getDefaultClientConfiguration:()=>tR,resolveDefaultRuntimeConfig:()=>rR});$d.exports=QP(Md);var Fd=(e=>(e.HEADER="header",e.QUERY="query",e))(Fd||{}),Ud=(e=>(e.HEADER="header",e.QUERY="query",e))(Ud||{}),Ld=(e=>(e.HTTP="http",e.HTTPS="https",e))(Ld||{}),qd=(e=>(e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256",e))(qd||{}),ZP=ro(e=>{let t=[];return e.sha256!==void 0&&t.push({algorithmId:()=>"sha256",checksumConstructor:()=>e.sha256}),e.md5!=null&&t.push({algorithmId:()=>"md5",checksumConstructor:()=>e.md5}),{_checksumAlgorithms:t,addChecksumAlgorithm(r){this._checksumAlgorithms.push(r)},checksumAlgorithms(){return this._checksumAlgorithms}}},"getChecksumConfiguration"),eR=ro(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),tR=ro(e=>({...ZP(e)}),"getDefaultClientConfiguration"),rR=ro(e=>({...eR(e)}),"resolveDefaultRuntimeConfig"),jd=(e=>(e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER",e))(jd||{}),nR="__smithy_context",Bd=(e=>(e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services",e))(Bd||{}),Hd=(e=>(e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0",e))(Hd||{})});var Q=g((bz,Qd)=>{var no=Object.defineProperty,oR=Object.getOwnPropertyDescriptor,iR=Object.getOwnPropertyNames,sR=Object.prototype.hasOwnProperty,pt=(e,t)=>no(e,"name",{value:t,configurable:!0}),aR=(e,t)=>{for(var r in t)no(e,r,{get:t[r],enumerable:!0})},cR=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of iR(t))!sR.call(e,o)&&o!==r&&no(e,o,{get:()=>t[o],enumerable:!(n=oR(t,o))||n.enumerable});return e},lR=e=>cR(no({},"__esModule",{value:!0}),e),Gd={};aR(Gd,{Field:()=>fR,Fields:()=>mR,HttpRequest:()=>gR,HttpResponse:()=>hR,getHttpHandlerExtensionConfiguration:()=>dR,isValidHostname:()=>Xd,resolveHttpHandlerRuntimeConfig:()=>uR});Qd.exports=lR(Gd);var dR=pt(e=>{let t=e.httpHandler;return{setHttpHandler(r){t=r},httpHandler(){return t},updateHttpClientConfig(r,n){t.updateHttpClientConfig(r,n)},httpHandlerConfigs(){return t.httpHandlerConfigs()}}},"getHttpHandlerExtensionConfiguration"),uR=pt(e=>({httpHandler:e.httpHandler()}),"resolveHttpHandlerRuntimeConfig"),pR=je(),zd=class{constructor({name:t,kind:r=pR.FieldPosition.HEADER,values:n=[]}){this.name=t,this.kind=r,this.values=n}add(t){this.values.push(t)}set(t){this.values=t}remove(t){this.values=this.values.filter(r=>r!==t)}toString(){return this.values.map(t=>t.includes(",")||t.includes(" ")?`"${t}"`:t).join(", ")}get(){return this.values}};pt(zd,"Field");var fR=zd,Vd=class{constructor({fields:t=[],encoding:r="utf-8"}){this.entries={},t.forEach(this.setField.bind(this)),this.encoding=r}setField(t){this.entries[t.name.toLowerCase()]=t}getField(t){return this.entries[t.toLowerCase()]}removeField(t){delete this.entries[t.toLowerCase()]}getByType(t){return Object.values(this.entries).filter(r=>r.kind===t)}};pt(Vd,"Fields");var mR=Vd,Wd=class Kd{constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){let t=new Kd({...this,headers:{...this.headers}});return t.query&&(t.query=Jd(t.query)),t}};pt(Wd,"HttpRequest");var gR=Wd;function Jd(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}pt(Jd,"cloneQuery");var Yd=class{constructor(t){this.statusCode=t.statusCode,this.reason=t.reason,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;let r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"}};pt(Yd,"HttpResponse");var hR=Yd;function Xd(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}pt(Xd,"isValidHostname")});var Xr=g((Cz,nu)=>{"use strict";var oo=Object.defineProperty,vR=Object.getOwnPropertyDescriptor,_R=Object.getOwnPropertyNames,yR=Object.prototype.hasOwnProperty,ea=(e,t)=>oo(e,"name",{value:t,configurable:!0}),ER=(e,t)=>{for(var r in t)oo(e,r,{get:t[r],enumerable:!0})},SR=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of _R(t))!yR.call(e,o)&&o!==r&&oo(e,o,{get:()=>t[o],enumerable:!(n=vR(t,o))||n.enumerable});return e},wR=e=>SR(oo({},"__esModule",{value:!0}),e),Zd={};ER(Zd,{getHostHeaderPlugin:()=>bR,hostHeaderMiddleware:()=>tu,hostHeaderMiddlewareOptions:()=>ru,resolveHostHeaderConfig:()=>eu});nu.exports=wR(Zd);var xR=Q();function eu(e){return e}ea(eu,"resolveHostHeaderConfig");var tu=ea(e=>t=>async r=>{if(!xR.HttpRequest.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:o=""}=e.requestHandler.metadata||{};if(o.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let i=n.hostname;n.port!=null&&(i+=`:${n.port}`),n.headers.host=i}return t(r)},"hostHeaderMiddleware"),ru={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},bR=ea(e=>({applyToStack:t=>{t.add(tu(e),ru)}}),"getHostHeaderPlugin")});var Qr=g((Pz,cu)=>{"use strict";var io=Object.defineProperty,CR=Object.getOwnPropertyDescriptor,PR=Object.getOwnPropertyNames,RR=Object.prototype.hasOwnProperty,ou=(e,t)=>io(e,"name",{value:t,configurable:!0}),OR=(e,t)=>{for(var r in t)io(e,r,{get:t[r],enumerable:!0})},AR=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of PR(t))!RR.call(e,o)&&o!==r&&io(e,o,{get:()=>t[o],enumerable:!(n=CR(t,o))||n.enumerable});return e},TR=e=>AR(io({},"__esModule",{value:!0}),e),iu={};OR(iu,{getLoggerPlugin:()=>IR,loggerMiddleware:()=>su,loggerMiddlewareOptions:()=>au});cu.exports=TR(iu);var su=ou(()=>(e,t)=>async r=>{var n,o;try{let i=await e(r),{clientName:s,commandName:a,logger:c,dynamoDbDocumentClientOptions:l={}}=t,{overrideInputFilterSensitiveLog:d,overrideOutputFilterSensitiveLog:u}=l,p=d??t.inputFilterSensitiveLog,f=u??t.outputFilterSensitiveLog,{$metadata:h,...y}=i.output;return(n=c?.info)==null||n.call(c,{clientName:s,commandName:a,input:p(r.input),output:f(y),metadata:h}),i}catch(i){let{clientName:s,commandName:a,logger:c,dynamoDbDocumentClientOptions:l={}}=t,{overrideInputFilterSensitiveLog:d}=l,u=d??t.inputFilterSensitiveLog;throw(o=c?.error)==null||o.call(c,{clientName:s,commandName:a,input:u(r.input),error:i,metadata:i.$metadata}),i}},"loggerMiddleware"),au={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},IR=ou(e=>({applyToStack:t=>{t.add(su(),au)}}),"getLoggerPlugin")});var Zr=g((Rz,fu)=>{"use strict";var so=Object.defineProperty,NR=Object.getOwnPropertyDescriptor,kR=Object.getOwnPropertyNames,DR=Object.prototype.hasOwnProperty,ta=(e,t)=>so(e,"name",{value:t,configurable:!0}),MR=(e,t)=>{for(var r in t)so(e,r,{get:t[r],enumerable:!0})},FR=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of kR(t))!DR.call(e,o)&&o!==r&&so(e,o,{get:()=>t[o],enumerable:!(n=NR(t,o))||n.enumerable});return e},UR=e=>FR(so({},"__esModule",{value:!0}),e),du={};MR(du,{addRecursionDetectionMiddlewareOptions:()=>pu,getRecursionDetectionPlugin:()=>BR,recursionDetectionMiddleware:()=>uu});fu.exports=UR(du);var LR=Q(),lu="X-Amzn-Trace-Id",qR="AWS_LAMBDA_FUNCTION_NAME",jR="_X_AMZN_TRACE_ID",uu=ta(e=>t=>async r=>{let{request:n}=r;if(!LR.HttpRequest.isInstance(n)||e.runtime!=="node"||n.headers.hasOwnProperty(lu))return t(r);let o=process.env[qR],i=process.env[jR],s=ta(a=>typeof a=="string"&&a.length>0,"nonEmptyString");return s(o)&&s(i)&&(n.headers[lu]=i),t({...r,request:n})},"recursionDetectionMiddleware"),pu={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},BR=ta(e=>({applyToStack:t=>{t.add(uu(e),pu)}}),"getRecursionDetectionPlugin")});var tr=g((Az,xu)=>{var ao=Object.defineProperty,HR=Object.getOwnPropertyDescriptor,$R=Object.getOwnPropertyNames,GR=Object.prototype.hasOwnProperty,M=(e,t)=>ao(e,"name",{value:t,configurable:!0}),zR=(e,t)=>{for(var r in t)ao(e,r,{get:t[r],enumerable:!0})},VR=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of $R(t))!GR.call(e,o)&&o!==r&&ao(e,o,{get:()=>t[o],enumerable:!(n=HR(t,o))||n.enumerable});return e},WR=e=>VR(ao({},"__esModule",{value:!0}),e),mu={};zR(mu,{EndpointError:()=>pe,customEndpointFunctions:()=>na,isIpAddress:()=>gu,isValidHostLabel:()=>ia,resolveEndpoint:()=>pO});xu.exports=WR(mu);var KR=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),gu=M(e=>KR.test(e)||e.startsWith("[")&&e.endsWith("]"),"isIpAddress"),JR=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),ia=M((e,t=!1)=>{if(!t)return JR.test(e);let r=e.split(".");for(let n of r)if(!ia(n))return!1;return!0},"isValidHostLabel"),na={},en="endpoints";function Ze(e){return typeof e!="object"||e==null?e:"ref"in e?`$${Ze(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(Ze).join(", ")})`:JSON.stringify(e,null,2)}M(Ze,"toDebugString");var hu=class extends Error{constructor(t){super(t),this.name="EndpointError"}};M(hu,"EndpointError");var pe=hu,YR=M((e,t)=>e===t,"booleanEquals"),XR=M(e=>{let t=e.split("."),r=[];for(let n of t){let o=n.indexOf("[");if(o!==-1){if(n.indexOf("]")!==n.length-1)throw new pe(`Path: '${e}' does not end with ']'`);let i=n.slice(o+1,-1);if(Number.isNaN(parseInt(i)))throw new pe(`Invalid array index: '${i}' in path: '${e}'`);o!==0&&r.push(n.slice(0,o)),r.push(i)}else r.push(n)}return r},"getAttrPathList"),vu=M((e,t)=>XR(t).reduce((r,n)=>{if(typeof r!="object")throw new pe(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e),"getAttr"),QR=M(e=>e!=null,"isSet"),ZR=M(e=>!e,"not"),oa=je(),ra={[oa.EndpointURLScheme.HTTP]:80,[oa.EndpointURLScheme.HTTPS]:443},eO=M(e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:p,port:f,protocol:h="",path:y="",query:S={}}=e,x=new URL(`${h}//${p}${f?`:${f}`:""}${y}`);return x.search=Object.entries(S).map(([O,U])=>`${O}=${U}`).join("&"),x}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:o,pathname:i,protocol:s,search:a}=t;if(a)return null;let c=s.slice(0,-1);if(!Object.values(oa.EndpointURLScheme).includes(c))return null;let l=gu(o),d=r.includes(`${n}:${ra[c]}`)||typeof e=="string"&&e.includes(`${n}:${ra[c]}`),u=`${n}${d?`:${ra[c]}`:""}`;return{scheme:c,authority:u,path:i,normalizedPath:i.endsWith("/")?i:`${i}/`,isIp:l}},"parseURL"),tO=M((e,t)=>e===t,"stringEquals"),rO=M((e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r),"substring"),nO=M(e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),"uriEncode"),oO={booleanEquals:YR,getAttr:vu,isSet:QR,isValidHostLabel:ia,not:ZR,parseURL:eO,stringEquals:tO,substring:rO,uriEncode:nO},_u=M((e,t)=>{let r=[],n={...t.endpointParams,...t.referenceRecord},o=0;for(;o<e.length;){let i=e.indexOf("{",o);if(i===-1){r.push(e.slice(o));break}r.push(e.slice(o,i));let s=e.indexOf("}",i);if(s===-1){r.push(e.slice(i));break}e[i+1]==="{"&&e[s+1]==="}"&&(r.push(e.slice(i+1,s)),o=s+2);let a=e.substring(i+1,s);if(a.includes("#")){let[c,l]=a.split("#");r.push(vu(n[c],l))}else r.push(n[a]);o=s+1}return r.join("")},"evaluateTemplate"),iO=M(({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],"getReferenceValue"),co=M((e,t,r)=>{if(typeof e=="string")return _u(e,r);if(e.fn)return yu(e,r);if(e.ref)return iO(e,r);throw new pe(`'${t}': ${String(e)} is not a string, function or reference.`)},"evaluateExpression"),yu=M(({fn:e,argv:t},r)=>{let n=t.map(i=>["boolean","number"].includes(typeof i)?i:co(i,"arg",r)),o=e.split(".");return o[0]in na&&o[1]!=null?na[o[0]][o[1]](...n):oO[e](...n)},"callFunction"),sO=M(({assign:e,...t},r)=>{var n,o;if(e&&e in r.referenceRecord)throw new pe(`'${e}' is already defined in Reference Record.`);let i=yu(t,r);return(o=(n=r.logger)==null?void 0:n.debug)==null||o.call(n,`${en} evaluateCondition: ${Ze(t)} = ${Ze(i)}`),{result:i===""?!0:!!i,...e!=null&&{toAssign:{name:e,value:i}}}},"evaluateCondition"),sa=M((e=[],t)=>{var r,n;let o={};for(let i of e){let{result:s,toAssign:a}=sO(i,{...t,referenceRecord:{...t.referenceRecord,...o}});if(!s)return{result:s};a&&(o[a.name]=a.value,(n=(r=t.logger)==null?void 0:r.debug)==null||n.call(r,`${en} assign: ${a.name} := ${Ze(a.value)}`))}return{result:!0,referenceRecord:o}},"evaluateConditions"),aO=M((e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:o.map(i=>{let s=co(i,"Header value entry",t);if(typeof s!="string")throw new pe(`Header '${n}' value '${s}' is not a string`);return s})}),{}),"getEndpointHeaders"),Eu=M((e,t)=>{if(Array.isArray(e))return e.map(r=>Eu(r,t));switch(typeof e){case"string":return _u(e,t);case"object":if(e===null)throw new pe(`Unexpected endpoint property: ${e}`);return Su(e,t);case"boolean":return e;default:throw new pe(`Unexpected endpoint property type: ${typeof e}`)}},"getEndpointProperty"),Su=M((e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:Eu(o,t)}),{}),"getEndpointProperties"),cO=M((e,t)=>{let r=co(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new pe(`Endpoint URL must be a string, got ${typeof r}`)},"getEndpointUrl"),lO=M((e,t)=>{var r,n;let{conditions:o,endpoint:i}=e,{result:s,referenceRecord:a}=sa(o,t);if(!s)return;let c={...t,referenceRecord:{...t.referenceRecord,...a}},{url:l,properties:d,headers:u}=i;return(n=(r=t.logger)==null?void 0:r.debug)==null||n.call(r,`${en} Resolving endpoint from template: ${Ze(i)}`),{...u!=null&&{headers:aO(u,c)},...d!=null&&{properties:Su(d,c)},url:cO(l,c)}},"evaluateEndpointRule"),dO=M((e,t)=>{let{conditions:r,error:n}=e,{result:o,referenceRecord:i}=sa(r,t);if(o)throw new pe(co(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...i}}))},"evaluateErrorRule"),uO=M((e,t)=>{let{conditions:r,rules:n}=e,{result:o,referenceRecord:i}=sa(r,t);if(o)return wu(n,{...t,referenceRecord:{...t.referenceRecord,...i}})},"evaluateTreeRule"),wu=M((e,t)=>{for(let r of e)if(r.type==="endpoint"){let n=lO(r,t);if(n)return n}else if(r.type==="error")dO(r,t);else if(r.type==="tree"){let n=uO(r,t);if(n)return n}else throw new pe(`Unknown endpoint rule: ${r}`);throw new pe("Rules evaluation failed")},"evaluateRules"),pO=M((e,t)=>{var r,n,o,i,s;let{endpointParams:a,logger:c}=t,{parameters:l,rules:d}=e;(n=(r=t.logger)==null?void 0:r.debug)==null||n.call(r,`${en} Initial EndpointParams: ${Ze(a)}`);let u=Object.entries(l).filter(([,h])=>h.default!=null).map(([h,y])=>[h,y.default]);if(u.length>0)for(let[h,y]of u)a[h]=a[h]??y;let p=Object.entries(l).filter(([,h])=>h.required).map(([h])=>h);for(let h of p)if(a[h]==null)throw new pe(`Missing required parameter: '${h}'`);let f=wu(d,{endpointParams:a,logger:c,referenceRecord:{}});if((o=t.endpointParams)!=null&&o.Endpoint)try{let h=new URL(t.endpointParams.Endpoint),{protocol:y,port:S}=h;f.url.protocol=y,f.url.port=S}catch{}return(s=(i=t.logger)==null?void 0:i.debug)==null||s.call(i,`${en} Resolved endpoint: ${Ze(f)}`),f},"resolveEndpoint")});var nr=g((Tz,Nu)=>{"use strict";var lo=Object.defineProperty,fO=Object.getOwnPropertyDescriptor,mO=Object.getOwnPropertyNames,gO=Object.prototype.hasOwnProperty,rr=(e,t)=>lo(e,"name",{value:t,configurable:!0}),hO=(e,t)=>{for(var r in t)lo(e,r,{get:t[r],enumerable:!0})},vO=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of mO(t))!gO.call(e,o)&&o!==r&&lo(e,o,{get:()=>t[o],enumerable:!(n=fO(t,o))||n.enumerable});return e},_O=e=>vO(lo({},"__esModule",{value:!0}),e),bu={};hO(bu,{ConditionObject:()=>F.ConditionObject,DeprecatedObject:()=>F.DeprecatedObject,EndpointError:()=>F.EndpointError,EndpointObject:()=>F.EndpointObject,EndpointObjectHeaders:()=>F.EndpointObjectHeaders,EndpointObjectProperties:()=>F.EndpointObjectProperties,EndpointParams:()=>F.EndpointParams,EndpointResolverOptions:()=>F.EndpointResolverOptions,EndpointRuleObject:()=>F.EndpointRuleObject,ErrorRuleObject:()=>F.ErrorRuleObject,EvaluateOptions:()=>F.EvaluateOptions,Expression:()=>F.Expression,FunctionArgv:()=>F.FunctionArgv,FunctionObject:()=>F.FunctionObject,FunctionReturn:()=>F.FunctionReturn,ParameterObject:()=>F.ParameterObject,ReferenceObject:()=>F.ReferenceObject,ReferenceRecord:()=>F.ReferenceRecord,RuleSetObject:()=>F.RuleSetObject,RuleSetRules:()=>F.RuleSetRules,TreeRuleObject:()=>F.TreeRuleObject,awsEndpointFunctions:()=>Iu,getUserAgentPrefix:()=>SO,isIpAddress:()=>F.isIpAddress,partition:()=>Au,resolveEndpoint:()=>F.resolveEndpoint,setPartitionInfo:()=>Tu,useDefaultPartitionInfo:()=>EO});Nu.exports=_O(bu);var F=tr(),Cu=rr((e,t=!1)=>{if(t){for(let r of e.split("."))if(!Cu(r))return!1;return!0}return!(!(0,F.isValidHostLabel)(e)||e.length<3||e.length>63||e!==e.toLowerCase()||(0,F.isIpAddress)(e))},"isVirtualHostableS3Bucket"),yO=rr(e=>{let t=e.split(":");if(t.length<6)return null;let[r,n,o,i,s,...a]=t;return r!=="arn"||n===""||o===""||a[0]===""?null:{partition:n,service:o,region:i,accountId:s,resourceId:a[0].includes("/")?a[0].split("/"):a}},"parseArn"),Pu={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{}}],version:"1.1"},Ru=Pu,Ou="",Au=rr(e=>{let{partitions:t}=Ru;for(let n of t){let{regions:o,outputs:i}=n;for(let[s,a]of Object.entries(o))if(s===e)return{...i,...a}}for(let n of t){let{regionRegex:o,outputs:i}=n;if(new RegExp(o).test(e))return{...i}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},"partition"),Tu=rr((e,t="")=>{Ru=e,Ou=t},"setPartitionInfo"),EO=rr(()=>{Tu(Pu,"")},"useDefaultPartitionInfo"),SO=rr(()=>Ou,"getUserAgentPrefix"),Iu={isVirtualHostableS3Bucket:Cu,parseArn:yO,partition:Au};F.customEndpointFunctions.aws=Iu});var tn=g((Iz,ju)=>{"use strict";var uo=Object.defineProperty,wO=Object.getOwnPropertyDescriptor,xO=Object.getOwnPropertyNames,bO=Object.prototype.hasOwnProperty,po=(e,t)=>uo(e,"name",{value:t,configurable:!0}),CO=(e,t)=>{for(var r in t)uo(e,r,{get:t[r],enumerable:!0})},PO=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of xO(t))!bO.call(e,o)&&o!==r&&uo(e,o,{get:()=>t[o],enumerable:!(n=wO(t,o))||n.enumerable});return e},RO=e=>PO(uo({},"__esModule",{value:!0}),e),Fu={};CO(Fu,{getUserAgentMiddlewareOptions:()=>qu,getUserAgentPlugin:()=>NO,resolveUserAgentConfig:()=>Uu,userAgentMiddleware:()=>Lu});ju.exports=RO(Fu);function Uu(e){return{...e,customUserAgent:typeof e.customUserAgent=="string"?[[e.customUserAgent]]:e.customUserAgent}}po(Uu,"resolveUserAgentConfig");var OO=nr(),AO=Q(),ku="user-agent",aa="x-amz-user-agent",Du=" ",ca="/",TO=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,IO=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,Mu="-",Lu=po(e=>(t,r)=>async n=>{var o,i;let{request:s}=n;if(!AO.HttpRequest.isInstance(s))return t(n);let{headers:a}=s,c=((o=r?.userAgent)==null?void 0:o.map(la))||[],l=(await e.defaultUserAgentProvider()).map(la),d=((i=e?.customUserAgent)==null?void 0:i.map(la))||[],u=(0,OO.getUserAgentPrefix)(),p=(u?[u]:[]).concat([...l,...c,...d]).join(Du),f=[...l.filter(h=>h.startsWith("aws-sdk-")),...d].join(Du);return e.runtime!=="browser"?(f&&(a[aa]=a[aa]?`${a[ku]} ${f}`:f),a[ku]=p):a[aa]=p,t({...n,request:s})},"userAgentMiddleware"),la=po(e=>{var t;let r=e[0].split(ca).map(a=>a.replace(TO,Mu)).join(ca),n=(t=e[1])==null?void 0:t.replace(IO,Mu),o=r.indexOf(ca),i=r.substring(0,o),s=r.substring(o+1);return i==="api"&&(s=s.toLowerCase()),[i,s,n].filter(a=>a&&a.length>0).reduce((a,c,l)=>{switch(l){case 0:return c;case 1:return`${a}/${c}`;default:return`${a}#${c}`}},"")},"escapeUserAgent"),qu={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},NO=po(e=>({applyToStack:t=>{t.add(Lu(e),qu)}}),"getUserAgentPlugin")});var zu=g((Nz,Gu)=>{var fo=Object.defineProperty,kO=Object.getOwnPropertyDescriptor,DO=Object.getOwnPropertyNames,MO=Object.prototype.hasOwnProperty,Bu=(e,t)=>fo(e,"name",{value:t,configurable:!0}),FO=(e,t)=>{for(var r in t)fo(e,r,{get:t[r],enumerable:!0})},UO=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of DO(t))!MO.call(e,o)&&o!==r&&fo(e,o,{get:()=>t[o],enumerable:!(n=kO(t,o))||n.enumerable});return e},LO=e=>UO(fo({},"__esModule",{value:!0}),e),Hu={};FO(Hu,{SelectorType:()=>$u,booleanSelector:()=>qO,numberSelector:()=>jO});Gu.exports=LO(Hu);var qO=Bu((e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}},"booleanSelector"),jO=Bu((e,t,r)=>{if(!(t in e))return;let n=parseInt(e[t],10);if(Number.isNaN(n))throw new TypeError(`Cannot load ${r} '${t}'. Expected number, got '${e[t]}'.`);return n},"numberSelector"),$u=(e=>(e.ENV="env",e.CONFIG="shared config entry",e))($u||{})});var Ne=g((kz,Ju)=>{var mo=Object.defineProperty,BO=Object.getOwnPropertyDescriptor,HO=Object.getOwnPropertyNames,$O=Object.prototype.hasOwnProperty,Wu=(e,t)=>mo(e,"name",{value:t,configurable:!0}),GO=(e,t)=>{for(var r in t)mo(e,r,{get:t[r],enumerable:!0})},zO=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of HO(t))!$O.call(e,o)&&o!==r&&mo(e,o,{get:()=>t[o],enumerable:!(n=BO(t,o))||n.enumerable});return e},VO=e=>zO(mo({},"__esModule",{value:!0}),e),Ku={};GO(Ku,{getSmithyContext:()=>WO,normalizeProvider:()=>KO});Ju.exports=VO(Ku);var Vu=je(),WO=Wu(e=>e[Vu.SMITHY_CONTEXT_KEY]||(e[Vu.SMITHY_CONTEXT_KEY]={}),"getSmithyContext"),KO=Wu(e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t},"normalizeProvider")});var Be=g((Dz,sp)=>{var ho=Object.defineProperty,JO=Object.getOwnPropertyDescriptor,YO=Object.getOwnPropertyNames,XO=Object.prototype.hasOwnProperty,ke=(e,t)=>ho(e,"name",{value:t,configurable:!0}),QO=(e,t)=>{for(var r in t)ho(e,r,{get:t[r],enumerable:!0})},ZO=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of YO(t))!XO.call(e,o)&&o!==r&&ho(e,o,{get:()=>t[o],enumerable:!(n=JO(t,o))||n.enumerable});return e},eA=e=>ZO(ho({},"__esModule",{value:!0}),e),Qu={};QO(Qu,{CONFIG_USE_DUALSTACK_ENDPOINT:()=>ep,CONFIG_USE_FIPS_ENDPOINT:()=>rp,DEFAULT_USE_DUALSTACK_ENDPOINT:()=>tA,DEFAULT_USE_FIPS_ENDPOINT:()=>nA,ENV_USE_DUALSTACK_ENDPOINT:()=>Zu,ENV_USE_FIPS_ENDPOINT:()=>tp,NODE_REGION_CONFIG_FILE_OPTIONS:()=>lA,NODE_REGION_CONFIG_OPTIONS:()=>cA,NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS:()=>rA,NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS:()=>oA,REGION_ENV_NAME:()=>np,REGION_INI_NAME:()=>op,getRegionInfo:()=>mA,resolveCustomEndpointsConfig:()=>iA,resolveEndpointsConfig:()=>aA,resolveRegionConfig:()=>dA});sp.exports=eA(Qu);var ft=zu(),Zu="AWS_USE_DUALSTACK_ENDPOINT",ep="use_dualstack_endpoint",tA=!1,rA={environmentVariableSelector:e=>(0,ft.booleanSelector)(e,Zu,ft.SelectorType.ENV),configFileSelector:e=>(0,ft.booleanSelector)(e,ep,ft.SelectorType.CONFIG),default:!1},tp="AWS_USE_FIPS_ENDPOINT",rp="use_fips_endpoint",nA=!1,oA={environmentVariableSelector:e=>(0,ft.booleanSelector)(e,tp,ft.SelectorType.ENV),configFileSelector:e=>(0,ft.booleanSelector)(e,rp,ft.SelectorType.CONFIG),default:!1},go=Ne(),iA=ke(e=>{let{endpoint:t,urlParser:r}=e;return{...e,tls:e.tls??!0,endpoint:(0,go.normalizeProvider)(typeof t=="string"?r(t):t),isCustomEndpoint:!0,useDualstackEndpoint:(0,go.normalizeProvider)(e.useDualstackEndpoint??!1)}},"resolveCustomEndpointsConfig"),sA=ke(async e=>{let{tls:t=!0}=e,r=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");let o=await e.useDualstackEndpoint(),i=await e.useFipsEndpoint(),{hostname:s}=await e.regionInfoProvider(r,{useDualstackEndpoint:o,useFipsEndpoint:i})??{};if(!s)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${t?"https:":"http:"}//${s}`)},"getEndpointFromRegion"),aA=ke(e=>{let t=(0,go.normalizeProvider)(e.useDualstackEndpoint??!1),{endpoint:r,useFipsEndpoint:n,urlParser:o}=e;return{...e,tls:e.tls??!0,endpoint:r?(0,go.normalizeProvider)(typeof r=="string"?o(r):r):()=>sA({...e,useDualstackEndpoint:t,useFipsEndpoint:n}),isCustomEndpoint:!!r,useDualstackEndpoint:t}},"resolveEndpointsConfig"),np="AWS_REGION",op="region",cA={environmentVariableSelector:e=>e[np],configFileSelector:e=>e[op],default:()=>{throw new Error("Region is missing")}},lA={preferredFile:"credentials"},ip=ke(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),Yu=ke(e=>ip(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),dA=ke(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return{...e,region:async()=>{if(typeof t=="string")return Yu(t);let n=await t();return Yu(n)},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return ip(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}}},"resolveRegionConfig"),Xu=ke((e=[],{useFipsEndpoint:t,useDualstackEndpoint:r})=>{var n;return(n=e.find(({tags:o})=>t===o.includes("fips")&&r===o.includes("dualstack")))==null?void 0:n.hostname},"getHostnameFromVariants"),uA=ke((e,{regionHostname:t,partitionHostname:r})=>t||(r?r.replace("{region}",e):void 0),"getResolvedHostname"),pA=ke((e,{partitionHash:t})=>Object.keys(t||{}).find(r=>t[r].regions.includes(e))??"aws","getResolvedPartition"),fA=ke((e,{signingRegion:t,regionRegex:r,useFipsEndpoint:n})=>{if(t)return t;if(n){let o=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),i=e.match(o);if(i)return i[0].slice(1,-1)}},"getResolvedSigningRegion"),mA=ke((e,{useFipsEndpoint:t=!1,useDualstackEndpoint:r=!1,signingService:n,regionHash:o,partitionHash:i})=>{var s,a,c,l,d;let u=pA(e,{partitionHash:i}),p=e in o?e:((s=i[u])==null?void 0:s.endpoint)??e,f={useFipsEndpoint:t,useDualstackEndpoint:r},h=Xu((a=o[p])==null?void 0:a.variants,f),y=Xu((c=i[u])==null?void 0:c.variants,f),S=uA(p,{regionHostname:h,partitionHostname:y});if(S===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:p,useFipsEndpoint:t,useDualstackEndpoint:r}}`);let x=fA(S,{signingRegion:(l=o[p])==null?void 0:l.signingRegion,regionRegex:i[u].regionRegex,useFipsEndpoint:t});return{partition:u,signingService:n,hostname:S,...x&&{signingRegion:x},...((d=o[p])==null?void 0:d.signingService)&&{signingService:o[p].signingService}}},"getRegionInfo")});function gA(e){let t=new Map;for(let r of e)t.set(r.schemeId,r);return t}var Mz,ap,rn,vo=R(()=>{Mz=z(je()),ap=z(Ne());rn=(e,t)=>(r,n)=>async o=>{let i=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,n,o.input)),s=gA(e.httpAuthSchemes),a=(0,ap.getSmithyContext)(n),c=[];for(let l of i){let d=s.get(l.schemeId);if(!d){c.push(`HttpAuthScheme \`${l.schemeId}\` was not enabled for this service.`);continue}let u=d.identityProvider(await t.identityProviderConfigProvider(e));if(!u){c.push(`HttpAuthScheme \`${l.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:p={},signingProperties:f={}}=l.propertiesExtractor?.(e,n)||{};l.identityProperties=Object.assign(l.identityProperties||{},p),l.signingProperties=Object.assign(l.signingProperties||{},f),a.selectedHttpAuthScheme={httpAuthOption:l,identity:await u(l.identityProperties),signer:d.signer};break}if(!a.selectedHttpAuthScheme)throw new Error(c.join(`
`));return r(o)}});var fe=g((Lz,gp)=>{var _o=Object.defineProperty,hA=Object.getOwnPropertyDescriptor,vA=Object.getOwnPropertyNames,_A=Object.prototype.hasOwnProperty,Bt=(e,t)=>_o(e,"name",{value:t,configurable:!0}),yA=(e,t)=>{for(var r in t)_o(e,r,{get:t[r],enumerable:!0})},EA=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of vA(t))!_A.call(e,o)&&o!==r&&_o(e,o,{get:()=>t[o],enumerable:!(n=hA(t,o))||n.enumerable});return e},SA=e=>EA(_o({},"__esModule",{value:!0}),e),cp={};yA(cp,{CredentialsProviderError:()=>wA,ProviderError:()=>yo,TokenProviderError:()=>xA,chain:()=>bA,fromStatic:()=>CA,memoize:()=>PA});gp.exports=SA(cp);var lp=class dp extends Error{constructor(t,r=!0){var n;let o,i=!0;typeof r=="boolean"?(o=void 0,i=r):r!=null&&typeof r=="object"&&(o=r.logger,i=r.tryNextLink??!0),super(t),this.name="ProviderError",this.tryNextLink=i,Object.setPrototypeOf(this,dp.prototype),(n=o?.debug)==null||n.call(o,`@smithy/property-provider ${i?"->":"(!)"} ${t}`)}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}};Bt(lp,"ProviderError");var yo=lp,up=class pp extends yo{constructor(t,r=!0){super(t,r),this.name="CredentialsProviderError",Object.setPrototypeOf(this,pp.prototype)}};Bt(up,"CredentialsProviderError");var wA=up,fp=class mp extends yo{constructor(t,r=!0){super(t,r),this.name="TokenProviderError",Object.setPrototypeOf(this,mp.prototype)}};Bt(fp,"TokenProviderError");var xA=fp,bA=Bt((...e)=>async()=>{if(e.length===0)throw new yo("No providers in chain");let t;for(let r of e)try{return await r()}catch(n){if(t=n,n?.tryNextLink)continue;throw n}throw t},"chain"),CA=Bt(e=>()=>Promise.resolve(e),"fromStatic"),PA=Bt((e,t,r)=>{let n,o,i,s=!1,a=Bt(async()=>{o||(o=e());try{n=await o,i=!0,s=!1}finally{o=void 0}return n},"coalesceProvider");return t===void 0?async c=>((!i||c?.forceRefresh)&&(n=await a()),n):async c=>((!i||c?.forceRefresh)&&(n=await a()),s?n:r&&!r(n)?(s=!0,n):(t(n)&&await a(),n))},"memoize")});var nn=g(Eo=>{"use strict";Object.defineProperty(Eo,"__esModule",{value:!0});Eo.getHomeDir=void 0;var RA=D("os"),OA=D("path"),da={},AA=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",TA=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${OA.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let o=AA();return da[o]||(da[o]=(0,RA.homedir)()),da[o]};Eo.getHomeDir=TA});var ua=g(So=>{"use strict";Object.defineProperty(So,"__esModule",{value:!0});So.getSSOTokenFilepath=void 0;var IA=D("crypto"),NA=D("path"),kA=nn(),DA=e=>{let r=(0,IA.createHash)("sha1").update(e).digest("hex");return(0,NA.join)((0,kA.getHomeDir)(),".aws","sso","cache",`${r}.json`)};So.getSSOTokenFilepath=DA});var hp=g(wo=>{"use strict";Object.defineProperty(wo,"__esModule",{value:!0});wo.getSSOTokenFromFile=void 0;var MA=D("fs"),FA=ua(),{readFile:UA}=MA.promises,LA=async e=>{let t=(0,FA.getSSOTokenFilepath)(e),r=await UA(t,"utf8");return JSON.parse(r)};wo.getSSOTokenFromFile=LA});var fa=g(xo=>{"use strict";Object.defineProperty(xo,"__esModule",{value:!0});xo.slurpFile=void 0;var qA=D("fs"),{readFile:jA}=qA.promises,pa={},BA=(e,t)=>((!pa[e]||t?.ignoreCache)&&(pa[e]=jA(e,"utf8")),pa[e]);xo.slurpFile=BA});var mt=g(($z,sn)=>{var Co=Object.defineProperty,HA=Object.getOwnPropertyDescriptor,$A=Object.getOwnPropertyNames,GA=Object.prototype.hasOwnProperty,_e=(e,t)=>Co(e,"name",{value:t,configurable:!0}),zA=(e,t)=>{for(var r in t)Co(e,r,{get:t[r],enumerable:!0})},ma=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of $A(t))!GA.call(e,o)&&o!==r&&Co(e,o,{get:()=>t[o],enumerable:!(n=HA(t,o))||n.enumerable});return e},ha=(e,t,r)=>(ma(e,t,"default"),r&&ma(r,t,"default")),VA=e=>ma(Co({},"__esModule",{value:!0}),e),on={};zA(on,{CONFIG_PREFIX_SEPARATOR:()=>Ht,DEFAULT_PROFILE:()=>Ep,ENV_PROFILE:()=>yp,getProfileName:()=>WA,loadSharedConfigFiles:()=>xp,loadSsoSessionData:()=>iT,parseKnownFiles:()=>aT});sn.exports=VA(on);ha(on,nn(),sn.exports);var yp="AWS_PROFILE",Ep="default",WA=_e(e=>e.profile||process.env[yp]||Ep,"getProfileName");ha(on,ua(),sn.exports);ha(on,hp(),sn.exports);var bo=je(),KA=_e(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(Ht);return r===-1?!1:Object.values(bo.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let o=r.indexOf(Ht),i=r.substring(0,o)===bo.IniSectionType.PROFILE?r.substring(o+1):r;return t[i]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),Sp=D("path"),JA=nn(),YA="AWS_CONFIG_FILE",wp=_e(()=>process.env[YA]||(0,Sp.join)((0,JA.getHomeDir)(),".aws","config"),"getConfigFilepath"),XA=nn(),QA="AWS_SHARED_CREDENTIALS_FILE",ZA=_e(()=>process.env[QA]||(0,Sp.join)((0,XA.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),eT=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,tT=["__proto__","profile __proto__"],ga=_e(e=>{let t={},r,n;for(let o of e.split(/\r?\n/)){let i=o.split(/(^|\s)[;#]/)[0].trim();if(i[0]==="["&&i[i.length-1]==="]"){r=void 0,n=void 0;let a=i.substring(1,i.length-1),c=eT.exec(a);if(c){let[,l,,d]=c;Object.values(bo.IniSectionType).includes(l)&&(r=[l,d].join(Ht))}else r=a;if(tT.includes(a))throw new Error(`Found invalid profile name "${a}"`)}else if(r){let a=i.indexOf("=");if(![0,-1].includes(a)){let[c,l]=[i.substring(0,a).trim(),i.substring(a+1).trim()];if(l==="")n=c;else{n&&o.trimStart()===o&&(n=void 0),t[r]=t[r]||{};let d=n?[n,c].join(Ht):c;t[r][d]=l}}}}return t},"parseIni"),vp=fa(),_p=_e(()=>({}),"swallowError"),Ht=".",xp=_e(async(e={})=>{let{filepath:t=ZA(),configFilepath:r=wp()}=e,n=await Promise.all([(0,vp.slurpFile)(r,{ignoreCache:e.ignoreCache}).then(ga).then(KA).catch(_p),(0,vp.slurpFile)(t,{ignoreCache:e.ignoreCache}).then(ga).catch(_p)]);return{configFile:n[0],credentialsFile:n[1]}},"loadSharedConfigFiles"),rT=_e(e=>Object.entries(e).filter(([t])=>t.startsWith(bo.IniSectionType.SSO_SESSION+Ht)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(Ht)+1)]:n}),{}),"getSsoSessionData"),nT=fa(),oT=_e(()=>({}),"swallowError"),iT=_e(async(e={})=>(0,nT.slurpFile)(e.configFilepath??wp()).then(ga).then(rT).catch(oT),"loadSsoSessionData"),sT=_e((...e)=>{let t={};for(let r of e)for(let[n,o]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],o):t[n]=o;return t},"mergeConfigFiles"),aT=_e(async e=>{let t=await xp(e);return sT(t.configFile,t.credentialsFile)},"parseKnownFiles")});var et=g((Gz,Pp)=>{var Po=Object.defineProperty,cT=Object.getOwnPropertyDescriptor,lT=Object.getOwnPropertyNames,dT=Object.prototype.hasOwnProperty,or=(e,t)=>Po(e,"name",{value:t,configurable:!0}),uT=(e,t)=>{for(var r in t)Po(e,r,{get:t[r],enumerable:!0})},pT=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of lT(t))!dT.call(e,o)&&o!==r&&Po(e,o,{get:()=>t[o],enumerable:!(n=cT(t,o))||n.enumerable});return e},fT=e=>pT(Po({},"__esModule",{value:!0}),e),Cp={};uT(Cp,{loadConfig:()=>_T});Pp.exports=fT(Cp);var an=fe();function va(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}or(va,"getSelectorName");var mT=or((e,t)=>async()=>{try{let r=e(process.env);if(r===void 0)throw new Error;return r}catch(r){throw new an.CredentialsProviderError(r.message||`Not found in ENV: ${va(e.toString())}`,{logger:t})}},"fromEnv"),bp=mt(),gT=or((e,{preferredFile:t="config",...r}={})=>async()=>{let n=(0,bp.getProfileName)(r),{configFile:o,credentialsFile:i}=await(0,bp.loadSharedConfigFiles)(r),s=i[n]||{},a=o[n]||{},c=t==="config"?{...s,...a}:{...a,...s};try{let d=e(c,t==="config"?o:i);if(d===void 0)throw new Error;return d}catch(l){throw new an.CredentialsProviderError(l.message||`Not found in config files w/ profile [${n}]: ${va(e.toString())}`,{logger:r.logger})}},"fromSharedConfigFiles"),hT=or(e=>typeof e=="function","isFunction"),vT=or(e=>hT(e)?async()=>await e():(0,an.fromStatic)(e),"fromStatic"),_T=or(({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>(0,an.memoize)((0,an.chain)(mT(e),gT(t,n),vT(r))),"loadConfig")});var Tp=g(Ro=>{"use strict";Object.defineProperty(Ro,"__esModule",{value:!0});Ro.getEndpointUrlConfig=void 0;var Rp=mt(),Op="AWS_ENDPOINT_URL",Ap="endpoint_url",yT=e=>({environmentVariableSelector:t=>{let r=e.split(" ").map(i=>i.toUpperCase()),n=t[[Op,...r].join("_")];if(n)return n;let o=t[Op];if(o)return o},configFileSelector:(t,r)=>{if(r&&t.services){let o=r[["services",t.services].join(Rp.CONFIG_PREFIX_SEPARATOR)];if(o){let i=e.split(" ").map(a=>a.toLowerCase()),s=o[[i.join("_"),Ap].join(Rp.CONFIG_PREFIX_SEPARATOR)];if(s)return s}}let n=t[Ap];if(n)return n},default:void 0});Ro.getEndpointUrlConfig=yT});var Ip=g(Oo=>{"use strict";Object.defineProperty(Oo,"__esModule",{value:!0});Oo.getEndpointFromConfig=void 0;var ET=et(),ST=Tp(),wT=async e=>(0,ET.loadConfig)((0,ST.getEndpointUrlConfig)(e))();Oo.getEndpointFromConfig=wT});var Mp=g((Wz,Dp)=>{var Ao=Object.defineProperty,xT=Object.getOwnPropertyDescriptor,bT=Object.getOwnPropertyNames,CT=Object.prototype.hasOwnProperty,PT=(e,t)=>Ao(e,"name",{value:t,configurable:!0}),RT=(e,t)=>{for(var r in t)Ao(e,r,{get:t[r],enumerable:!0})},OT=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of bT(t))!CT.call(e,o)&&o!==r&&Ao(e,o,{get:()=>t[o],enumerable:!(n=xT(t,o))||n.enumerable});return e},AT=e=>OT(Ao({},"__esModule",{value:!0}),e),Np={};RT(Np,{parseQueryString:()=>kp});Dp.exports=AT(Np);function kp(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[n,o=null]=r.split("=");n=decodeURIComponent(n),o&&(o=decodeURIComponent(o)),n in t?Array.isArray(t[n])?t[n].push(o):t[n]=[t[n],o]:t[n]=o}return t}PT(kp,"parseQueryString")});var $t=g((Kz,Lp)=>{var To=Object.defineProperty,TT=Object.getOwnPropertyDescriptor,IT=Object.getOwnPropertyNames,NT=Object.prototype.hasOwnProperty,kT=(e,t)=>To(e,"name",{value:t,configurable:!0}),DT=(e,t)=>{for(var r in t)To(e,r,{get:t[r],enumerable:!0})},MT=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of IT(t))!NT.call(e,o)&&o!==r&&To(e,o,{get:()=>t[o],enumerable:!(n=TT(t,o))||n.enumerable});return e},FT=e=>MT(To({},"__esModule",{value:!0}),e),Fp={};DT(Fp,{parseUrl:()=>Up});Lp.exports=FT(Fp);var UT=Mp(),Up=kT(e=>{if(typeof e=="string")return Up(new URL(e));let{hostname:t,pathname:r,port:n,protocol:o,search:i}=e,s;return i&&(s=(0,UT.parseQueryString)(i)),{hostname:t,port:n?parseInt(n):void 0,protocol:o,path:r,query:s}},"parseUrl")});var Gt=g((Jz,zp)=>{var Io=Object.defineProperty,LT=Object.getOwnPropertyDescriptor,qT=Object.getOwnPropertyNames,jT=Object.prototype.hasOwnProperty,_a=(e,t)=>Io(e,"name",{value:t,configurable:!0}),BT=(e,t)=>{for(var r in t)Io(e,r,{get:t[r],enumerable:!0})},HT=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of qT(t))!jT.call(e,o)&&o!==r&&Io(e,o,{get:()=>t[o],enumerable:!(n=LT(t,o))||n.enumerable});return e},$T=e=>HT(Io({},"__esModule",{value:!0}),e),qp={};BT(qp,{deserializerMiddleware:()=>jp,deserializerMiddlewareOption:()=>Hp,getSerdePlugin:()=>Gp,serializerMiddleware:()=>Bp,serializerMiddlewareOption:()=>$p});zp.exports=$T(qp);var jp=_a((e,t)=>r=>async n=>{let{response:o}=await r(n);try{let i=await t(o,e);return{response:o,output:i}}catch(i){if(Object.defineProperty(i,"$response",{value:o}),!("$metadata"in i)){let s="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";i.message+=`
  `+s,typeof i.$responseBodyText<"u"&&i.$response&&(i.$response.body=i.$responseBodyText)}throw i}},"deserializerMiddleware"),Bp=_a((e,t)=>(r,n)=>async o=>{var i;let s=(i=n.endpointV2)!=null&&i.url&&e.urlParser?async()=>e.urlParser(n.endpointV2.url):e.endpoint;if(!s)throw new Error("No valid endpoint provider available.");let a=await t(o.input,{...e,endpoint:s});return r({...o,request:a})},"serializerMiddleware"),Hp={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},$p={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function Gp(e,t,r){return{applyToStack:n=>{n.add(jp(e,r),Hp),n.add(Bp(e,t),$p)}}}_a(Gp,"getSerdePlugin")});var zt=g((Yz,Qp)=>{var ko=Object.defineProperty,GT=Object.getOwnPropertyDescriptor,zT=Object.getOwnPropertyNames,VT=Object.prototype.hasOwnProperty,De=(e,t)=>ko(e,"name",{value:t,configurable:!0}),WT=(e,t)=>{for(var r in t)ko(e,r,{get:t[r],enumerable:!0})},KT=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of zT(t))!VT.call(e,o)&&o!==r&&ko(e,o,{get:()=>t[o],enumerable:!(n=GT(t,o))||n.enumerable});return e},JT=e=>KT(ko({},"__esModule",{value:!0}),e),Wp={};WT(Wp,{endpointMiddleware:()=>Yp,endpointMiddlewareOptions:()=>Xp,getEndpointFromInstructions:()=>Kp,getEndpointPlugin:()=>iI,resolveEndpointConfig:()=>sI,resolveParams:()=>Jp,toEndpointV1:()=>ya});Qp.exports=JT(Wp);var YT=De(async e=>{let t=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),tI(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!eI(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},"resolveParamsForS3"),XT=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,QT=/(\d+\.){3}\d+/,ZT=/\.\./,eI=De(e=>XT.test(e)&&!QT.test(e)&&!ZT.test(e),"isDnsCompatibleBucketName"),tI=De(e=>{let[t,r,n,,,o]=e.split(":"),i=t==="arn"&&e.split(":").length>=6,s=!!(i&&r&&n&&o);if(i&&!s)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return s},"isArnBucketName"),rI=De((e,t,r)=>{let n=De(async()=>{let o=r[e]??r[t];return typeof o=="function"?o():o},"configProvider");return e==="credentialScope"||t==="CredentialScope"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.credentialScope??o?.CredentialScope}:e==="endpoint"||t==="endpoint"?async()=>{let o=await n();if(o&&typeof o=="object"){if("url"in o)return o.url.href;if("hostname"in o){let{protocol:i,hostname:s,port:a,path:c}=o;return`${i}//${s}${a?":"+a:""}${c}`}}return o}:n},"createConfigValueProvider"),nI=Ip(),Vp=$t(),ya=De(e=>typeof e=="object"?"url"in e?(0,Vp.parseUrl)(e.url):e:(0,Vp.parseUrl)(e),"toEndpointV1"),Kp=De(async(e,t,r,n)=>{if(!r.endpoint){let s=await(0,nI.getEndpointFromConfig)(r.serviceId||"");s&&(r.endpoint=()=>Promise.resolve(ya(s)))}let o=await Jp(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(o,n)},"getEndpointFromInstructions"),Jp=De(async(e,t,r)=>{var n;let o={},i=((n=t?.getEndpointParameterInstructions)==null?void 0:n.call(t))||{};for(let[s,a]of Object.entries(i))switch(a.type){case"staticContextParams":o[s]=a.value;break;case"contextParams":o[s]=e[a.name];break;case"clientContextParams":case"builtInParams":o[s]=await rI(a.name,s,r)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(a))}return Object.keys(i).length===0&&Object.assign(o,r),String(r.serviceId).toLowerCase()==="s3"&&await YT(o),o},"resolveParams"),No=Ne(),Yp=De(({config:e,instructions:t})=>(r,n)=>async o=>{var i,s,a;let c=await Kp(o.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=c,n.authSchemes=(i=c.properties)==null?void 0:i.authSchemes;let l=(s=n.authSchemes)==null?void 0:s[0];if(l){n.signing_region=l.signingRegion,n.signing_service=l.signingName;let d=(0,No.getSmithyContext)(n),u=(a=d?.selectedHttpAuthScheme)==null?void 0:a.httpAuthOption;u&&(u.signingProperties=Object.assign(u.signingProperties||{},{signing_region:l.signingRegion,signingRegion:l.signingRegion,signing_service:l.signingName,signingName:l.signingName,signingRegionSet:l.signingRegionSet},l.properties))}return r({...o})},"endpointMiddleware"),oI=Gt(),Xp={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:oI.serializerMiddlewareOption.name},iI=De((e,t)=>({applyToStack:r=>{r.addRelativeTo(Yp({config:e,instructions:t}),Xp)}}),"getEndpointPlugin"),sI=De(e=>{let t=e.tls??!0,{endpoint:r}=e,n=r!=null?async()=>ya(await(0,No.normalizeProvider)(r)()):void 0;return{...e,endpoint:n,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:(0,No.normalizeProvider)(e.useDualstackEndpoint??!1),useFipsEndpoint:(0,No.normalizeProvider)(e.useFipsEndpoint??!1)}},"resolveEndpointConfig")});var Zp,ef,aI,tf=R(()=>{Zp=z(zt());vo();ef={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:Zp.endpointMiddlewareOptions.name},aI=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(rn(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),ef)}})});var rf,nf,cI,of=R(()=>{rf=z(Gt());vo();nf={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:rf.serializerMiddlewareOption.name},cI=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(rn(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),nf)}})});var sf=R(()=>{vo();tf();of()});var af,i4,cf,lI,dI,Ea,Sa=R(()=>{af=z(Q()),i4=z(je()),cf=z(Ne()),lI=e=>t=>{throw t},dI=(e,t)=>{},Ea=e=>(t,r)=>async n=>{if(!af.HttpRequest.isInstance(n.request))return t(n);let i=(0,cf.getSmithyContext)(r).selectedHttpAuthScheme;if(!i)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:s={}},identity:a,signer:c}=i,l=await t({...n,request:await c.sign(n.request,a,s)}).catch((c.errorHandler||lI)(s));return(c.successHandler||dI)(l.response,s),l}});import uI from"crypto";function cn(){return Do>Mo.length-16&&(uI.randomFillSync(Mo),Do=0),Mo.slice(Do,Do+=16)}var Mo,Do,wa=R(()=>{Mo=new Uint8Array(256),Do=Mo.length});var lf,df=R(()=>{lf=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function pI(e){return typeof e=="string"&&lf.test(e)}var gt,ln=R(()=>{df();gt=pI});function Vt(e,t=0){return ee[e[t+0]]+ee[e[t+1]]+ee[e[t+2]]+ee[e[t+3]]+"-"+ee[e[t+4]]+ee[e[t+5]]+"-"+ee[e[t+6]]+ee[e[t+7]]+"-"+ee[e[t+8]]+ee[e[t+9]]+"-"+ee[e[t+10]]+ee[e[t+11]]+ee[e[t+12]]+ee[e[t+13]]+ee[e[t+14]]+ee[e[t+15]]}function fI(e,t=0){let r=Vt(e,t);if(!gt(r))throw TypeError("Stringified UUID is invalid");return r}var ee,uf,dn=R(()=>{ln();ee=[];for(let e=0;e<256;++e)ee.push((e+256).toString(16).slice(1));uf=fI});function mI(e,t,r){let n=t&&r||0,o=t||new Array(16);e=e||{};let i=e.node||pf,s=e.clockseq!==void 0?e.clockseq:xa;if(i==null||s==null){let p=e.random||(e.rng||cn)();i==null&&(i=pf=[p[0]|1,p[1],p[2],p[3],p[4],p[5]]),s==null&&(s=xa=(p[6]<<8|p[7])&16383)}let a=e.msecs!==void 0?e.msecs:Date.now(),c=e.nsecs!==void 0?e.nsecs:Ca+1,l=a-ba+(c-Ca)/1e4;if(l<0&&e.clockseq===void 0&&(s=s+1&16383),(l<0||a>ba)&&e.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");ba=a,Ca=c,xa=s,a+=122192928e5;let d=((a&268435455)*1e4+c)%4294967296;o[n++]=d>>>24&255,o[n++]=d>>>16&255,o[n++]=d>>>8&255,o[n++]=d&255;let u=a/4294967296*1e4&268435455;o[n++]=u>>>8&255,o[n++]=u&255,o[n++]=u>>>24&15|16,o[n++]=u>>>16&255,o[n++]=s>>>8|128,o[n++]=s&255;for(let p=0;p<6;++p)o[n+p]=i[p];return t||Vt(o)}var pf,xa,ba,Ca,ff,mf=R(()=>{wa();dn();ba=0,Ca=0;ff=mI});function gI(e){if(!gt(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var Fo,Pa=R(()=>{ln();Fo=gI});function hI(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}function un(e,t,r){function n(o,i,s,a){var c;if(typeof o=="string"&&(o=hI(o)),typeof i=="string"&&(i=Fo(i)),((c=i)===null||c===void 0?void 0:c.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+o.length);if(l.set(i),l.set(o,i.length),l=r(l),l[6]=l[6]&15|t,l[8]=l[8]&63|128,s){a=a||0;for(let d=0;d<16;++d)s[a+d]=l[d];return s}return Vt(l)}try{n.name=e}catch{}return n.DNS=vI,n.URL=_I,n}var vI,_I,Ra=R(()=>{dn();Pa();vI="6ba7b810-9dad-11d1-80b4-00c04fd430c8",_I="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});import yI from"crypto";function EI(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),yI.createHash("md5").update(e).digest()}var gf,hf=R(()=>{gf=EI});var SI,vf,_f=R(()=>{Ra();hf();SI=un("v3",48,gf),vf=SI});import wI from"crypto";var Oa,yf=R(()=>{Oa={randomUUID:wI.randomUUID}});function xI(e,t,r){if(Oa.randomUUID&&!t&&!e)return Oa.randomUUID();e=e||{};let n=e.random||(e.rng||cn)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let o=0;o<16;++o)t[r+o]=n[o];return t}return Vt(n)}var Ef,Sf=R(()=>{yf();wa();dn();Ef=xI});import bI from"crypto";function CI(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),bI.createHash("sha1").update(e).digest()}var wf,xf=R(()=>{wf=CI});var PI,bf,Cf=R(()=>{Ra();xf();PI=un("v5",80,wf),bf=PI});var Pf,Rf=R(()=>{Pf="00000000-0000-0000-0000-000000000000"});function RI(e){if(!gt(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}var Of,Af=R(()=>{ln();Of=RI});var Tf={};Yr(Tf,{NIL:()=>Pf,parse:()=>Fo,stringify:()=>uf,v1:()=>ff,v3:()=>vf,v4:()=>Ef,v5:()=>bf,validate:()=>gt,version:()=>Of});var If=R(()=>{mf();_f();Sf();Cf();Rf();Af();ln();dn();Pa()});var Aa=g((X4,Mf)=>{var Uo=Object.defineProperty,OI=Object.getOwnPropertyDescriptor,AI=Object.getOwnPropertyNames,TI=Object.prototype.hasOwnProperty,ir=(e,t)=>Uo(e,"name",{value:t,configurable:!0}),II=(e,t)=>{for(var r in t)Uo(e,r,{get:t[r],enumerable:!0})},NI=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of AI(t))!TI.call(e,o)&&o!==r&&Uo(e,o,{get:()=>t[o],enumerable:!(n=OI(t,o))||n.enumerable});return e},kI=e=>NI(Uo({},"__esModule",{value:!0}),e),Nf={};II(Nf,{isClockSkewCorrectedError:()=>kf,isClockSkewError:()=>jI,isRetryableByTrait:()=>qI,isServerError:()=>HI,isThrottlingError:()=>BI,isTransientError:()=>Df});Mf.exports=kI(Nf);var DI=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],MI=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],FI=["TimeoutError","RequestTimeout","RequestTimeoutException"],UI=[500,502,503,504],LI=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],qI=ir(e=>e.$retryable!==void 0,"isRetryableByTrait"),jI=ir(e=>DI.includes(e.name),"isClockSkewError"),kf=ir(e=>{var t;return(t=e.$metadata)==null?void 0:t.clockSkewCorrected},"isClockSkewCorrectedError"),BI=ir(e=>{var t,r;return((t=e.$metadata)==null?void 0:t.httpStatusCode)===429||MI.includes(e.name)||((r=e.$retryable)==null?void 0:r.throttling)==!0},"isThrottlingError"),Df=ir(e=>{var t;return kf(e)||FI.includes(e.name)||LI.includes(e?.code||"")||UI.includes(((t=e.$metadata)==null?void 0:t.httpStatusCode)||0)},"isTransientError"),HI=ir(e=>{var t;if(((t=e.$metadata)==null?void 0:t.httpStatusCode)!==void 0){let r=e.$metadata.httpStatusCode;return 500<=r&&r<=599&&!Df(e)}return!1},"isServerError")});var sr=g((rV,Kf)=>{var Lo=Object.defineProperty,$I=Object.getOwnPropertyDescriptor,GI=Object.getOwnPropertyNames,zI=Object.prototype.hasOwnProperty,Me=(e,t)=>Lo(e,"name",{value:t,configurable:!0}),VI=(e,t)=>{for(var r in t)Lo(e,r,{get:t[r],enumerable:!0})},WI=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of GI(t))!zI.call(e,o)&&o!==r&&Lo(e,o,{get:()=>t[o],enumerable:!(n=$I(t,o))||n.enumerable});return e},KI=e=>WI(Lo({},"__esModule",{value:!0}),e),Uf={};VI(Uf,{AdaptiveRetryStrategy:()=>eN,ConfiguredRetryStrategy:()=>tN,DEFAULT_MAX_ATTEMPTS:()=>Ta,DEFAULT_RETRY_DELAY_BASE:()=>pn,DEFAULT_RETRY_MODE:()=>JI,DefaultRateLimiter:()=>jf,INITIAL_RETRY_TOKENS:()=>Ia,INVOCATION_ID_HEADER:()=>XI,MAXIMUM_RETRY_DELAY:()=>Na,NO_RETRY_INCREMENT:()=>Gf,REQUEST_HEADER:()=>QI,RETRY_COST:()=>Hf,RETRY_MODES:()=>Lf,StandardRetryStrategy:()=>ka,THROTTLING_RETRY_DELAY_BASE:()=>Bf,TIMEOUT_RETRY_COST:()=>$f});Kf.exports=KI(Uf);var Lf=(e=>(e.STANDARD="standard",e.ADAPTIVE="adaptive",e))(Lf||{}),Ta=3,JI="standard",YI=Aa(),qf=class{constructor(t){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=t?.beta??.7,this.minCapacity=t?.minCapacity??1,this.minFillRate=t?.minFillRate??.5,this.scaleConstant=t?.scaleConstant??.4,this.smooth=t?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>setTimeout(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),(0,YI.isThrottlingError)(t)){let o=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=o,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(o),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}};Me(qf,"DefaultRateLimiter");var jf=qf,pn=100,Na=20*1e3,Bf=500,Ia=500,Hf=5,$f=10,Gf=1,XI="amz-sdk-invocation-id",QI="amz-sdk-request",ZI=Me(()=>{let e=pn;return{computeNextBackoffDelay:Me(n=>Math.floor(Math.min(Na,Math.random()*2**n*e)),"computeNextBackoffDelay"),setDelayBase:Me(n=>{e=n},"setDelayBase")}},"getDefaultRetryBackoffStrategy"),Ff=Me(({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:Me(()=>t,"getRetryCount"),getRetryDelay:Me(()=>Math.min(Na,e),"getRetryDelay"),getRetryCost:Me(()=>r,"getRetryCost")}),"createDefaultRetryToken"),zf=class{constructor(t){this.maxAttempts=t,this.mode="standard",this.capacity=Ia,this.retryBackoffStrategy=ZI(),this.maxAttemptsProvider=typeof t=="function"?t:async()=>t}async acquireInitialRetryToken(t){return Ff({retryDelay:pn,retryCount:0})}async refreshRetryTokenForRetry(t,r){let n=await this.getMaxAttempts();if(this.shouldRetry(t,r,n)){let o=r.errorType;this.retryBackoffStrategy.setDelayBase(o==="THROTTLING"?Bf:pn);let i=this.retryBackoffStrategy.computeNextBackoffDelay(t.getRetryCount()),s=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,i):i,a=this.getCapacityCost(o);return this.capacity-=a,Ff({retryDelay:s,retryCount:t.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(t){this.capacity=Math.max(Ia,this.capacity+(t.getRetryCost()??Gf))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${Ta}`),Ta}}shouldRetry(t,r,n){return t.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(t){return t==="TRANSIENT"?$f:Hf}isRetryableError(t){return t==="THROTTLING"||t==="TRANSIENT"}};Me(zf,"StandardRetryStrategy");var ka=zf,Vf=class{constructor(t,r){this.maxAttemptsProvider=t,this.mode="adaptive";let{rateLimiter:n}=r??{};this.rateLimiter=n??new jf,this.standardRetryStrategy=new ka(t)}async acquireInitialRetryToken(t){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(t)}async refreshRetryTokenForRetry(t,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(t,r)}recordSuccess(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}};Me(Vf,"AdaptiveRetryStrategy");var eN=Vf,Wf=class extends ka{constructor(t,r=pn){super(typeof t=="function"?t:async()=>t),typeof r=="number"?this.computeNextBackoffDelay=()=>r:this.computeNextBackoffDelay=r}async refreshRetryTokenForRetry(t,r){let n=await super.refreshRetryTokenForRetry(t,r);return n.getRetryDelay=()=>this.computeNextBackoffDelay(n.getRetryCount()),n}};Me(Wf,"ConfiguredRetryStrategy");var tN=Wf});var Zf=g((nV,Qf)=>{var qo=Object.defineProperty,rN=Object.getOwnPropertyDescriptor,nN=Object.getOwnPropertyNames,oN=Object.prototype.hasOwnProperty,ye=(e,t)=>qo(e,"name",{value:t,configurable:!0}),iN=(e,t)=>{for(var r in t)qo(e,r,{get:t[r],enumerable:!0})},sN=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of nN(t))!oN.call(e,o)&&o!==r&&qo(e,o,{get:()=>t[o],enumerable:!(n=rN(t,o))||n.enumerable});return e},aN=e=>sN(qo({},"__esModule",{value:!0}),e),Xf={};iN(Xf,{constructStack:()=>Da});Qf.exports=aN(Xf);var Wt=ye((e,t)=>{let r=[];if(e&&r.push(e),t)for(let n of t)r.push(n);return r},"getAllAliases"),ht=ye((e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,"getMiddlewareNameWithAliases"),Da=ye(()=>{let e=[],t=[],r=!1,n=new Set,o=ye(u=>u.sort((p,f)=>Jf[f.step]-Jf[p.step]||Yf[f.priority||"normal"]-Yf[p.priority||"normal"]),"sort"),i=ye(u=>{let p=!1,f=ye(h=>{let y=Wt(h.name,h.aliases);if(y.includes(u)){p=!0;for(let S of y)n.delete(S);return!1}return!0},"filterCb");return e=e.filter(f),t=t.filter(f),p},"removeByName"),s=ye(u=>{let p=!1,f=ye(h=>{if(h.middleware===u){p=!0;for(let y of Wt(h.name,h.aliases))n.delete(y);return!1}return!0},"filterCb");return e=e.filter(f),t=t.filter(f),p},"removeByReference"),a=ye(u=>{var p;return e.forEach(f=>{u.add(f.middleware,{...f})}),t.forEach(f=>{u.addRelativeTo(f.middleware,{...f})}),(p=u.identifyOnResolve)==null||p.call(u,d.identifyOnResolve()),u},"cloneTo"),c=ye(u=>{let p=[];return u.before.forEach(f=>{f.before.length===0&&f.after.length===0?p.push(f):p.push(...c(f))}),p.push(u),u.after.reverse().forEach(f=>{f.before.length===0&&f.after.length===0?p.push(f):p.push(...c(f))}),p},"expandRelativeMiddlewareList"),l=ye((u=!1)=>{let p=[],f=[],h={};return e.forEach(S=>{let x={...S,before:[],after:[]};for(let O of Wt(x.name,x.aliases))h[O]=x;p.push(x)}),t.forEach(S=>{let x={...S,before:[],after:[]};for(let O of Wt(x.name,x.aliases))h[O]=x;f.push(x)}),f.forEach(S=>{if(S.toMiddleware){let x=h[S.toMiddleware];if(x===void 0){if(u)return;throw new Error(`${S.toMiddleware} is not found when adding ${ht(S.name,S.aliases)} middleware ${S.relation} ${S.toMiddleware}`)}S.relation==="after"&&x.after.push(S),S.relation==="before"&&x.before.push(S)}}),o(p).map(c).reduce((S,x)=>(S.push(...x),S),[])},"getMiddlewareList"),d={add:(u,p={})=>{let{name:f,override:h,aliases:y}=p,S={step:"initialize",priority:"normal",middleware:u,...p},x=Wt(f,y);if(x.length>0){if(x.some(O=>n.has(O))){if(!h)throw new Error(`Duplicate middleware name '${ht(f,y)}'`);for(let O of x){let U=e.findIndex(G=>{var ut;return G.name===O||((ut=G.aliases)==null?void 0:ut.some(jt=>jt===O))});if(U===-1)continue;let B=e[U];if(B.step!==S.step||S.priority!==B.priority)throw new Error(`"${ht(B.name,B.aliases)}" middleware with ${B.priority} priority in ${B.step} step cannot be overridden by "${ht(f,y)}" middleware with ${S.priority} priority in ${S.step} step.`);e.splice(U,1)}}for(let O of x)n.add(O)}e.push(S)},addRelativeTo:(u,p)=>{let{name:f,override:h,aliases:y}=p,S={middleware:u,...p},x=Wt(f,y);if(x.length>0){if(x.some(O=>n.has(O))){if(!h)throw new Error(`Duplicate middleware name '${ht(f,y)}'`);for(let O of x){let U=t.findIndex(G=>{var ut;return G.name===O||((ut=G.aliases)==null?void 0:ut.some(jt=>jt===O))});if(U===-1)continue;let B=t[U];if(B.toMiddleware!==S.toMiddleware||B.relation!==S.relation)throw new Error(`"${ht(B.name,B.aliases)}" middleware ${B.relation} "${B.toMiddleware}" middleware cannot be overridden by "${ht(f,y)}" middleware ${S.relation} "${S.toMiddleware}" middleware.`);t.splice(U,1)}}for(let O of x)n.add(O)}t.push(S)},clone:()=>a(Da()),use:u=>{u.applyToStack(d)},remove:u=>typeof u=="string"?i(u):s(u),removeByTag:u=>{let p=!1,f=ye(h=>{let{tags:y,name:S,aliases:x}=h;if(y&&y.includes(u)){let O=Wt(S,x);for(let U of O)n.delete(U);return p=!0,!1}return!0},"filterCb");return e=e.filter(f),t=t.filter(f),p},concat:u=>{var p;let f=a(Da());return f.use(u),f.identifyOnResolve(r||f.identifyOnResolve()||(((p=u.identifyOnResolve)==null?void 0:p.call(u))??!1)),f},applyToStack:a,identify:()=>l(!0).map(u=>{let p=u.step??u.relation+" "+u.toMiddleware;return ht(u.name,u.aliases)+" - "+p}),identifyOnResolve(u){return typeof u=="boolean"&&(r=u),r},resolve:(u,p)=>{for(let f of l().map(h=>h.middleware).reverse())u=f(u,p);return r&&console.log(d.identify()),u}};return d},"constructStack"),Jf={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},Yf={high:3,normal:2,low:1}});var Ma=g((oV,tm)=>{var jo=Object.defineProperty,cN=Object.getOwnPropertyDescriptor,lN=Object.getOwnPropertyNames,dN=Object.prototype.hasOwnProperty,uN=(e,t)=>jo(e,"name",{value:t,configurable:!0}),pN=(e,t)=>{for(var r in t)jo(e,r,{get:t[r],enumerable:!0})},fN=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of lN(t))!dN.call(e,o)&&o!==r&&jo(e,o,{get:()=>t[o],enumerable:!(n=cN(t,o))||n.enumerable});return e},mN=e=>fN(jo({},"__esModule",{value:!0}),e),em={};pN(em,{isArrayBuffer:()=>gN});tm.exports=mN(em);var gN=uN(e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]","isArrayBuffer")});var ar=g((iV,om)=>{var Bo=Object.defineProperty,hN=Object.getOwnPropertyDescriptor,vN=Object.getOwnPropertyNames,_N=Object.prototype.hasOwnProperty,rm=(e,t)=>Bo(e,"name",{value:t,configurable:!0}),yN=(e,t)=>{for(var r in t)Bo(e,r,{get:t[r],enumerable:!0})},EN=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of vN(t))!_N.call(e,o)&&o!==r&&Bo(e,o,{get:()=>t[o],enumerable:!(n=hN(t,o))||n.enumerable});return e},SN=e=>EN(Bo({},"__esModule",{value:!0}),e),nm={};yN(nm,{fromArrayBuffer:()=>xN,fromString:()=>bN});om.exports=SN(nm);var wN=Ma(),Fa=D("buffer"),xN=rm((e,t=0,r=e.byteLength-t)=>{if(!(0,wN.isArrayBuffer)(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return Fa.Buffer.from(e,t,r)},"fromArrayBuffer"),bN=rm((e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?Fa.Buffer.from(e,t):Fa.Buffer.from(e)},"fromString")});var im=g(Ho=>{"use strict";Object.defineProperty(Ho,"__esModule",{value:!0});Ho.fromBase64=void 0;var CN=ar(),PN=/^[A-Za-z0-9+/]*={0,2}$/,RN=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!PN.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,CN.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};Ho.fromBase64=RN});var he=g((aV,lm)=>{var $o=Object.defineProperty,ON=Object.getOwnPropertyDescriptor,AN=Object.getOwnPropertyNames,TN=Object.prototype.hasOwnProperty,Ua=(e,t)=>$o(e,"name",{value:t,configurable:!0}),IN=(e,t)=>{for(var r in t)$o(e,r,{get:t[r],enumerable:!0})},NN=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of AN(t))!TN.call(e,o)&&o!==r&&$o(e,o,{get:()=>t[o],enumerable:!(n=ON(t,o))||n.enumerable});return e},kN=e=>NN($o({},"__esModule",{value:!0}),e),sm={};IN(sm,{fromUtf8:()=>cm,toUint8Array:()=>DN,toUtf8:()=>MN});lm.exports=kN(sm);var am=ar(),cm=Ua(e=>{let t=(0,am.fromString)(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},"fromUtf8"),DN=Ua(e=>typeof e=="string"?cm(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),"toUint8Array"),MN=Ua(e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,am.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("utf8")},"toUtf8")});var dm=g(Go=>{"use strict";Object.defineProperty(Go,"__esModule",{value:!0});Go.toBase64=void 0;var FN=ar(),UN=he(),LN=e=>{let t;if(typeof e=="string"?t=(0,UN.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,FN.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};Go.toBase64=LN});var vt=g((lV,zo)=>{var um=Object.defineProperty,qN=Object.getOwnPropertyDescriptor,jN=Object.getOwnPropertyNames,BN=Object.prototype.hasOwnProperty,La=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of jN(t))!BN.call(e,o)&&o!==r&&um(e,o,{get:()=>t[o],enumerable:!(n=qN(t,o))||n.enumerable});return e},pm=(e,t,r)=>(La(e,t,"default"),r&&La(r,t,"default")),HN=e=>La(um({},"__esModule",{value:!0}),e),qa={};zo.exports=HN(qa);pm(qa,im(),zo.exports);pm(qa,dm(),zo.exports)});var fm=g(Vo=>{"use strict";Object.defineProperty(Vo,"__esModule",{value:!0});Vo.getAwsChunkedEncodingStream=void 0;var $N=D("stream"),GN=(e,t)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:o,checksumLocationName:i,streamHasher:s}=t,a=r!==void 0&&o!==void 0&&i!==void 0&&s!==void 0,c=a?s(o,e):void 0,l=new $N.Readable({read:()=>{}});return e.on("data",d=>{let u=n(d)||0;l.push(`${u.toString(16)}\r
`),l.push(d),l.push(`\r
`)}),e.on("end",async()=>{if(l.push(`0\r
`),a){let d=r(await c);l.push(`${i}:${d}\r
`),l.push(`\r
`)}l.push(null)}),l};Vo.getAwsChunkedEncodingStream=GN});var Ba=g((uV,hm)=>{var Wo=Object.defineProperty,zN=Object.getOwnPropertyDescriptor,VN=Object.getOwnPropertyNames,WN=Object.prototype.hasOwnProperty,ja=(e,t)=>Wo(e,"name",{value:t,configurable:!0}),KN=(e,t)=>{for(var r in t)Wo(e,r,{get:t[r],enumerable:!0})},JN=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of VN(t))!WN.call(e,o)&&o!==r&&Wo(e,o,{get:()=>t[o],enumerable:!(n=zN(t,o))||n.enumerable});return e},YN=e=>JN(Wo({},"__esModule",{value:!0}),e),mm={};KN(mm,{escapeUri:()=>gm,escapeUriPath:()=>QN});hm.exports=YN(mm);var gm=ja(e=>encodeURIComponent(e).replace(/[!'()*]/g,XN),"escapeUri"),XN=ja(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,"hexEncode"),QN=ja(e=>e.split("/").map(gm).join("/"),"escapeUriPath")});var $a=g((pV,ym)=>{var Ko=Object.defineProperty,ZN=Object.getOwnPropertyDescriptor,ek=Object.getOwnPropertyNames,tk=Object.prototype.hasOwnProperty,rk=(e,t)=>Ko(e,"name",{value:t,configurable:!0}),nk=(e,t)=>{for(var r in t)Ko(e,r,{get:t[r],enumerable:!0})},ok=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of ek(t))!tk.call(e,o)&&o!==r&&Ko(e,o,{get:()=>t[o],enumerable:!(n=ZN(t,o))||n.enumerable});return e},ik=e=>ok(Ko({},"__esModule",{value:!0}),e),vm={};nk(vm,{buildQueryString:()=>_m});ym.exports=ik(vm);var Ha=Ba();function _m(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=(0,Ha.escapeUri)(r),Array.isArray(n))for(let o=0,i=n.length;o<i;o++)t.push(`${r}=${(0,Ha.escapeUri)(n[o])}`);else{let o=r;(n||typeof n=="string")&&(o+=`=${(0,Ha.escapeUri)(n)}`),t.push(o)}}return t.join("&")}rk(_m,"buildQueryString")});var Kt=g((hV,Fm)=>{var sk=Object.create,fn=Object.defineProperty,ak=Object.getOwnPropertyDescriptor,ck=Object.getOwnPropertyNames,lk=Object.getPrototypeOf,dk=Object.prototype.hasOwnProperty,V=(e,t)=>fn(e,"name",{value:t,configurable:!0}),uk=(e,t)=>{for(var r in t)fn(e,r,{get:t[r],enumerable:!0})},wm=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of ck(t))!dk.call(e,o)&&o!==r&&fn(e,o,{get:()=>t[o],enumerable:!(n=ak(t,o))||n.enumerable});return e},pk=(e,t,r)=>(r=e!=null?sk(lk(e)):{},wm(t||!e||!e.__esModule?fn(r,"default",{value:e,enumerable:!0}):r,e)),fk=e=>wm(fn({},"__esModule",{value:!0}),e),xm={};uk(xm,{DEFAULT_REQUEST_TIMEOUT:()=>_k,NodeHttp2Handler:()=>xk,NodeHttpHandler:()=>yk,streamCollector:()=>Ck});Fm.exports=fk(xm);var bm=Q(),Cm=$a(),Ga=D("http"),za=D("https"),mk=["ECONNRESET","EPIPE","ETIMEDOUT"],Pm=V(e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t},"getTransformedHeaders"),gk=V((e,t,r=0)=>{if(!r)return;let n=setTimeout(()=>{e.destroy(),t(Object.assign(new Error(`Socket timed out without establishing a connection within ${r} ms`),{name:"TimeoutError"}))},r);e.on("socket",o=>{o.connecting?o.on("connect",()=>{clearTimeout(n)}):clearTimeout(n)})},"setConnectionTimeout"),hk=V((e,{keepAlive:t,keepAliveMsecs:r})=>{t===!0&&e.on("socket",n=>{n.setKeepAlive(t,r||0)})},"setSocketKeepAlive"),vk=V((e,t,r=0)=>{e.setTimeout(r,()=>{e.destroy(),t(Object.assign(new Error(`Connection timed out after ${r} ms`),{name:"TimeoutError"}))})},"setSocketTimeout"),Rm=D("stream"),Em=1e3;async function Wa(e,t,r=Em){let n=t.headers??{},o=n.Expect||n.expect,i=-1,s=!1;o==="100-continue"&&await Promise.race([new Promise(a=>{i=Number(setTimeout(a,Math.max(Em,r)))}),new Promise(a=>{e.on("continue",()=>{clearTimeout(i),a()}),e.on("error",()=>{s=!0,clearTimeout(i),a()})})]),s||Om(e,t.body)}V(Wa,"writeRequestBody");function Om(e,t){if(t instanceof Rm.Readable){t.pipe(e);return}if(t){if(Buffer.isBuffer(t)||typeof t=="string"){e.end(t);return}let r=t;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){e.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}e.end(Buffer.from(t));return}e.end()}V(Om,"writeBody");var _k=0,Am=class Va{constructor(t){this.socketWarningTimestamp=0,this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(this.resolveDefaultConfig(o))}).catch(n):r(this.resolveDefaultConfig(t))})}static create(t){return typeof t?.handle=="function"?t:new Va(t)}static checkSocketUsage(t,r){var n,o;let{sockets:i,requests:s,maxSockets:a}=t;if(typeof a!="number"||a===1/0)return r;let c=15e3;if(Date.now()-c<r)return r;if(i&&s)for(let l in i){let d=((n=i[l])==null?void 0:n.length)??0,u=((o=s[l])==null?void 0:o.length)??0;if(d>=a&&u>=2*a)return console.warn("@smithy/node-http-handler:WARN",`socket usage at capacity=${d} and ${u} additional requests are enqueued.`,"See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html","or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config."),Date.now()}return r}resolveDefaultConfig(t){let{requestTimeout:r,connectionTimeout:n,socketTimeout:o,httpAgent:i,httpsAgent:s}=t||{},a=!0,c=50;return{connectionTimeout:n,requestTimeout:r??o,httpAgent:(()=>i instanceof Ga.Agent||typeof i?.destroy=="function"?i:new Ga.Agent({keepAlive:a,maxSockets:c,...i}))(),httpsAgent:(()=>s instanceof za.Agent||typeof s?.destroy=="function"?s:new za.Agent({keepAlive:a,maxSockets:c,...s}))()}}destroy(){var t,r,n,o;(r=(t=this.config)==null?void 0:t.httpAgent)==null||r.destroy(),(o=(n=this.config)==null?void 0:n.httpsAgent)==null||o.destroy()}async handle(t,{abortSignal:r}={}){this.config||(this.config=await this.configProvider);let n;return new Promise((o,i)=>{let s,a=V(async O=>{await s,clearTimeout(n),o(O)},"resolve"),c=V(async O=>{await s,i(O)},"reject");if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(r?.aborted){let O=new Error("Request aborted");O.name="AbortError",c(O);return}let l=t.protocol==="https:",d=l?this.config.httpsAgent:this.config.httpAgent;n=setTimeout(()=>{this.socketWarningTimestamp=Va.checkSocketUsage(d,this.socketWarningTimestamp)},this.config.socketAcquisitionWarningTimeout??(this.config.requestTimeout??2e3)+(this.config.connectionTimeout??1e3));let u=(0,Cm.buildQueryString)(t.query||{}),p;if(t.username!=null||t.password!=null){let O=t.username??"",U=t.password??"";p=`${O}:${U}`}let f=t.path;u&&(f+=`?${u}`),t.fragment&&(f+=`#${t.fragment}`);let h={headers:t.headers,host:t.hostname,method:t.method,path:f,port:t.port,agent:d,auth:p},S=(l?za.request:Ga.request)(h,O=>{let U=new bm.HttpResponse({statusCode:O.statusCode||-1,reason:O.statusMessage,headers:Pm(O.headers),body:O});a({response:U})});S.on("error",O=>{mk.includes(O.code)?c(Object.assign(O,{name:"TimeoutError"})):c(O)}),gk(S,c,this.config.connectionTimeout),vk(S,c,this.config.requestTimeout),r&&(r.onabort=()=>{S.abort();let O=new Error("Request aborted");O.name="AbortError",c(O)});let x=h.agent;typeof x=="object"&&"keepAlive"in x&&hk(S,{keepAlive:x.keepAlive,keepAliveMsecs:x.keepAliveMsecs}),s=Wa(S,t,this.config.requestTimeout).catch(i)})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}};V(Am,"NodeHttpHandler");var yk=Am,Sm=D("http2"),Ek=pk(D("http2")),Tm=class{constructor(t){this.sessions=[],this.sessions=t??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(t){this.sessions.push(t)}contains(t){return this.sessions.includes(t)}remove(t){this.sessions=this.sessions.filter(r=>r!==t)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(t){for(let r of this.sessions)r===t&&(r.destroyed||r.destroy())}};V(Tm,"NodeHttp2ConnectionPool");var Sk=Tm,Im=class{constructor(t){if(this.sessionCache=new Map,this.config=t,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}lease(t,r){let n=this.getUrlString(t),o=this.sessionCache.get(n);if(o){let c=o.poll();if(c&&!this.config.disableConcurrency)return c}let i=Ek.default.connect(n);this.config.maxConcurrency&&i.settings({maxConcurrentStreams:this.config.maxConcurrency},c=>{if(c)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+t.destination.toString())}),i.unref();let s=V(()=>{i.destroy(),this.deleteSession(n,i)},"destroySessionCb");i.on("goaway",s),i.on("error",s),i.on("frameError",s),i.on("close",()=>this.deleteSession(n,i)),r.requestTimeout&&i.setTimeout(r.requestTimeout,s);let a=this.sessionCache.get(n)||new Sk;return a.offerLast(i),this.sessionCache.set(n,a),i}deleteSession(t,r){let n=this.sessionCache.get(t);n&&n.contains(r)&&(n.remove(r),this.sessionCache.set(t,n))}release(t,r){var n;let o=this.getUrlString(t);(n=this.sessionCache.get(o))==null||n.offerLast(r)}destroy(){for(let[t,r]of this.sessionCache){for(let n of r)n.destroyed||n.destroy(),r.remove(n);this.sessionCache.delete(t)}}setMaxConcurrentStreams(t){if(this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=t}setDisableConcurrentStreams(t){this.config.disableConcurrency=t}getUrlString(t){return t.destination.toString()}};V(Im,"NodeHttp2ConnectionManager");var wk=Im,Nm=class km{constructor(t){this.metadata={handlerProtocol:"h2"},this.connectionManager=new wk({}),this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(o||{})}).catch(n):r(t||{})})}static create(t){return typeof t?.handle=="function"?t:new km(t)}destroy(){this.connectionManager.destroy()}async handle(t,{abortSignal:r}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:n,disableConcurrentStreams:o}=this.config;return new Promise((i,s)=>{var a;let c=!1,l,d=V(async $=>{await l,i($)},"resolve"),u=V(async $=>{await l,s($)},"reject");if(r?.aborted){c=!0;let $=new Error("Request aborted");$.name="AbortError",u($);return}let{hostname:p,method:f,port:h,protocol:y,query:S}=t,x="";if(t.username!=null||t.password!=null){let $=t.username??"",Jr=t.password??"";x=`${$}:${Jr}@`}let O=`${y}//${x}${p}${h?`:${h}`:""}`,U={destination:new URL(O)},B=this.connectionManager.lease(U,{requestTimeout:(a=this.config)==null?void 0:a.sessionTimeout,disableConcurrentStreams:o||!1}),G=V($=>{o&&this.destroySession(B),c=!0,u($)},"rejectWithDestroy"),ut=(0,Cm.buildQueryString)(S||{}),jt=t.path;ut&&(jt+=`?${ut}`),t.fragment&&(jt+=`#${t.fragment}`);let Ie=B.request({...t.headers,[Sm.constants.HTTP2_HEADER_PATH]:jt,[Sm.constants.HTTP2_HEADER_METHOD]:f});B.ref(),Ie.on("response",$=>{let Jr=new bm.HttpResponse({statusCode:$[":status"]||-1,headers:Pm($),body:Ie});c=!0,d({response:Jr}),o&&(B.close(),this.connectionManager.deleteSession(O,B))}),n&&Ie.setTimeout(n,()=>{Ie.close();let $=new Error(`Stream timed out because of no activity for ${n} ms`);$.name="TimeoutError",G($)}),r&&(r.onabort=()=>{Ie.close();let $=new Error("Request aborted");$.name="AbortError",G($)}),Ie.on("frameError",($,Jr,BP)=>{G(new Error(`Frame type id ${$} in stream id ${BP} has failed with code ${Jr}.`))}),Ie.on("error",G),Ie.on("aborted",()=>{G(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${Ie.rstCode}.`))}),Ie.on("close",()=>{B.unref(),o&&B.destroy(),c||G(new Error("Unexpected error: http2 request did not get a response"))}),l=Wa(Ie,t,n)})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}destroySession(t){t.destroyed||t.destroy()}};V(Nm,"NodeHttp2Handler");var xk=Nm,Dm=class extends Rm.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}_write(t,r,n){this.bufferedBytes.push(t),n()}};V(Dm,"Collector");var bk=Dm,Ck=V(e=>Pk(e)?Mm(e):new Promise((t,r)=>{let n=new bk;e.pipe(n),e.on("error",o=>{n.end(),r(o)}),n.on("error",r),n.on("finish",function(){let o=new Uint8Array(Buffer.concat(this.bufferedBytes));t(o)})}),"streamCollector"),Pk=V(e=>typeof ReadableStream=="function"&&e instanceof ReadableStream,"isReadableStreamInstance");async function Mm(e){let t=[],r=e.getReader(),n=!1,o=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(t.push(c),o+=c.length),n=a}let i=new Uint8Array(o),s=0;for(let a of t)i.set(a,s),s+=a.length;return i}V(Mm,"collectReadableStream")});var Wm=g((vV,Vm)=>{var Jo=Object.defineProperty,Rk=Object.getOwnPropertyDescriptor,Ok=Object.getOwnPropertyNames,Ak=Object.prototype.hasOwnProperty,cr=(e,t)=>Jo(e,"name",{value:t,configurable:!0}),Tk=(e,t)=>{for(var r in t)Jo(e,r,{get:t[r],enumerable:!0})},Ik=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Ok(t))!Ak.call(e,o)&&o!==r&&Jo(e,o,{get:()=>t[o],enumerable:!(n=Rk(t,o))||n.enumerable});return e},Nk=e=>Ik(Jo({},"__esModule",{value:!0}),e),Lm={};Tk(Lm,{FetchHttpHandler:()=>Dk,keepAliveSupport:()=>jm,streamCollector:()=>Fk});Vm.exports=Nk(Lm);var Um=Q(),kk=$a();function qm(e=0){return new Promise((t,r)=>{e&&setTimeout(()=>{let n=new Error(`Request did not complete within ${e} ms`);n.name="TimeoutError",r(n)},e)})}cr(qm,"requestTimeout");var jm={supported:typeof Request<"u"&&"keepalive"in new Request("https://[::1]")},Bm=class Hm{static create(t){return typeof t?.handle=="function"?t:new Hm(t)}constructor(t){typeof t=="function"?this.configProvider=t().then(r=>r||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config))}destroy(){}async handle(t,{abortSignal:r}={}){this.config||(this.config=await this.configProvider);let n=this.config.requestTimeout,o=this.config.keepAlive===!0;if(r?.aborted){let y=new Error("Request aborted");return y.name="AbortError",Promise.reject(y)}let i=t.path,s=(0,kk.buildQueryString)(t.query||{});s&&(i+=`?${s}`),t.fragment&&(i+=`#${t.fragment}`);let a="";if(t.username!=null||t.password!=null){let y=t.username??"",S=t.password??"";a=`${y}:${S}@`}let{port:c,method:l}=t,d=`${t.protocol}//${a}${t.hostname}${c?`:${c}`:""}${i}`,u=l==="GET"||l==="HEAD"?void 0:t.body,p={body:u,headers:new Headers(t.headers),method:l};u&&(p.duplex="half"),typeof AbortController<"u"&&(p.signal=r),jm.supported&&(p.keepalive=o);let f=new Request(d,p),h=[fetch(f).then(y=>{let S=y.headers,x={};for(let U of S.entries())x[U[0]]=U[1];return y.body!=null?{response:new Um.HttpResponse({headers:x,reason:y.statusText,statusCode:y.status,body:y.body})}:y.blob().then(U=>({response:new Um.HttpResponse({headers:x,reason:y.statusText,statusCode:y.status,body:U})}))}),qm(n)];return r&&h.push(new Promise((y,S)=>{r.onabort=()=>{let x=new Error("Request aborted");x.name="AbortError",S(x)}})),Promise.race(h)}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[t]=r,n))}httpHandlerConfigs(){return this.config??{}}};cr(Bm,"FetchHttpHandler");var Dk=Bm,Mk=vt(),Fk=cr(e=>typeof Blob=="function"&&e instanceof Blob?$m(e):Gm(e),"streamCollector");async function $m(e){let t=await zm(e),r=(0,Mk.fromBase64)(t);return new Uint8Array(r)}cr($m,"collectBlob");async function Gm(e){let t=[],r=e.getReader(),n=!1,o=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(t.push(c),o+=c.length),n=a}let i=new Uint8Array(o),s=0;for(let a of t)i.set(a,s),s+=a.length;return i}cr(Gm,"collectStream");function zm(e){return new Promise((t,r)=>{let n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));let o=n.result??"",i=o.indexOf(","),s=i>-1?i+1:o.length;t(o.substring(s))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(e)})}cr(zm,"readToBase64")});var Ja=g((_V,Zm)=>{var Yo=Object.defineProperty,Uk=Object.getOwnPropertyDescriptor,Lk=Object.getOwnPropertyNames,qk=Object.prototype.hasOwnProperty,Km=(e,t)=>Yo(e,"name",{value:t,configurable:!0}),jk=(e,t)=>{for(var r in t)Yo(e,r,{get:t[r],enumerable:!0})},Bk=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Lk(t))!qk.call(e,o)&&o!==r&&Yo(e,o,{get:()=>t[o],enumerable:!(n=Uk(t,o))||n.enumerable});return e},Hk=e=>Bk(Yo({},"__esModule",{value:!0}),e),Jm={};jk(Jm,{fromHex:()=>Xm,toHex:()=>Qm});Zm.exports=Hk(Jm);var Ym={},Ka={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),Ym[e]=t,Ka[t]=e}function Xm(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in Ka)t[r/2]=Ka[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}Km(Xm,"fromHex");function Qm(e){let t="";for(let r=0;r<e.byteLength;r++)t+=Ym[e[r]];return t}Km(Qm,"toHex")});var ng=g(Xo=>{"use strict";Object.defineProperty(Xo,"__esModule",{value:!0});Xo.sdkStreamMixin=void 0;var $k=Wm(),Gk=vt(),zk=Ja(),Vk=he(),eg="The stream has already been transformed.",Wk=e=>{var t,r;if(!tg(e)&&!rg(e)){let s=((r=(t=e?.__proto__)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${s}`)}let n=!1,o=async()=>{if(n)throw new Error(eg);return n=!0,await(0,$k.streamCollector)(e)},i=s=>{if(typeof s.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return s.stream()};return Object.assign(e,{transformToByteArray:o,transformToString:async s=>{let a=await o();if(s==="base64")return(0,Gk.toBase64)(a);if(s==="hex")return(0,zk.toHex)(a);if(s===void 0||s==="utf8"||s==="utf-8")return(0,Vk.toUtf8)(a);if(typeof TextDecoder=="function")return new TextDecoder(s).decode(a);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(n)throw new Error(eg);if(n=!0,tg(e))return i(e);if(rg(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})};Xo.sdkStreamMixin=Wk;var tg=e=>typeof Blob=="function"&&e instanceof Blob,rg=e=>typeof ReadableStream=="function"&&e instanceof ReadableStream});var ig=g(Qo=>{"use strict";Object.defineProperty(Qo,"__esModule",{value:!0});Qo.sdkStreamMixin=void 0;var Kk=Kt(),Jk=ar(),Ya=D("stream"),Yk=D("util"),Xk=ng(),og="The stream has already been transformed.",Qk=e=>{var t,r;if(!(e instanceof Ya.Readable))try{return(0,Xk.sdkStreamMixin)(e)}catch{let s=((r=(t=e?.__proto__)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${s}`)}let n=!1,o=async()=>{if(n)throw new Error(og);return n=!0,await(0,Kk.streamCollector)(e)};return Object.assign(e,{transformToByteArray:o,transformToString:async i=>{let s=await o();return i===void 0||Buffer.isEncoding(i)?(0,Jk.fromArrayBuffer)(s.buffer,s.byteOffset,s.byteLength).toString(i):new Yk.TextDecoder(i).decode(s)},transformToWebStream:()=>{if(n)throw new Error(og);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof Ya.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please make sure you are using Node.js >= 17.0.0, or polyfill is available.");return n=!0,Ya.Readable.toWeb(e)}})};Qo.sdkStreamMixin=Qk});var ec=g((SV,ti)=>{var Zo=Object.defineProperty,Zk=Object.getOwnPropertyDescriptor,eD=Object.getOwnPropertyNames,tD=Object.prototype.hasOwnProperty,Za=(e,t)=>Zo(e,"name",{value:t,configurable:!0}),rD=(e,t)=>{for(var r in t)Zo(e,r,{get:t[r],enumerable:!0})},Xa=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of eD(t))!tD.call(e,o)&&o!==r&&Zo(e,o,{get:()=>t[o],enumerable:!(n=Zk(t,o))||n.enumerable});return e},sg=(e,t,r)=>(Xa(e,t,"default"),r&&Xa(r,t,"default")),nD=e=>Xa(Zo({},"__esModule",{value:!0}),e),ei={};rD(ei,{Uint8ArrayBlobAdapter:()=>Qa});ti.exports=nD(ei);var ag=vt(),cg=he();function lg(e,t="utf-8"){return t==="base64"?(0,ag.toBase64)(e):(0,cg.toUtf8)(e)}Za(lg,"transformToString");function dg(e,t){return t==="base64"?Qa.mutate((0,ag.fromBase64)(e)):Qa.mutate((0,cg.fromUtf8)(e))}Za(dg,"transformFromString");var ug=class pg extends Uint8Array{static fromString(t,r="utf-8"){switch(typeof t){case"string":return dg(t,r);default:throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}}static mutate(t){return Object.setPrototypeOf(t,pg.prototype),t}transformToString(t="utf-8"){return lg(this,t)}};Za(ug,"Uint8ArrayBlobAdapter");var Qa=ug;sg(ei,fm(),ti.exports);sg(ei,ig(),ti.exports)});var L=g((PV,Fg)=>{var si=Object.defineProperty,oD=Object.getOwnPropertyDescriptor,iD=Object.getOwnPropertyNames,sD=Object.prototype.hasOwnProperty,w=(e,t)=>si(e,"name",{value:t,configurable:!0}),aD=(e,t)=>{for(var r in t)si(e,r,{get:t[r],enumerable:!0})},cD=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of iD(t))!sD.call(e,o)&&o!==r&&si(e,o,{get:()=>t[o],enumerable:!(n=oD(t,o))||n.enumerable});return e},lD=e=>cD(si({},"__esModule",{value:!0}),e),mg={};aD(mg,{Client:()=>uD,Command:()=>yg,LazyJsonString:()=>a1,NoOpLogger:()=>dD,SENSITIVE_STRING:()=>mD,ServiceException:()=>JD,StringWrapper:()=>_n,_json:()=>ac,collectBody:()=>pD,convertMap:()=>c1,createAggregatedClient:()=>gD,dateToUtcString:()=>Pg,decorateServiceException:()=>Ag,emitWarningIfUnsupportedVersion:()=>ZD,expectBoolean:()=>vD,expectByte:()=>sc,expectFloat32:()=>ni,expectInt:()=>yD,expectInt32:()=>oc,expectLong:()=>hn,expectNonNull:()=>SD,expectNumber:()=>gn,expectObject:()=>Sg,expectShort:()=>ic,expectString:()=>wD,expectUnion:()=>xD,extendedEncodeURIComponent:()=>ii,getArrayIfSingleItem:()=>s1,getDefaultClientConfiguration:()=>o1,getDefaultExtensionConfiguration:()=>Ig,getValueFromTextNode:()=>Ng,handleFloat:()=>PD,limitedParseDouble:()=>dc,limitedParseFloat:()=>RD,limitedParseFloat32:()=>OD,loadConfigsForDefaultMode:()=>QD,logger:()=>vn,map:()=>pc,parseBoolean:()=>hD,parseEpochTimestamp:()=>jD,parseRfc3339DateTime:()=>kD,parseRfc3339DateTimeWithOffset:()=>MD,parseRfc7231DateTime:()=>qD,resolveDefaultRuntimeConfig:()=>i1,resolvedPath:()=>f1,serializeDateTime:()=>g1,serializeFloat:()=>m1,splitEvery:()=>Mg,strictParseByte:()=>Cg,strictParseDouble:()=>lc,strictParseFloat:()=>bD,strictParseFloat32:()=>wg,strictParseInt:()=>AD,strictParseInt32:()=>TD,strictParseLong:()=>bg,strictParseShort:()=>lr,take:()=>l1,throwDefaultError:()=>Tg,withBaseException:()=>YD});Fg.exports=lD(mg);var gg=class{trace(){}debug(){}info(){}warn(){}error(){}};w(gg,"NoOpLogger");var dD=gg,hg=Zf(),vg=class{constructor(t){this.middlewareStack=(0,hg.constructStack)(),this.config=t}send(t,r,n){let o=typeof r!="function"?r:void 0,i=typeof r=="function"?r:n,s=t.resolveMiddleware(this.middlewareStack,this.config,o);if(i)s(t).then(a=>i(null,a.output),a=>i(a)).catch(()=>{});else return s(t).then(a=>a.output)}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}};w(vg,"Client");var uD=vg,tc=ec(),pD=w(async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return tc.Uint8ArrayBlobAdapter.mutate(e);if(!e)return tc.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=t.streamCollector(e);return tc.Uint8ArrayBlobAdapter.mutate(await r)},"collectBody"),nc=je(),_g=class{constructor(){this.middlewareStack=(0,hg.constructStack)()}static classBuilder(){return new fD}resolveMiddlewareWithContext(t,r,n,{middlewareFn:o,clientName:i,commandName:s,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,smithyContext:l,additionalContext:d,CommandCtor:u}){for(let S of o.bind(this)(u,t,r,n))this.middlewareStack.use(S);let p=t.concat(this.middlewareStack),{logger:f}=r,h={logger:f,clientName:i,commandName:s,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,[nc.SMITHY_CONTEXT_KEY]:{...l},...d},{requestHandler:y}=r;return p.resolve(S=>y.handle(S.request,n||{}),h)}};w(_g,"Command");var yg=_g,Eg=class{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=t=>t,this._outputFilterSensitiveLog=t=>t,this._serializer=null,this._deserializer=null}init(t){this._init=t}ep(t){return this._ep=t,this}m(t){return this._middlewareFn=t,this}s(t,r,n={}){return this._smithyContext={service:t,operation:r,...n},this}c(t={}){return this._additionalContext=t,this}n(t,r){return this._clientName=t,this._commandName=r,this}f(t=n=>n,r=n=>n){return this._inputFilterSensitiveLog=t,this._outputFilterSensitiveLog=r,this}ser(t){return this._serializer=t,this}de(t){return this._deserializer=t,this}build(){var t;let r=this,n;return n=(t=class extends yg{constructor(...[o]){super(),this.serialize=r._serializer,this.deserialize=r._deserializer,this.input=o??{},r._init(this)}static getEndpointParameterInstructions(){return r._ep}resolveMiddleware(o,i,s){return this.resolveMiddlewareWithContext(o,i,s,{CommandCtor:n,middlewareFn:r._middlewareFn,clientName:r._clientName,commandName:r._commandName,inputFilterSensitiveLog:r._inputFilterSensitiveLog,outputFilterSensitiveLog:r._outputFilterSensitiveLog,smithyContext:r._smithyContext,additionalContext:r._additionalContext})}},w(t,"CommandRef"),t)}};w(Eg,"ClassBuilder");var fD=Eg,mD="***SensitiveInformation***",gD=w((e,t)=>{for(let r of Object.keys(e)){let n=e[r],o=w(async function(s,a,c){let l=new n(s);if(typeof a=="function")this.send(l,a);else if(typeof c=="function"){if(typeof a!="object")throw new Error(`Expected http options but got ${typeof a}`);this.send(l,a||{},c)}else return this.send(l,a)},"methodImpl"),i=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");t.prototype[i]=o}},"createAggregatedClient"),hD=w(e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},"parseBoolean"),vD=w(e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&vn.warn(oi(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let t=e.toLowerCase();if((t==="false"||t==="true")&&vn.warn(oi(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},"expectBoolean"),gn=w(e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&vn.warn(oi(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},"expectNumber"),_D=Math.ceil(2**127*(2-2**-23)),ni=w(e=>{let t=gn(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>_D)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},"expectFloat32"),hn=w(e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},"expectLong"),yD=hn,oc=w(e=>cc(e,32),"expectInt32"),ic=w(e=>cc(e,16),"expectShort"),sc=w(e=>cc(e,8),"expectByte"),cc=w((e,t)=>{let r=hn(e);if(r!==void 0&&ED(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},"expectSizedInt"),ED=w((e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},"castInt"),SD=w((e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},"expectNonNull"),Sg=w(e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},"expectObject"),wD=w(e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return vn.warn(oi(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},"expectString"),xD=w(e=>{if(e==null)return;let t=Sg(e),r=Object.entries(t).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t},"expectUnion"),lc=w(e=>gn(typeof e=="string"?ur(e):e),"strictParseDouble"),bD=lc,wg=w(e=>ni(typeof e=="string"?ur(e):e),"strictParseFloat32"),CD=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,ur=w(e=>{let t=e.match(CD);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},"parseNumber"),dc=w(e=>typeof e=="string"?xg(e):gn(e),"limitedParseDouble"),PD=dc,RD=dc,OD=w(e=>typeof e=="string"?xg(e):ni(e),"limitedParseFloat32"),xg=w(e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},"parseFloatString"),bg=w(e=>hn(typeof e=="string"?ur(e):e),"strictParseLong"),AD=bg,TD=w(e=>oc(typeof e=="string"?ur(e):e),"strictParseInt32"),lr=w(e=>ic(typeof e=="string"?ur(e):e),"strictParseShort"),Cg=w(e=>sc(typeof e=="string"?ur(e):e),"strictParseByte"),oi=w(e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),"stackTraceWarning"),vn={warn:console.warn},ID=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],uc=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Pg(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),o=e.getUTCDate(),i=e.getUTCHours(),s=e.getUTCMinutes(),a=e.getUTCSeconds(),c=o<10?`0${o}`:`${o}`,l=i<10?`0${i}`:`${i}`,d=s<10?`0${s}`:`${s}`,u=a<10?`0${a}`:`${a}`;return`${ID[n]}, ${c} ${uc[r]} ${t} ${l}:${d}:${u} GMT`}w(Pg,"dateToUtcString");var ND=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),kD=w(e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=ND.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,i,s,a,c,l]=t,d=lr(dr(n)),u=He(o,"month",1,12),p=He(i,"day",1,31);return mn(d,u,p,{hours:s,minutes:a,seconds:c,fractionalMilliseconds:l})},"parseRfc3339DateTime"),DD=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),MD=w(e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=DD.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,i,s,a,c,l,d]=t,u=lr(dr(n)),p=He(o,"month",1,12),f=He(i,"day",1,31),h=mn(u,p,f,{hours:s,minutes:a,seconds:c,fractionalMilliseconds:l});return d.toUpperCase()!="Z"&&h.setTime(h.getTime()-KD(d)),h},"parseRfc3339DateTimeWithOffset"),FD=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),UD=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),LD=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),qD=w(e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=FD.exec(e);if(t){let[r,n,o,i,s,a,c,l]=t;return mn(lr(dr(i)),rc(o),He(n,"day",1,31),{hours:s,minutes:a,seconds:c,fractionalMilliseconds:l})}if(t=UD.exec(e),t){let[r,n,o,i,s,a,c,l]=t;return $D(mn(BD(i),rc(o),He(n,"day",1,31),{hours:s,minutes:a,seconds:c,fractionalMilliseconds:l}))}if(t=LD.exec(e),t){let[r,n,o,i,s,a,c,l]=t;return mn(lr(dr(l)),rc(n),He(o.trimLeft(),"day",1,31),{hours:i,minutes:s,seconds:a,fractionalMilliseconds:c})}throw new TypeError("Invalid RFC-7231 date-time value")},"parseRfc7231DateTime"),jD=w(e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=lc(e);else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},"parseEpochTimestamp"),mn=w((e,t,r,n)=>{let o=t-1;return zD(e,o,r),new Date(Date.UTC(e,o,r,He(n.hours,"hour",0,23),He(n.minutes,"minute",0,59),He(n.seconds,"seconds",0,60),WD(n.fractionalMilliseconds)))},"buildDate"),BD=w(e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+lr(dr(e));return r<t?r+100:r},"parseTwoDigitYear"),HD=50*365*24*60*60*1e3,$D=w(e=>e.getTime()-new Date().getTime()>HD?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,"adjustRfc850Year"),rc=w(e=>{let t=uc.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},"parseMonthByShortName"),GD=[31,28,31,30,31,30,31,31,30,31,30,31],zD=w((e,t,r)=>{let n=GD[t];if(t===1&&VD(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${uc[t]} in ${e}: ${r}`)},"validateDayOfMonth"),VD=w(e=>e%4===0&&(e%100!==0||e%400===0),"isLeapYear"),He=w((e,t,r,n)=>{let o=Cg(dr(e));if(o<r||o>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return o},"parseDateValue"),WD=w(e=>e==null?0:wg("0."+e)*1e3,"parseMilliseconds"),KD=w(e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),o=Number(e.substring(4,6));return r*(n*60+o)*60*1e3},"parseOffsetToMilliseconds"),dr=w(e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)},"stripLeadingZeroes"),Rg=class Og extends Error{constructor(t){super(t.message),Object.setPrototypeOf(this,Og.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}};w(Rg,"ServiceException");var JD=Rg,Ag=w((e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,o])=>{(e[n]==null||e[n]==="")&&(e[n]=o)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},"decorateServiceException"),Tg=w(({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let o=XD(e),i=o.httpStatusCode?o.httpStatusCode+"":void 0,s=new r({name:t?.code||t?.Code||n||i||"UnknownError",$fault:"client",$metadata:o});throw Ag(s,t)},"throwDefaultError"),YD=w(e=>({output:t,parsedBody:r,errorCode:n})=>{Tg({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},"withBaseException"),XD=w(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),QD=w(e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},"loadConfigsForDefaultMode"),fg=!1,ZD=w(e=>{e&&!fg&&parseInt(e.substring(1,e.indexOf(".")))<16&&(fg=!0)},"emitWarningIfUnsupportedVersion"),e1=w(e=>{let t=[];for(let r in nc.AlgorithmId){let n=nc.AlgorithmId[r];e[n]!==void 0&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{_checksumAlgorithms:t,addChecksumAlgorithm(r){this._checksumAlgorithms.push(r)},checksumAlgorithms(){return this._checksumAlgorithms}}},"getChecksumConfiguration"),t1=w(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),r1=w(e=>{let t=e.retryStrategy;return{setRetryStrategy(r){t=r},retryStrategy(){return t}}},"getRetryConfiguration"),n1=w(e=>{let t={};return t.retryStrategy=e.retryStrategy(),t},"resolveRetryRuntimeConfig"),Ig=w(e=>({...e1(e),...r1(e)}),"getDefaultExtensionConfiguration"),o1=Ig,i1=w(e=>({...t1(e),...n1(e)}),"resolveDefaultRuntimeConfig");function ii(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}w(ii,"extendedEncodeURIComponent");var s1=w(e=>Array.isArray(e)?e:[e],"getArrayIfSingleItem"),Ng=w(e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=Ng(e[r]));return e},"getValueFromTextNode"),_n=w(function(){let e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,[null,...arguments]),r=new t;return Object.setPrototypeOf(r,e.prototype),r},"StringWrapper");_n.prototype=Object.create(String.prototype,{constructor:{value:_n,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(_n,String);var kg=class ri extends _n{deserializeJSON(){return JSON.parse(super.toString())}toJSON(){return super.toString()}static fromObject(t){return t instanceof ri?t:t instanceof String||typeof t=="string"?new ri(t):new ri(JSON.stringify(t))}};w(kg,"LazyJsonString");var a1=kg;function pc(e,t,r){let n,o,i;if(typeof t>"u"&&typeof r>"u")n={},i=e;else{if(n=e,typeof t=="function")return o=t,i=r,d1(n,o,i);i=t}for(let s of Object.keys(i)){if(!Array.isArray(i[s])){n[s]=i[s];continue}Dg(n,null,i,s)}return n}w(pc,"map");var c1=w(e=>{let t={};for(let[r,n]of Object.entries(e||{}))t[r]=[,n];return t},"convertMap"),l1=w((e,t)=>{let r={};for(let n in t)Dg(r,e,t,n);return r},"take"),d1=w((e,t,r)=>pc(e,Object.entries(r).reduce((n,[o,i])=>(Array.isArray(i)?n[o]=i:typeof i=="function"?n[o]=[t,i()]:n[o]=[t,i],n),{})),"mapWithFilter"),Dg=w((e,t,r,n)=>{if(t!==null){let s=r[n];typeof s=="function"&&(s=[,s]);let[a=u1,c=p1,l=n]=s;(typeof a=="function"&&a(t[l])||typeof a!="function"&&a)&&(e[n]=c(t[l]));return}let[o,i]=r[n];if(typeof i=="function"){let s,a=o===void 0&&(s=i())!=null,c=typeof o=="function"&&!!o(void 0)||typeof o!="function"&&!!o;a?e[n]=s:c&&(e[n]=i())}else{let s=o===void 0&&i!=null,a=typeof o=="function"&&!!o(i)||typeof o!="function"&&!!o;(s||a)&&(e[n]=i)}},"applyInstruction"),u1=w(e=>e!=null,"nonNullish"),p1=w(e=>e,"pass"),f1=w((e,t,r,n,o,i)=>{if(t!=null&&t[r]!==void 0){let s=n();if(s.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(o,i?s.split("/").map(a=>ii(a)).join("/"):ii(s))}else throw new Error("No value provided for input HTTP label: "+r+".");return e},"resolvedPath"),m1=w(e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},"serializeFloat"),g1=w(e=>e.toISOString().replace(".000Z","Z"),"serializeDateTime"),ac=w(e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(ac);if(typeof e=="object"){let t={};for(let r of Object.keys(e))e[r]!=null&&(t[r]=ac(e[r]));return t}return e},"_json");function Mg(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=e.split(t);if(r===1)return n;let o=[],i="";for(let s=0;s<n.length;s++)i===""?i=n[s]:i+=t+n[s],(s+1)%r===0&&(o.push(i),i="");return i!==""&&o.push(i),o}w(Mg,"splitEvery")});var Ug=g(ai=>{"use strict";Object.defineProperty(ai,"__esModule",{value:!0});ai.isStreamingPayload=void 0;var h1=D("stream"),v1=e=>e?.body instanceof h1.Readable||typeof ReadableStream<"u"&&e?.body instanceof ReadableStream;ai.isStreamingPayload=v1});var $e=g((IV,eh)=>{var ci=Object.defineProperty,_1=Object.getOwnPropertyDescriptor,y1=Object.getOwnPropertyNames,E1=Object.prototype.hasOwnProperty,W=(e,t)=>ci(e,"name",{value:t,configurable:!0}),S1=(e,t)=>{for(var r in t)ci(e,r,{get:t[r],enumerable:!0})},w1=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of y1(t))!E1.call(e,o)&&o!==r&&ci(e,o,{get:()=>t[o],enumerable:!(n=_1(t,o))||n.enumerable});return e},x1=e=>w1(ci({},"__esModule",{value:!0}),e),qg={};S1(qg,{AdaptiveRetryStrategy:()=>P1,CONFIG_MAX_ATTEMPTS:()=>mc,CONFIG_RETRY_MODE:()=>Kg,ENV_MAX_ATTEMPTS:()=>fc,ENV_RETRY_MODE:()=>Wg,NODE_MAX_ATTEMPT_CONFIG_OPTIONS:()=>R1,NODE_RETRY_MODE_CONFIG_OPTIONS:()=>A1,StandardRetryStrategy:()=>zg,defaultDelayDecider:()=>Bg,defaultRetryDecider:()=>Hg,getOmitRetryHeadersPlugin:()=>T1,getRetryAfterHint:()=>Zg,getRetryPlugin:()=>F1,omitRetryHeadersMiddleware:()=>Jg,omitRetryHeadersMiddlewareOptions:()=>Yg,resolveRetryConfig:()=>O1,retryMiddleware:()=>Xg,retryMiddlewareOptions:()=>Qg});eh.exports=x1(qg);var pr=Q(),jg=(If(),I(Tf)),H=sr(),b1=W((e,t)=>{let r=e,n=t?.noRetryIncrement??H.NO_RETRY_INCREMENT,o=t?.retryCost??H.RETRY_COST,i=t?.timeoutRetryCost??H.TIMEOUT_RETRY_COST,s=e,a=W(u=>u.name==="TimeoutError"?i:o,"getCapacityAmount"),c=W(u=>a(u)<=s,"hasRetryTokens");return Object.freeze({hasRetryTokens:c,retrieveRetryTokens:W(u=>{if(!c(u))throw new Error("No retry token available");let p=a(u);return s-=p,p},"retrieveRetryTokens"),releaseRetryTokens:W(u=>{s+=u??n,s=Math.min(s,r)},"releaseRetryTokens")})},"getDefaultRetryQuota"),Bg=W((e,t)=>Math.floor(Math.min(H.MAXIMUM_RETRY_DELAY,Math.random()*2**t*e)),"defaultDelayDecider"),_t=Aa(),Hg=W(e=>e?(0,_t.isRetryableByTrait)(e)||(0,_t.isClockSkewError)(e)||(0,_t.isThrottlingError)(e)||(0,_t.isTransientError)(e):!1,"defaultRetryDecider"),$g=W(e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),"asSdkError"),Gg=class{constructor(t,r){this.maxAttemptsProvider=t,this.mode=H.RETRY_MODES.STANDARD,this.retryDecider=r?.retryDecider??Hg,this.delayDecider=r?.delayDecider??Bg,this.retryQuota=r?.retryQuota??b1(H.INITIAL_RETRY_TOKENS)}shouldRetry(t,r,n){return r<n&&this.retryDecider(t)&&this.retryQuota.hasRetryTokens(t)}async getMaxAttempts(){let t;try{t=await this.maxAttemptsProvider()}catch{t=H.DEFAULT_MAX_ATTEMPTS}return t}async retry(t,r,n){let o,i=0,s=0,a=await this.getMaxAttempts(),{request:c}=r;for(pr.HttpRequest.isInstance(c)&&(c.headers[H.INVOCATION_ID_HEADER]=(0,jg.v4)());;)try{pr.HttpRequest.isInstance(c)&&(c.headers[H.REQUEST_HEADER]=`attempt=${i+1}; max=${a}`),n?.beforeRequest&&await n.beforeRequest();let{response:l,output:d}=await t(r);return n?.afterRequest&&n.afterRequest(l),this.retryQuota.releaseRetryTokens(o),d.$metadata.attempts=i+1,d.$metadata.totalRetryDelay=s,{response:l,output:d}}catch(l){let d=$g(l);if(i++,this.shouldRetry(d,i,a)){o=this.retryQuota.retrieveRetryTokens(d);let u=this.delayDecider((0,_t.isThrottlingError)(d)?H.THROTTLING_RETRY_DELAY_BASE:H.DEFAULT_RETRY_DELAY_BASE,i),p=C1(d.$response),f=Math.max(p||0,u);s+=f,await new Promise(h=>setTimeout(h,f));continue}throw d.$metadata||(d.$metadata={}),d.$metadata.attempts=i,d.$metadata.totalRetryDelay=s,d}}};W(Gg,"StandardRetryStrategy");var zg=Gg,C1=W(e=>{if(!pr.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(i=>i.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3},"getDelayFromRetryAfterHeader"),Vg=class extends zg{constructor(t,r){let{rateLimiter:n,...o}=r??{};super(t,o),this.rateLimiter=n??new H.DefaultRateLimiter,this.mode=H.RETRY_MODES.ADAPTIVE}async retry(t,r){return super.retry(t,r,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:n=>{this.rateLimiter.updateClientSendingRate(n)}})}};W(Vg,"AdaptiveRetryStrategy");var P1=Vg,Lg=Ne(),fc="AWS_MAX_ATTEMPTS",mc="max_attempts",R1={environmentVariableSelector:e=>{let t=e[fc];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${fc} mast be a number, got "${t}"`);return r},configFileSelector:e=>{let t=e[mc];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${mc} mast be a number, got "${t}"`);return r},default:H.DEFAULT_MAX_ATTEMPTS},O1=W(e=>{let{retryStrategy:t}=e,r=(0,Lg.normalizeProvider)(e.maxAttempts??H.DEFAULT_MAX_ATTEMPTS);return{...e,maxAttempts:r,retryStrategy:async()=>t||(await(0,Lg.normalizeProvider)(e.retryMode)()===H.RETRY_MODES.ADAPTIVE?new H.AdaptiveRetryStrategy(r):new H.StandardRetryStrategy(r))}},"resolveRetryConfig"),Wg="AWS_RETRY_MODE",Kg="retry_mode",A1={environmentVariableSelector:e=>e[Wg],configFileSelector:e=>e[Kg],default:H.DEFAULT_RETRY_MODE},Jg=W(()=>e=>async t=>{let{request:r}=t;return pr.HttpRequest.isInstance(r)&&(delete r.headers[H.INVOCATION_ID_HEADER],delete r.headers[H.REQUEST_HEADER]),e(t)},"omitRetryHeadersMiddleware"),Yg={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},T1=W(e=>({applyToStack:t=>{t.addRelativeTo(Jg(),Yg)}}),"getOmitRetryHeadersPlugin"),I1=L(),N1=Ug(),Xg=W(e=>(t,r)=>async n=>{var o;let i=await e.retryStrategy(),s=await e.maxAttempts();if(k1(i)){i=i;let a=await i.acquireInitialRetryToken(r.partition_id),c=new Error,l=0,d=0,{request:u}=n,p=pr.HttpRequest.isInstance(u);for(p&&(u.headers[H.INVOCATION_ID_HEADER]=(0,jg.v4)());;)try{p&&(u.headers[H.REQUEST_HEADER]=`attempt=${l+1}; max=${s}`);let{response:f,output:h}=await t(n);return i.recordSuccess(a),h.$metadata.attempts=l+1,h.$metadata.totalRetryDelay=d,{response:f,output:h}}catch(f){let h=D1(f);if(c=$g(f),p&&(0,N1.isStreamingPayload)(u))throw(o=r.logger instanceof I1.NoOpLogger?console:r.logger)==null||o.warn("An error was encountered in a non-retryable streaming request."),c;try{a=await i.refreshRetryTokenForRetry(a,h)}catch{throw c.$metadata||(c.$metadata={}),c.$metadata.attempts=l+1,c.$metadata.totalRetryDelay=d,c}l=a.getRetryCount();let y=a.getRetryDelay();d+=y,await new Promise(S=>setTimeout(S,y))}}else return i=i,i?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",i.mode]]),i.retry(t,n)},"retryMiddleware"),k1=W(e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u","isRetryStrategyV2"),D1=W(e=>{let t={error:e,errorType:M1(e)},r=Zg(e.$response);return r&&(t.retryAfterHint=r),t},"getRetryErrorInfo"),M1=W(e=>(0,_t.isThrottlingError)(e)?"THROTTLING":(0,_t.isTransientError)(e)?"TRANSIENT":(0,_t.isServerError)(e)?"SERVER_ERROR":"CLIENT_ERROR","getRetryErrorType"),Qg={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},F1=W(e=>({applyToStack:t=>{t.add(Xg(e),Qg)}}),"getRetryPlugin"),Zg=W(e=>{if(!pr.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(i=>i.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)},"getRetryAfterHint")});var th,rh,U1,nh=R(()=>{th=z($e());Sa();rh={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:th.retryMiddlewareOptions.name},U1=e=>({applyToStack:t=>{t.addRelativeTo(Ea(e),rh)}})});var oh=R(()=>{Sa();nh()});var gc,ih=R(()=>{gc=class{constructor(t){this.authSchemes=new Map;for(let[r,n]of Object.entries(t))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(t){return this.authSchemes.get(t)}}});var hc,vc,sh=R(()=>{hc=z(je()),vc=class{async sign(t,r,n){if(!n)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!n.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!n.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!r.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let o=t.clone();if(n.in===hc.HttpApiKeyAuthLocation.QUERY)o.query[n.name]=r.apiKey;else if(n.in===hc.HttpApiKeyAuthLocation.HEADER)o.headers[n.name]=n.scheme?`${n.scheme} ${r.apiKey}`:r.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+n.in+"`");return o}}});var _c,ah=R(()=>{_c=class{async sign(t,r,n){let o=t.clone();if(!r.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return o.headers.Authorization=`Bearer ${r.token}`,o}}});var yc,ch=R(()=>{yc=class{async sign(t,r,n){return t}}});var lh=R(()=>{sh();ah();ch()});var dh,L1,Ec,li,Sc,uh=R(()=>{dh=e=>t=>li(t)&&t.expiration.getTime()-Date.now()<e,L1=3e5,Ec=dh(3e5),li=e=>e.expiration!==void 0,Sc=(e,t,r)=>{if(e===void 0)return;let n=typeof e!="function"?async()=>Promise.resolve(e):e,o,i,s,a=!1,c=async l=>{i||(i=n(l));try{o=await i,s=!0,a=!1}finally{i=void 0}return o};return t===void 0?async l=>((!s||l?.forceRefresh)&&(o=await c(l)),o):async l=>((!s||l?.forceRefresh)&&(o=await c(l)),a?o:r(o)?(t(o)&&await c(l),o):(a=!0,o))}});var ph=R(()=>{ih();lh();uh()});var wc,q1,fh=R(()=>{wc=z(je()),q1=e=>e[wc.SMITHY_CONTEXT_KEY]||(e[wc.SMITHY_CONTEXT_KEY]={})});var fr,mh=R(()=>{fr=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t}});function j1(e,t){return new di(e,t)}var gh,hh,di,vh=R(()=>{gh=z(Q()),hh=z(L());di=class{constructor(t,r){this.input=t,this.context=r,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){let{hostname:t,protocol:r="https",port:n,path:o}=await this.context.endpoint();this.path=o;for(let i of this.resolvePathStack)i(this.path);return new gh.HttpRequest({protocol:r,hostname:this.hostname||t,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(t){return this.hostname=t,this}bp(t){return this.resolvePathStack.push(r=>{this.path=`${r?.endsWith("/")?r.slice(0,-1):r||""}`+t}),this}p(t,r,n,o){return this.resolvePathStack.push(i=>{this.path=(0,hh.resolvedPath)(i,this.input,t,r,n,o)}),this}h(t){return this.headers=t,this}q(t){return this.query=t,this}b(t){return this.body=t,this}m(t){return this.method=t,this}}});function _h(e,t,r,n,o){return async function*(s,a,...c){let l=s.startingToken||void 0,d=!0,u;for(;d;){if(a[r]=l,o&&(a[o]=a[o]??s.pageSize),s.client instanceof e)u=await B1(t,s.client,a,...c);else throw new Error(`Invalid client, expected instance of ${e.name}`);yield u;let p=l;l=H1(u,n),d=!!(l&&(!s.stopOnSameToken||l!==p))}return void 0}}var B1,H1,yh=R(()=>{B1=async(e,t,r,...n)=>await t.send(new e(r),...n);H1=(e,t)=>{let r=e,n=t.split(".");for(let o of n){if(!r||typeof r!="object")return;r=r[o]}return r}});var tt={};Yr(tt,{DefaultIdentityProviderConfig:()=>gc,EXPIRATION_MS:()=>L1,HttpApiKeyAuthSigner:()=>vc,HttpBearerAuthSigner:()=>_c,NoAuthSigner:()=>yc,RequestBuilder:()=>di,createIsIdentityExpiredFunction:()=>dh,createPaginator:()=>_h,doesIdentityRequireRefresh:()=>li,getHttpAuthSchemeEndpointRuleSetPlugin:()=>aI,getHttpAuthSchemePlugin:()=>cI,getHttpSigningPlugin:()=>U1,getSmithyContext:()=>q1,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>ef,httpAuthSchemeMiddleware:()=>rn,httpAuthSchemeMiddlewareOptions:()=>nf,httpSigningMiddleware:()=>Ea,httpSigningMiddlewareOptions:()=>rh,isIdentityExpired:()=>Ec,memoizeIdentityProvider:()=>Sc,normalizeProvider:()=>fr,requestBuilder:()=>j1});var Ge=R(()=>{sf();oh();ph();fh();mh();vh();yh()});var wh=g((aW,Sh)=>{var ui=Object.defineProperty,$1=Object.getOwnPropertyDescriptor,G1=Object.getOwnPropertyNames,z1=Object.prototype.hasOwnProperty,V1=(e,t)=>ui(e,"name",{value:t,configurable:!0}),W1=(e,t)=>{for(var r in t)ui(e,r,{get:t[r],enumerable:!0})},K1=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of G1(t))!z1.call(e,o)&&o!==r&&ui(e,o,{get:()=>t[o],enumerable:!(n=$1(t,o))||n.enumerable});return e},J1=e=>K1(ui({},"__esModule",{value:!0}),e),Eh={};W1(Eh,{resolveEventStreamSerdeConfig:()=>Y1});Sh.exports=J1(Eh);var Y1=V1(e=>({...e,eventStreamMarshaller:e.eventStreamSerdeProvider(e)}),"resolveEventStreamSerdeConfig")});var yn=g((cW,Rh)=>{var pi=Object.defineProperty,X1=Object.getOwnPropertyDescriptor,Q1=Object.getOwnPropertyNames,Z1=Object.prototype.hasOwnProperty,bh=(e,t)=>pi(e,"name",{value:t,configurable:!0}),eM=(e,t)=>{for(var r in t)pi(e,r,{get:t[r],enumerable:!0})},tM=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Q1(t))!Z1.call(e,o)&&o!==r&&pi(e,o,{get:()=>t[o],enumerable:!(n=X1(t,o))||n.enumerable});return e},rM=e=>tM(pi({},"__esModule",{value:!0}),e),Ch={};eM(Ch,{contentLengthMiddleware:()=>xc,contentLengthMiddlewareOptions:()=>Ph,getContentLengthPlugin:()=>oM});Rh.exports=rM(Ch);var nM=Q(),xh="content-length";function xc(e){return t=>async r=>{let n=r.request;if(nM.HttpRequest.isInstance(n)){let{body:o,headers:i}=n;if(o&&Object.keys(i).map(s=>s.toLowerCase()).indexOf(xh)===-1)try{let s=e(o);n.headers={...n.headers,[xh]:String(s)}}catch{}}return t({...r,request:n})}}bh(xc,"contentLengthMiddleware");var Ph={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},oM=bh(e=>({applyToStack:t=>{t.add(xc(e.bodyLengthChecker),Ph)}}),"getContentLengthPlugin")});var Oh,iM,Ah=R(()=>{Oh=!1,iM=e=>{e&&!Oh&&parseInt(e.substring(1,e.indexOf(".")))<16&&(Oh=!0)}});var Th=R(()=>{Ah()});var Ih,bc,Nh=R(()=>{Ih=z(Q()),bc=e=>Ih.HttpResponse.isInstance(e)?e.headers?.date??e.headers?.Date:void 0});var fi,Cc=R(()=>{fi=e=>new Date(Date.now()+e)});var kh,Dh=R(()=>{Cc();kh=(e,t)=>Math.abs(fi(t).getTime()-e)>=3e5});var Pc,Mh=R(()=>{Dh();Pc=(e,t)=>{let r=Date.parse(e);return kh(r,t)?r-Date.now():t}});var Fh=R(()=>{Nh();Cc();Mh()});var Uh,En,sM,mi,aM,Lh=R(()=>{Uh=z(Q());Fh();En=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},sM=async e=>{let t=En("context",e.context),r=En("config",e.config),n=t.endpointV2?.properties?.authSchemes?.[0],i=await En("signer",r.signer)(n),s=e?.signingRegion,a=e?.signingName;return{config:r,signer:i,signingRegion:s,signingName:a}},mi=class{async sign(t,r,n){if(!Uh.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:o,signer:i,signingRegion:s,signingName:a}=await sM(n);return await i.sign(t,{signingDate:fi(o.systemClockOffset),signingRegion:s,signingService:a})}errorHandler(t){return r=>{let n=r.ServerTime??bc(r.$response);if(n){let o=En("config",t.config),i=o.systemClockOffset;o.systemClockOffset=Pc(n,o.systemClockOffset),o.systemClockOffset!==i&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let n=bc(t);if(n){let o=En("config",r.config);o.systemClockOffset=Pc(n,o.systemClockOffset)}}},aM=mi});var iv=g((PW,ov)=>{var yi=Object.defineProperty,cM=Object.getOwnPropertyDescriptor,lM=Object.getOwnPropertyNames,dM=Object.prototype.hasOwnProperty,K=(e,t)=>yi(e,"name",{value:t,configurable:!0}),uM=(e,t)=>{for(var r in t)yi(e,r,{get:t[r],enumerable:!0})},pM=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of lM(t))!dM.call(e,o)&&o!==r&&yi(e,o,{get:()=>t[o],enumerable:!(n=cM(t,o))||n.enumerable});return e},fM=e=>pM(yi({},"__esModule",{value:!0}),e),$h={};uM($h,{SignatureV4:()=>jM,clearCredentialCache:()=>TM,createScope:()=>vi,getCanonicalHeaders:()=>Tc,getCanonicalQuery:()=>Xh,getPayloadHash:()=>_i,getSigningKey:()=>Yh,moveHeadersToQuery:()=>rv,prepareRequest:()=>Nc});ov.exports=fM($h);var qh=Ne(),Rc=he(),mM="X-Amz-Algorithm",gM="X-Amz-Credential",Gh="X-Amz-Date",hM="X-Amz-SignedHeaders",vM="X-Amz-Expires",zh="X-Amz-Signature",Vh="X-Amz-Security-Token",Wh="authorization",Kh=Gh.toLowerCase(),_M="date",yM=[Wh,Kh,_M],EM=zh.toLowerCase(),Ac="x-amz-content-sha256",SM=Vh.toLowerCase(),wM={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},xM=/^proxy-/,bM=/^sec-/,Oc="AWS4-HMAC-SHA256",CM="AWS4-HMAC-SHA256-PAYLOAD",PM="UNSIGNED-PAYLOAD",RM=50,Jh="aws4_request",OM=60*60*24*7,yt=Ja(),AM=he(),mr={},hi=[],vi=K((e,t,r)=>`${e}/${t}/${r}/${Jh}`,"createScope"),Yh=K(async(e,t,r,n,o)=>{let i=await jh(e,t.secretAccessKey,t.accessKeyId),s=`${r}:${n}:${o}:${(0,yt.toHex)(i)}:${t.sessionToken}`;if(s in mr)return mr[s];for(hi.push(s);hi.length>RM;)delete mr[hi.shift()];let a=`AWS4${t.secretAccessKey}`;for(let c of[r,n,o,Jh])a=await jh(e,a,c);return mr[s]=a},"getSigningKey"),TM=K(()=>{hi.length=0,Object.keys(mr).forEach(e=>{delete mr[e]})},"clearCredentialCache"),jh=K((e,t,r)=>{let n=new e(t);return n.update((0,AM.toUint8Array)(r)),n.digest()},"hmac"),Tc=K(({headers:e},t,r)=>{let n={};for(let o of Object.keys(e).sort()){if(e[o]==null)continue;let i=o.toLowerCase();(i in wM||t?.has(i)||xM.test(i)||bM.test(i))&&(!r||r&&!r.has(i))||(n[i]=e[o].trim().replace(/\s+/g," "))}return n},"getCanonicalHeaders"),Sn=Ba(),Xh=K(({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e).sort()){if(n.toLowerCase()===EM)continue;t.push(n);let o=e[n];typeof o=="string"?r[n]=`${(0,Sn.escapeUri)(n)}=${(0,Sn.escapeUri)(o)}`:Array.isArray(o)&&(r[n]=o.slice(0).reduce((i,s)=>i.concat([`${(0,Sn.escapeUri)(n)}=${(0,Sn.escapeUri)(s)}`]),[]).sort().join("&"))}return t.map(n=>r[n]).filter(n=>n).join("&")},"getCanonicalQuery"),IM=Ma(),NM=he(),_i=K(async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===Ac)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||(0,IM.isArrayBuffer)(t)){let n=new r;return n.update((0,NM.toUint8Array)(t)),(0,yt.toHex)(await n.digest())}return PM},"getPayloadHash"),Bh=he(),Qh=class{format(t){let r=[];for(let i of Object.keys(t)){let s=(0,Bh.fromUtf8)(i);r.push(Uint8Array.from([s.byteLength]),s,this.formatHeaderValue(t[i]))}let n=new Uint8Array(r.reduce((i,s)=>i+s.byteLength,0)),o=0;for(let i of r)n.set(i,o),o+=i.byteLength;return n}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,t.value,!1),new Uint8Array(n.buffer);case"long":let o=new Uint8Array(9);return o[0]=5,o.set(t.value.bytes,1),o;case"binary":let i=new DataView(new ArrayBuffer(3+t.value.byteLength));i.setUint8(0,6),i.setUint16(1,t.value.byteLength,!1);let s=new Uint8Array(i.buffer);return s.set(t.value,3),s;case"string":let a=(0,Bh.fromUtf8)(t.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);let l=new Uint8Array(c.buffer);return l.set(a,3),l;case"timestamp":let d=new Uint8Array(9);return d[0]=8,d.set(MM.fromNumber(t.value.valueOf()).bytes,1),d;case"uuid":if(!DM.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);let u=new Uint8Array(17);return u[0]=9,u.set((0,yt.fromHex)(t.value.replace(/\-/g,"")),1),u}}};K(Qh,"HeaderFormatter");var kM=Qh,DM=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,Zh=class ev{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,o=Math.abs(Math.round(t));n>-1&&o>0;n--,o/=256)r[n]=o;return t<0&&Ic(r),new ev(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&Ic(t),parseInt((0,yt.toHex)(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};K(Zh,"Int64");var MM=Zh;function Ic(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}K(Ic,"negate");var FM=K((e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1},"hasHeader"),tv=K(({headers:e,query:t,...r})=>({...r,headers:{...e},query:t?UM(t):void 0}),"cloneRequest"),UM=K(e=>Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{}),"cloneQuery"),rv=K((e,t={})=>{var r;let{headers:n,query:o={}}=typeof e.clone=="function"?e.clone():tv(e);for(let i of Object.keys(n)){let s=i.toLowerCase();s.slice(0,6)==="x-amz-"&&!((r=t.unhoistableHeaders)!=null&&r.has(s))&&(o[i]=n[i],delete n[i])}return{...e,headers:n,query:o}},"moveHeadersToQuery"),Nc=K(e=>{e=typeof e.clone=="function"?e.clone():tv(e);for(let t of Object.keys(e.headers))yM.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},"prepareRequest"),LM=K(e=>qM(e).toISOString().replace(/\.\d{3}Z$/,"Z"),"iso8601"),qM=K(e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e,"toDate"),nv=class{constructor({applyChecksum:t,credentials:r,region:n,service:o,sha256:i,uriEscapePath:s=!0}){this.headerFormatter=new kM,this.service=o,this.sha256=i,this.uriEscapePath=s,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=(0,qh.normalizeProvider)(n),this.credentialProvider=(0,qh.normalizeProvider)(r)}async presign(t,r={}){let{signingDate:n=new Date,expiresIn:o=3600,unsignableHeaders:i,unhoistableHeaders:s,signableHeaders:a,signingRegion:c,signingService:l}=r,d=await this.credentialProvider();this.validateResolvedCredentials(d);let u=c??await this.regionProvider(),{longDate:p,shortDate:f}=gi(n);if(o>OM)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let h=vi(f,u,l??this.service),y=rv(Nc(t),{unhoistableHeaders:s});d.sessionToken&&(y.query[Vh]=d.sessionToken),y.query[mM]=Oc,y.query[gM]=`${d.accessKeyId}/${h}`,y.query[Gh]=p,y.query[vM]=o.toString(10);let S=Tc(y,i,a);return y.query[hM]=Hh(S),y.query[zh]=await this.getSignature(p,h,this.getSigningKey(d,u,f,l),this.createCanonicalRequest(y,S,await _i(t,this.sha256))),y}async sign(t,r){return typeof t=="string"?this.signString(t,r):t.headers&&t.payload?this.signEvent(t,r):t.message?this.signMessage(t,r):this.signRequest(t,r)}async signEvent({headers:t,payload:r},{signingDate:n=new Date,priorSignature:o,signingRegion:i,signingService:s}){let a=i??await this.regionProvider(),{shortDate:c,longDate:l}=gi(n),d=vi(c,a,s??this.service),u=await _i({headers:{},body:r},this.sha256),p=new this.sha256;p.update(t);let f=(0,yt.toHex)(await p.digest()),h=[CM,l,d,o,f,u].join(`
`);return this.signString(h,{signingDate:n,signingRegion:a,signingService:s})}async signMessage(t,{signingDate:r=new Date,signingRegion:n,signingService:o}){return this.signEvent({headers:this.headerFormatter.format(t.message.headers),payload:t.message.body},{signingDate:r,signingRegion:n,signingService:o,priorSignature:t.priorSignature}).then(s=>({message:t.message,signature:s}))}async signString(t,{signingDate:r=new Date,signingRegion:n,signingService:o}={}){let i=await this.credentialProvider();this.validateResolvedCredentials(i);let s=n??await this.regionProvider(),{shortDate:a}=gi(r),c=new this.sha256(await this.getSigningKey(i,s,a,o));return c.update((0,Rc.toUint8Array)(t)),(0,yt.toHex)(await c.digest())}async signRequest(t,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:o,signingRegion:i,signingService:s}={}){let a=await this.credentialProvider();this.validateResolvedCredentials(a);let c=i??await this.regionProvider(),l=Nc(t),{longDate:d,shortDate:u}=gi(r),p=vi(u,c,s??this.service);l.headers[Kh]=d,a.sessionToken&&(l.headers[SM]=a.sessionToken);let f=await _i(l,this.sha256);!FM(Ac,l.headers)&&this.applyChecksum&&(l.headers[Ac]=f);let h=Tc(l,o,n),y=await this.getSignature(d,p,this.getSigningKey(a,c,u,s),this.createCanonicalRequest(l,h,f));return l.headers[Wh]=`${Oc} Credential=${a.accessKeyId}/${p}, SignedHeaders=${Hh(h)}, Signature=${y}`,l}createCanonicalRequest(t,r,n){let o=Object.keys(r).sort();return`${t.method}
${this.getCanonicalPath(t)}
${Xh(t)}
${o.map(i=>`${i}:${r[i]}`).join(`
`)}

${o.join(";")}
${n}`}async createStringToSign(t,r,n){let o=new this.sha256;o.update((0,Rc.toUint8Array)(n));let i=await o.digest();return`${Oc}
${t}
${r}
${(0,yt.toHex)(i)}`}getCanonicalPath({path:t}){if(this.uriEscapePath){let r=[];for(let i of t.split("/"))i?.length!==0&&i!=="."&&(i===".."?r.pop():r.push(i));let n=`${t?.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&t?.endsWith("/")?"/":""}`;return(0,Sn.escapeUri)(n).replace(/%2F/g,"/")}return t}async getSignature(t,r,n,o){let i=await this.createStringToSign(t,r,o),s=new this.sha256(await n);return s.update((0,Rc.toUint8Array)(i)),(0,yt.toHex)(await s.digest())}getSigningKey(t,r,n,o){return Yh(this.sha256,t,n,r,o||this.service)}validateResolvedCredentials(t){if(typeof t!="object"||typeof t.accessKeyId!="string"||typeof t.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}};K(nv,"SignatureV4");var jM=nv,gi=K(e=>{let t=LM(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}},"formatDate"),Hh=K(e=>Object.keys(e).sort().join(";"),"getCanonicalHeaderList")});var kc,sv,BM,av=R(()=>{Ge();kc=z(iv()),sv=e=>{let t;e.credentials&&(t=Sc(e.credentials,Ec,li)),t||(e.credentialDefaultProvider?t=fr(e.credentialDefaultProvider(Object.assign({},e,{parentClientConfig:e}))):t=async()=>{throw new Error("`credentials` is missing")});let{signingEscapePath:r=!0,systemClockOffset:n=e.systemClockOffset||0,sha256:o}=e,i;return e.signer?i=fr(e.signer):e.regionInfoProvider?i=()=>fr(e.region)().then(async s=>[await e.regionInfoProvider(s,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},s]).then(([s,a])=>{let{signingRegion:c,signingService:l}=s;e.signingRegion=e.signingRegion||c||a,e.signingName=e.signingName||l||e.serviceId;let d={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:r},u=e.signerConstructor||kc.SignatureV4;return new u(d)}):i=async s=>{s=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await fr(e.region)(),properties:{}},s);let a=s.signingRegion,c=s.signingName;e.signingRegion=e.signingRegion||a,e.signingName=e.signingName||c||e.serviceId;let l={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:r},d=e.signerConstructor||kc.SignatureV4;return new d(l)},{...e,systemClockOffset:n,signingEscapePath:r,credentials:t,signer:i}},BM=sv});var cv=R(()=>{Lh();av()});var lv=R(()=>{cv()});var HM,$M,GM,dv=R(()=>{HM=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},$M=e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e},GM=e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e}});var uv,zM,pv=R(()=>{uv=z(L()),zM=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,uv.expectUnion)(e)}});var fv,Ei,Dc=R(()=>{fv=z(L()),Ei=(e,t)=>(0,fv.collectBody)(e,t).then(r=>t.utf8Encoder(r))});var mv,VM,WM,gv=R(()=>{Dc();mv=(e,t)=>Ei(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),VM=async(e,t)=>{let r=await mv(e,t);return r.message=r.message??r.Message,r},WM=(e,t)=>{let r=(i,s)=>Object.keys(i).find(a=>a.toLowerCase()===s.toLowerCase()),n=i=>{let s=i;return typeof s=="number"&&(s=s.toString()),s.indexOf(",")>=0&&(s=s.split(",")[0]),s.indexOf(":")>=0&&(s=s.split(":")[0]),s.indexOf("#")>=0&&(s=s.split("#")[1]),s},o=r(e.headers,"x-amzn-errortype");if(o!==void 0)return n(e.headers[o]);if(t.code!==void 0)return n(t.code);if(t.__type!==void 0)return n(t.__type)}});var Si=g(rt=>{"use strict";var hv=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",KM=hv+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",vv="["+hv+"]["+KM+"]*",JM=new RegExp("^"+vv+"$"),YM=function(e,t){let r=[],n=t.exec(e);for(;n;){let o=[];o.startIndex=t.lastIndex-n[0].length;let i=n.length;for(let s=0;s<i;s++)o.push(n[s]);r.push(o),n=t.exec(e)}return r},XM=function(e){let t=JM.exec(e);return!(t===null||typeof t>"u")};rt.isExist=function(e){return typeof e<"u"};rt.isEmptyObject=function(e){return Object.keys(e).length===0};rt.merge=function(e,t,r){if(t){let n=Object.keys(t),o=n.length;for(let i=0;i<o;i++)r==="strict"?e[n[i]]=[t[n[i]]]:e[n[i]]=t[n[i]]}};rt.getValue=function(e){return rt.isExist(e)?e:""};rt.isName=XM;rt.getAllMatches=YM;rt.nameRegexp=vv});var Fc=g(wv=>{"use strict";var Mc=Si(),QM={allowBooleanAttributes:!1,unpairedTags:[]};wv.validate=function(e,t){t=Object.assign({},QM,t);let r=[],n=!1,o=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let i=0;i<e.length;i++)if(e[i]==="<"&&e[i+1]==="?"){if(i+=2,i=yv(e,i),i.err)return i}else if(e[i]==="<"){let s=i;if(i++,e[i]==="!"){i=Ev(e,i);continue}else{let a=!1;e[i]==="/"&&(a=!0,i++);let c="";for(;i<e.length&&e[i]!==">"&&e[i]!==" "&&e[i]!=="	"&&e[i]!==`
`&&e[i]!=="\r";i++)c+=e[i];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),i--),!sF(c)){let u;return c.trim().length===0?u="Invalid space after '<'.":u="Tag '"+c+"' is an invalid name.",J("InvalidTag",u,me(e,i))}let l=tF(e,i);if(l===!1)return J("InvalidAttr","Attributes for '"+c+"' have open quote.",me(e,i));let d=l.value;if(i=l.index,d[d.length-1]==="/"){let u=i-d.length;d=d.substring(0,d.length-1);let p=Sv(d,t);if(p===!0)n=!0;else return J(p.err.code,p.err.msg,me(e,u+p.err.line))}else if(a)if(l.tagClosed){if(d.trim().length>0)return J("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",me(e,s));{let u=r.pop();if(c!==u.tagName){let p=me(e,u.tagStartPos);return J("InvalidTag","Expected closing tag '"+u.tagName+"' (opened in line "+p.line+", col "+p.col+") instead of closing tag '"+c+"'.",me(e,s))}r.length==0&&(o=!0)}}else return J("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",me(e,i));else{let u=Sv(d,t);if(u!==!0)return J(u.err.code,u.err.msg,me(e,i-d.length+u.err.line));if(o===!0)return J("InvalidXml","Multiple possible root nodes found.",me(e,i));t.unpairedTags.indexOf(c)!==-1||r.push({tagName:c,tagStartPos:s}),n=!0}for(i++;i<e.length;i++)if(e[i]==="<")if(e[i+1]==="!"){i++,i=Ev(e,i);continue}else if(e[i+1]==="?"){if(i=yv(e,++i),i.err)return i}else break;else if(e[i]==="&"){let u=oF(e,i);if(u==-1)return J("InvalidChar","char '&' is not expected.",me(e,i));i=u}else if(o===!0&&!_v(e[i]))return J("InvalidXml","Extra text at the end",me(e,i));e[i]==="<"&&i--}}else{if(_v(e[i]))continue;return J("InvalidChar","char '"+e[i]+"' is not expected.",me(e,i))}if(n){if(r.length==1)return J("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",me(e,r[0].tagStartPos));if(r.length>0)return J("InvalidXml","Invalid '"+JSON.stringify(r.map(i=>i.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return J("InvalidXml","Start tag expected.",1);return!0};function _v(e){return e===" "||e==="	"||e===`
`||e==="\r"}function yv(e,t){let r=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){let n=e.substr(r,t-r);if(t>5&&n==="xml")return J("InvalidXml","XML declaration allowed only at the start of the document.",me(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function Ev(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let r=1;for(t+=8;t<e.length;t++)if(e[t]==="<")r++;else if(e[t]===">"&&(r--,r===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}var ZM='"',eF="'";function tF(e,t){let r="",n="",o=!1;for(;t<e.length;t++){if(e[t]===ZM||e[t]===eF)n===""?n=e[t]:n!==e[t]||(n="");else if(e[t]===">"&&n===""){o=!0;break}r+=e[t]}return n!==""?!1:{value:r,index:t,tagClosed:o}}var rF=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function Sv(e,t){let r=Mc.getAllMatches(e,rF),n={};for(let o=0;o<r.length;o++){if(r[o][1].length===0)return J("InvalidAttr","Attribute '"+r[o][2]+"' has no space in starting.",wn(r[o]));if(r[o][3]!==void 0&&r[o][4]===void 0)return J("InvalidAttr","Attribute '"+r[o][2]+"' is without value.",wn(r[o]));if(r[o][3]===void 0&&!t.allowBooleanAttributes)return J("InvalidAttr","boolean attribute '"+r[o][2]+"' is not allowed.",wn(r[o]));let i=r[o][2];if(!iF(i))return J("InvalidAttr","Attribute '"+i+"' is an invalid name.",wn(r[o]));if(!n.hasOwnProperty(i))n[i]=1;else return J("InvalidAttr","Attribute '"+i+"' is repeated.",wn(r[o]))}return!0}function nF(e,t){let r=/\d/;for(e[t]==="x"&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(r))break}return-1}function oF(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,nF(e,t);let r=0;for(;t<e.length;t++,r++)if(!(e[t].match(/\w/)&&r<20)){if(e[t]===";")break;return-1}return t}function J(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function iF(e){return Mc.isName(e)}function sF(e){return Mc.isName(e)}function me(e,t){let r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function wn(e){return e.startIndex+e[1].length}});var bv=g(Uc=>{var xv={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,r){return e}},aF=function(e){return Object.assign({},xv,e)};Uc.buildOptions=aF;Uc.defaultOptions=xv});var Pv=g((HW,Cv)=>{"use strict";var Lc=class{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,r){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:r})}addChild(t){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child})}};Cv.exports=Lc});var Ov=g(($W,Rv)=>{var cF=Si();function lF(e,t){let r={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let n=1,o=!1,i=!1,s="";for(;t<e.length;t++)if(e[t]==="<"&&!i){if(o&&pF(e,t))t+=7,[entityName,val,t]=dF(e,t+1),val.indexOf("&")===-1&&(r[hF(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(o&&fF(e,t))t+=8;else if(o&&mF(e,t))t+=8;else if(o&&gF(e,t))t+=9;else if(uF)i=!0;else throw new Error("Invalid DOCTYPE");n++,s=""}else if(e[t]===">"){if(i?e[t-1]==="-"&&e[t-2]==="-"&&(i=!1,n--):n--,n===0)break}else e[t]==="["?o=!0:s+=e[t];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:t}}function dF(e,t){let r="";for(;t<e.length&&e[t]!=="'"&&e[t]!=='"';t++)r+=e[t];if(r=r.trim(),r.indexOf(" ")!==-1)throw new Error("External entites are not supported");let n=e[t++],o="";for(;t<e.length&&e[t]!==n;t++)o+=e[t];return[r,o,t]}function uF(e,t){return e[t+1]==="!"&&e[t+2]==="-"&&e[t+3]==="-"}function pF(e,t){return e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="N"&&e[t+4]==="T"&&e[t+5]==="I"&&e[t+6]==="T"&&e[t+7]==="Y"}function fF(e,t){return e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="L"&&e[t+4]==="E"&&e[t+5]==="M"&&e[t+6]==="E"&&e[t+7]==="N"&&e[t+8]==="T"}function mF(e,t){return e[t+1]==="!"&&e[t+2]==="A"&&e[t+3]==="T"&&e[t+4]==="T"&&e[t+5]==="L"&&e[t+6]==="I"&&e[t+7]==="S"&&e[t+8]==="T"}function gF(e,t){return e[t+1]==="!"&&e[t+2]==="N"&&e[t+3]==="O"&&e[t+4]==="T"&&e[t+5]==="A"&&e[t+6]==="T"&&e[t+7]==="I"&&e[t+8]==="O"&&e[t+9]==="N"}function hF(e){if(cF.isName(e))return e;throw new Error(`Invalid entity name ${e}`)}Rv.exports=lF});var Tv=g((GW,Av)=>{var vF=/^[-+]?0x[a-fA-F0-9]+$/,_F=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var yF={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function EF(e,t={}){if(t=Object.assign({},yF,t),!e||typeof e!="string")return e;let r=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(r))return e;if(t.hex&&vF.test(r))return Number.parseInt(r,16);{let n=_F.exec(r);if(n){let o=n[1],i=n[2],s=SF(n[3]),a=n[4]||n[6];if(!t.leadingZeros&&i.length>0&&o&&r[2]!==".")return e;if(!t.leadingZeros&&i.length>0&&!o&&r[1]!==".")return e;{let c=Number(r),l=""+c;return l.search(/[eE]/)!==-1||a?t.eNotation?c:e:r.indexOf(".")!==-1?l==="0"&&s===""||l===s||o&&l==="-"+s?c:e:i?s===l||o+s===l?c:e:r===l||r===o+l?c:e}}else return e}}function SF(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substr(0,e.length-1))),e}Av.exports=EF});var Nv=g((VW,Iv)=>{"use strict";var Hc=Si(),xn=Pv(),wF=Ov(),xF=Tv(),zW="<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,Hc.nameRegexp),qc=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"}},this.addExternalEntities=bF,this.parseXml=AF,this.parseTextData=CF,this.resolveNameSpace=PF,this.buildAttributesMap=OF,this.isItStopNode=kF,this.replaceEntitiesValue=IF,this.readStopNodeData=MF,this.saveTextToParentTag=NF,this.addChild=TF}};function bF(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:e[n]}}}function CF(e,t,r,n,o,i,s){if(e!==void 0&&(this.options.trimValues&&!n&&(e=e.trim()),e.length>0)){s||(e=this.replaceEntitiesValue(e));let a=this.options.tagValueProcessor(t,e,r,o,i);return a==null?e:typeof a!=typeof e||a!==e?a:this.options.trimValues?Bc(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?Bc(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function PF(e){if(this.options.removeNSPrefix){let t=e.split(":"),r=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=r+t[1])}return e}var RF=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function OF(e,t,r){if(!this.options.ignoreAttributes&&typeof e=="string"){let n=Hc.getAllMatches(e,RF),o=n.length,i={};for(let s=0;s<o;s++){let a=this.resolveNameSpace(n[s][1]),c=n[s][4],l=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(l=this.options.transformAttributeName(l)),l==="__proto__"&&(l="#__proto__"),c!==void 0){this.options.trimValues&&(c=c.trim()),c=this.replaceEntitiesValue(c);let d=this.options.attributeValueProcessor(a,c,t);d==null?i[l]=c:typeof d!=typeof c||d!==c?i[l]=d:i[l]=Bc(c,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(i[l]=!0)}if(!Object.keys(i).length)return;if(this.options.attributesGroupName){let s={};return s[this.options.attributesGroupName]=i,s}return i}}var AF=function(e){e=e.replace(/\r\n?/g,`
`);let t=new xn("!xml"),r=t,n="",o="";for(let i=0;i<e.length;i++)if(e[i]==="<")if(e[i+1]==="/"){let a=Jt(e,">",i,"Closing Tag is not closed."),c=e.substring(i+2,a).trim();if(this.options.removeNSPrefix){let u=c.indexOf(":");u!==-1&&(c=c.substr(u+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&(n=this.saveTextToParentTag(n,r,o));let l=o.substring(o.lastIndexOf(".")+1);if(c&&this.options.unpairedTags.indexOf(c)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${c}>`);let d=0;l&&this.options.unpairedTags.indexOf(l)!==-1?(d=o.lastIndexOf(".",o.lastIndexOf(".")-1),this.tagsNodeStack.pop()):d=o.lastIndexOf("."),o=o.substring(0,d),r=this.tagsNodeStack.pop(),n="",i=a}else if(e[i+1]==="?"){let a=jc(e,i,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,o),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){let c=new xn(a.tagName);c.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(c[":@"]=this.buildAttributesMap(a.tagExp,o,a.tagName)),this.addChild(r,c,o)}i=a.closeIndex+1}else if(e.substr(i+1,3)==="!--"){let a=Jt(e,"-->",i+4,"Comment is not closed.");if(this.options.commentPropName){let c=e.substring(i+4,a-2);n=this.saveTextToParentTag(n,r,o),r.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}i=a}else if(e.substr(i+1,2)==="!D"){let a=wF(e,i);this.docTypeEntities=a.entities,i=a.i}else if(e.substr(i+1,2)==="!["){let a=Jt(e,"]]>",i,"CDATA is not closed.")-2,c=e.substring(i+9,a);if(n=this.saveTextToParentTag(n,r,o),this.options.cdataPropName)r.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]);else{let l=this.parseTextData(c,r.tagname,o,!0,!1,!0);l==null&&(l=""),r.add(this.options.textNodeName,l)}i=a+2}else{let a=jc(e,i,this.options.removeNSPrefix),c=a.tagName,l=a.tagExp,d=a.attrExpPresent,u=a.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,o,!1));let p=r;if(p&&this.options.unpairedTags.indexOf(p.tagname)!==-1&&(r=this.tagsNodeStack.pop(),o=o.substring(0,o.lastIndexOf("."))),c!==t.tagname&&(o+=o?"."+c:c),this.isItStopNode(this.options.stopNodes,o,c)){let f="";if(l.length>0&&l.lastIndexOf("/")===l.length-1)i=a.closeIndex;else if(this.options.unpairedTags.indexOf(c)!==-1)i=a.closeIndex;else{let y=this.readStopNodeData(e,c,u+1);if(!y)throw new Error(`Unexpected end of ${c}`);i=y.i,f=y.tagContent}let h=new xn(c);c!==l&&d&&(h[":@"]=this.buildAttributesMap(l,o,c)),f&&(f=this.parseTextData(f,c,o,!0,d,!0,!0)),o=o.substr(0,o.lastIndexOf(".")),h.add(this.options.textNodeName,f),this.addChild(r,h,o)}else{if(l.length>0&&l.lastIndexOf("/")===l.length-1){c[c.length-1]==="/"?(c=c.substr(0,c.length-1),l=c):l=l.substr(0,l.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));let f=new xn(c);c!==l&&d&&(f[":@"]=this.buildAttributesMap(l,o,c)),this.addChild(r,f,o),o=o.substr(0,o.lastIndexOf("."))}else{let f=new xn(c);this.tagsNodeStack.push(r),c!==l&&d&&(f[":@"]=this.buildAttributesMap(l,o,c)),this.addChild(r,f,o),r=f}n="",i=u}}else n+=e[i];return t.child};function TF(e,t,r){let n=this.options.updateTag(t.tagname,r,t[":@"]);n===!1||(typeof n=="string"&&(t.tagname=n),e.addChild(t))}var IF=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){let r=this.docTypeEntities[t];e=e.replace(r.regx,r.val)}for(let t in this.lastEntities){let r=this.lastEntities[t];e=e.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){let r=this.htmlEntities[t];e=e.replace(r.regex,r.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function NF(e,t,r,n){return e&&(n===void 0&&(n=Object.keys(t.child).length===0),e=this.parseTextData(e,t.tagname,r,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,n),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function kF(e,t,r){let n="*."+r;for(let o in e){let i=e[o];if(n===i||t===i)return!0}return!1}function DF(e,t,r=">"){let n,o="";for(let i=t;i<e.length;i++){let s=e[i];if(n)s===n&&(n="");else if(s==='"'||s==="'")n=s;else if(s===r[0])if(r[1]){if(e[i+1]===r[1])return{data:o,index:i}}else return{data:o,index:i};else s==="	"&&(s=" ");o+=s}}function Jt(e,t,r,n){let o=e.indexOf(t,r);if(o===-1)throw new Error(n);return o+t.length-1}function jc(e,t,r,n=">"){let o=DF(e,t+1,n);if(!o)return;let i=o.data,s=o.index,a=i.search(/\s/),c=i,l=!0;if(a!==-1&&(c=i.substr(0,a).replace(/\s\s*$/,""),i=i.substr(a+1)),r){let d=c.indexOf(":");d!==-1&&(c=c.substr(d+1),l=c!==o.data.substr(d+1))}return{tagName:c,tagExp:i,closeIndex:s,attrExpPresent:l}}function MF(e,t,r){let n=r,o=1;for(;r<e.length;r++)if(e[r]==="<")if(e[r+1]==="/"){let i=Jt(e,">",r,`${t} is not closed`);if(e.substring(r+2,i).trim()===t&&(o--,o===0))return{tagContent:e.substring(n,r),i};r=i}else if(e[r+1]==="?")r=Jt(e,"?>",r+1,"StopNode is not closed.");else if(e.substr(r+1,3)==="!--")r=Jt(e,"-->",r+3,"StopNode is not closed.");else if(e.substr(r+1,2)==="![")r=Jt(e,"]]>",r,"StopNode is not closed.")-2;else{let i=jc(e,r,">");i&&((i&&i.tagName)===t&&i.tagExp[i.tagExp.length-1]!=="/"&&o++,r=i.closeIndex)}}function Bc(e,t,r){if(t&&typeof e=="string"){let n=e.trim();return n==="true"?!0:n==="false"?!1:xF(e,r)}else return Hc.isExist(e)?e:""}Iv.exports=qc});var Mv=g(Dv=>{"use strict";function FF(e,t){return kv(e,t)}function kv(e,t,r){let n,o={};for(let i=0;i<e.length;i++){let s=e[i],a=UF(s),c="";if(r===void 0?c=a:c=r+"."+a,a===t.textNodeName)n===void 0?n=s[a]:n+=""+s[a];else{if(a===void 0)continue;if(s[a]){let l=kv(s[a],t,c),d=qF(l,t);s[":@"]?LF(l,s[":@"],c,t):Object.keys(l).length===1&&l[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?l=l[t.textNodeName]:Object.keys(l).length===0&&(t.alwaysCreateTextNode?l[t.textNodeName]="":l=""),o[a]!==void 0&&o.hasOwnProperty(a)?(Array.isArray(o[a])||(o[a]=[o[a]]),o[a].push(l)):t.isArray(a,c,d)?o[a]=[l]:o[a]=l}}}return typeof n=="string"?n.length>0&&(o[t.textNodeName]=n):n!==void 0&&(o[t.textNodeName]=n),o}function UF(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(n!==":@")return n}}function LF(e,t,r,n){if(t){let o=Object.keys(t),i=o.length;for(let s=0;s<i;s++){let a=o[s];n.isArray(a,r+"."+a,!0,!0)?e[a]=[t[a]]:e[a]=t[a]}}}function qF(e,t){let{textNodeName:r}=t,n=Object.keys(e).length;return!!(n===0||n===1&&(e[r]||typeof e[r]=="boolean"||e[r]===0))}Dv.prettify=FF});var Uv=g((KW,Fv)=>{var{buildOptions:jF}=bv(),BF=Nv(),{prettify:HF}=Mv(),$F=Fc(),$c=class{constructor(t){this.externalEntities={},this.options=jF(t)}parse(t,r){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});let i=$F.validate(t,r);if(i!==!0)throw Error(`${i.err.msg}:${i.err.line}:${i.err.col}`)}let n=new BF(this.options);n.addExternalEntities(this.externalEntities);let o=n.parseXml(t);return this.options.preserveOrder||o===void 0?o:HF(o,this.options)}addEntity(t,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=r}};Fv.exports=$c});var Hv=g((JW,Bv)=>{var GF=`
`;function zF(e,t){let r="";return t.format&&t.indentBy.length>0&&(r=GF),qv(e,t,"",r)}function qv(e,t,r,n){let o="",i=!1;for(let s=0;s<e.length;s++){let a=e[s],c=VF(a),l="";if(r.length===0?l=c:l=`${r}.${c}`,c===t.textNodeName){let h=a[c];WF(l,t)||(h=t.tagValueProcessor(c,h),h=jv(h,t)),i&&(o+=n),o+=h,i=!1;continue}else if(c===t.cdataPropName){i&&(o+=n),o+=`<![CDATA[${a[c][0][t.textNodeName]}]]>`,i=!1;continue}else if(c===t.commentPropName){o+=n+`<!--${a[c][0][t.textNodeName]}-->`,i=!0;continue}else if(c[0]==="?"){let h=Lv(a[":@"],t),y=c==="?xml"?"":n,S=a[c][0][t.textNodeName];S=S.length!==0?" "+S:"",o+=y+`<${c}${S}${h}?>`,i=!0;continue}let d=n;d!==""&&(d+=t.indentBy);let u=Lv(a[":@"],t),p=n+`<${c}${u}`,f=qv(a[c],t,l,d);t.unpairedTags.indexOf(c)!==-1?t.suppressUnpairedNode?o+=p+">":o+=p+"/>":(!f||f.length===0)&&t.suppressEmptyNode?o+=p+"/>":f&&f.endsWith(">")?o+=p+`>${f}${n}</${c}>`:(o+=p+">",f&&n!==""&&(f.includes("/>")||f.includes("</"))?o+=n+t.indentBy+f+n:o+=f,o+=`</${c}>`),i=!0}return o}function VF(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(n!==":@")return n}}function Lv(e,t){let r="";if(e&&!t.ignoreAttributes)for(let n in e){let o=t.attributeValueProcessor(n,e[n]);o=jv(o,t),o===!0&&t.suppressBooleanAttributes?r+=` ${n.substr(t.attributeNamePrefix.length)}`:r+=` ${n.substr(t.attributeNamePrefix.length)}="${o}"`}return r}function WF(e,t){e=e.substr(0,e.length-t.textNodeName.length-1);let r=e.substr(e.lastIndexOf(".")+1);for(let n in t.stopNodes)if(t.stopNodes[n]===e||t.stopNodes[n]==="*."+r)return!0;return!1}function jv(e,t){if(e&&e.length>0&&t.processEntities)for(let r=0;r<t.entities.length;r++){let n=t.entities[r];e=e.replace(n.regex,n.val)}return e}Bv.exports=zF});var Gv=g((YW,$v)=>{"use strict";var KF=Hv(),JF={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function Et(e){this.options=Object.assign({},JF,e),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=QF),this.processTextOrObjNode=YF,this.options.format?(this.indentate=XF,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}Et.prototype.build=function(e){return this.options.preserveOrder?KF(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0).val)};Et.prototype.j2x=function(e,t){let r="",n="";for(let o in e)if(!(typeof e[o]>"u"))if(e[o]===null)o[0]==="?"?n+=this.indentate(t)+"<"+o+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+o+"/"+this.tagEndChar;else if(e[o]instanceof Date)n+=this.buildTextValNode(e[o],o,"",t);else if(typeof e[o]!="object"){let i=this.isAttribute(o);if(i)r+=this.buildAttrPairStr(i,""+e[o]);else if(o===this.options.textNodeName){let s=this.options.tagValueProcessor(o,""+e[o]);n+=this.replaceEntitiesValue(s)}else n+=this.buildTextValNode(e[o],o,"",t)}else if(Array.isArray(e[o])){let i=e[o].length,s="";for(let a=0;a<i;a++){let c=e[o][a];typeof c>"u"||(c===null?o[0]==="?"?n+=this.indentate(t)+"<"+o+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+o+"/"+this.tagEndChar:typeof c=="object"?this.options.oneListGroup?s+=this.j2x(c,t+1).val:s+=this.processTextOrObjNode(c,o,t):s+=this.buildTextValNode(c,o,"",t))}this.options.oneListGroup&&(s=this.buildObjectNode(s,o,"",t)),n+=s}else if(this.options.attributesGroupName&&o===this.options.attributesGroupName){let i=Object.keys(e[o]),s=i.length;for(let a=0;a<s;a++)r+=this.buildAttrPairStr(i[a],""+e[o][i[a]])}else n+=this.processTextOrObjNode(e[o],o,t);return{attrStr:r,val:n}};Et.prototype.buildAttrPairStr=function(e,t){return t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&t==="true"?" "+e:" "+e+'="'+t+'"'};function YF(e,t,r){let n=this.j2x(e,r+1);return e[this.options.textNodeName]!==void 0&&Object.keys(e).length===1?this.buildTextValNode(e[this.options.textNodeName],t,n.attrStr,r):this.buildObjectNode(n.val,t,n.attrStr,r)}Et.prototype.buildObjectNode=function(e,t,r,n){if(e==="")return t[0]==="?"?this.indentate(n)+"<"+t+r+"?"+this.tagEndChar:this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar;{let o="</"+t+this.tagEndChar,i="";return t[0]==="?"&&(i="?",o=""),r&&e.indexOf("<")===-1?this.indentate(n)+"<"+t+r+i+">"+e+o:this.options.commentPropName!==!1&&t===this.options.commentPropName&&i.length===0?this.indentate(n)+`<!--${e}-->`+this.newLine:this.indentate(n)+"<"+t+r+i+this.tagEndChar+e+this.indentate(n)+o}};Et.prototype.closeTag=function(e){let t="";return this.options.unpairedTags.indexOf(e)!==-1?this.options.suppressUnpairedNode||(t="/"):this.options.suppressEmptyNode?t="/":t=`></${e}`,t};Et.prototype.buildTextValNode=function(e,t,r,n){if(this.options.cdataPropName!==!1&&t===this.options.cdataPropName)return this.indentate(n)+`<![CDATA[${e}]]>`+this.newLine;if(this.options.commentPropName!==!1&&t===this.options.commentPropName)return this.indentate(n)+`<!--${e}-->`+this.newLine;if(t[0]==="?")return this.indentate(n)+"<"+t+r+"?"+this.tagEndChar;{let o=this.options.tagValueProcessor(t,e);return o=this.replaceEntitiesValue(o),o===""?this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar:this.indentate(n)+"<"+t+r+">"+o+"</"+t+this.tagEndChar}};Et.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(let t=0;t<this.options.entities.length;t++){let r=this.options.entities[t];e=e.replace(r.regex,r.val)}return e};function XF(e){return this.options.indentBy.repeat(e)}function QF(e){return e.startsWith(this.options.attributeNamePrefix)?e.substr(this.attrPrefixLen):!1}$v.exports=Et});var Vv=g((XW,zv)=>{"use strict";var ZF=Fc(),eU=Uv(),tU=Gv();zv.exports={XMLParser:eU,XMLValidator:ZF,XMLBuilder:tU}});var Wv,Kv,Jv,rU,nU,Yv=R(()=>{Wv=z(L()),Kv=z(Vv());Dc();Jv=(e,t)=>Ei(e,t).then(r=>{if(r.length){let n=new Kv.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,l)=>l.trim()===""&&l.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let o;try{o=n.parse(r,!0)}catch(c){throw c&&typeof c=="object"&&Object.defineProperty(c,"$responseBodyText",{value:r}),c}let i="#text",s=Object.keys(o)[0],a=o[s];return a[i]&&(a[s]=a[i],delete a[i]),(0,Wv.getValueFromTextNode)(a)}return{}}),rU=async(e,t)=>{let r=await Jv(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},nU=(e,t)=>{if(t?.Error?.Code!==void 0)return t.Error.Code;if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"}});var Xv=R(()=>{dv();pv();gv();Yv()});var te={};Yr(te,{AWSSDKSigV4Signer:()=>aM,AwsSdkSigV4Signer:()=>mi,_toBool:()=>$M,_toNum:()=>GM,_toStr:()=>HM,awsExpectUnion:()=>zM,emitWarningIfUnsupportedVersion:()=>iM,loadRestJsonErrorCode:()=>WM,loadRestXmlErrorCode:()=>nU,parseJsonBody:()=>mv,parseJsonErrorBody:()=>VM,parseXmlBody:()=>Jv,parseXmlErrorBody:()=>rU,resolveAWSSDKSigV4Config:()=>BM,resolveAwsSdkSigV4Config:()=>sv});var re=R(()=>{Th();lv();Xv()});var Gc=g(St=>{"use strict";Object.defineProperty(St,"__esModule",{value:!0});St.resolveHttpAuthSchemeConfig=St.defaultBedrockRuntimeHttpAuthSchemeProvider=St.defaultBedrockRuntimeHttpAuthSchemeParametersProvider=void 0;var oU=(re(),I(te)),Qv=Ne(),iU=async(e,t,r)=>({operation:(0,Qv.getSmithyContext)(t).operation,region:await(0,Qv.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});St.defaultBedrockRuntimeHttpAuthSchemeParametersProvider=iU;function sU(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"bedrock",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}var aU=e=>{let t=[];switch(e.operation){default:t.push(sU(e))}return t};St.defaultBedrockRuntimeHttpAuthSchemeProvider=aU;var cU=e=>({...(0,oU.resolveAwsSdkSigV4Config)(e)});St.resolveHttpAuthSchemeConfig=cU});var hr={};Yr(hr,{__addDisposableResource:()=>y_,__assign:()=>wi,__asyncDelegator:()=>u_,__asyncGenerator:()=>d_,__asyncValues:()=>p_,__await:()=>gr,__awaiter:()=>o_,__classPrivateFieldGet:()=>h_,__classPrivateFieldIn:()=>__,__classPrivateFieldSet:()=>v_,__createBinding:()=>bi,__decorate:()=>t_,__disposeResources:()=>E_,__esDecorate:()=>lU,__exportStar:()=>s_,__extends:()=>Zv,__generator:()=>i_,__importDefault:()=>g_,__importStar:()=>m_,__makeTemplateObject:()=>f_,__metadata:()=>n_,__param:()=>r_,__propKey:()=>uU,__read:()=>Vc,__rest:()=>e_,__runInitializers:()=>dU,__setFunctionName:()=>pU,__spread:()=>a_,__spreadArray:()=>l_,__spreadArrays:()=>c_,__values:()=>xi,default:()=>gU});function Zv(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");zc(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function e_(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function t_(e,t,r,n){var o=arguments.length,i=o<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(o<3?s(i):o>3?s(t,r,i):s(t,r))||i);return o>3&&i&&Object.defineProperty(t,r,i),i}function r_(e,t){return function(r,n){t(r,n,e)}}function lU(e,t,r,n,o,i){function s(x){if(x!==void 0&&typeof x!="function")throw new TypeError("Function expected");return x}for(var a=n.kind,c=a==="getter"?"get":a==="setter"?"set":"value",l=!t&&e?n.static?e:e.prototype:null,d=t||(l?Object.getOwnPropertyDescriptor(l,n.name):{}),u,p=!1,f=r.length-1;f>=0;f--){var h={};for(var y in n)h[y]=y==="access"?{}:n[y];for(var y in n.access)h.access[y]=n.access[y];h.addInitializer=function(x){if(p)throw new TypeError("Cannot add initializers after decoration has completed");i.push(s(x||null))};var S=(0,r[f])(a==="accessor"?{get:d.get,set:d.set}:d[c],h);if(a==="accessor"){if(S===void 0)continue;if(S===null||typeof S!="object")throw new TypeError("Object expected");(u=s(S.get))&&(d.get=u),(u=s(S.set))&&(d.set=u),(u=s(S.init))&&o.unshift(u)}else(u=s(S))&&(a==="field"?o.unshift(u):d[c]=u)}l&&Object.defineProperty(l,n.name,d),p=!0}function dU(e,t,r){for(var n=arguments.length>2,o=0;o<t.length;o++)r=n?t[o].call(e,r):t[o].call(e);return n?r:void 0}function uU(e){return typeof e=="symbol"?e:"".concat(e)}function pU(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function n_(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function o_(e,t,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(d){try{l(n.next(d))}catch(u){s(u)}}function c(d){try{l(n.throw(d))}catch(u){s(u)}}function l(d){d.done?i(d.value):o(d.value).then(a,c)}l((n=n.apply(e,t||[])).next())})}function i_(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(d){return c([l,d])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,l[0]&&(r=0)),r;)try{if(n=1,o&&(i=l[0]&2?o.return:l[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,l[1])).done)return i;switch(o=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,o=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){r.label=l[1];break}if(l[0]===6&&r.label<i[1]){r.label=i[1],i=l;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(l);break}i[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(d){l=[6,d],o=0}finally{n=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function s_(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&bi(t,e,r)}function xi(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Vc(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],s;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i}function a_(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Vc(arguments[t]));return e}function c_(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),o=0,t=0;t<r;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)n[o]=i[s];return n}function l_(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,i;n<o;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function gr(e){return this instanceof gr?(this.v=e,this):new gr(e)}function d_(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),o,i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(p){n[p]&&(o[p]=function(f){return new Promise(function(h,y){i.push([p,f,h,y])>1||a(p,f)})})}function a(p,f){try{c(n[p](f))}catch(h){u(i[0][3],h)}}function c(p){p.value instanceof gr?Promise.resolve(p.value.v).then(l,d):u(i[0][2],p)}function l(p){a("next",p)}function d(p){a("throw",p)}function u(p,f){p(f),i.shift(),i.length&&a(i[0][0],i[0][1])}}function u_(e){var t,r;return t={},n("next"),n("throw",function(o){throw o}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(o,i){t[o]=e[o]?function(s){return(r=!r)?{value:gr(e[o](s)),done:!1}:i?i(s):s}:i}}function p_(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof xi=="function"?xi(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(s){return new Promise(function(a,c){s=e[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},s)}}function f_(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function m_(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&bi(t,e,r);return fU(t,e),t}function g_(e){return e&&e.__esModule?e:{default:e}}function h_(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function v_(e,t,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r}function __(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function y_(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose]}if(typeof n!="function")throw new TypeError("Object not disposable.");e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}function E_(e){function t(n){e.error=e.hasError?new mU(n,e.error,"An error was suppressed during disposal."):n,e.hasError=!0}function r(){for(;e.stack.length;){var n=e.stack.pop();try{var o=n.dispose&&n.dispose.call(n.value);if(n.async)return Promise.resolve(o).then(r,function(i){return t(i),r()})}catch(i){t(i)}}if(e.hasError)throw e.error}return r()}var zc,wi,bi,fU,mU,gU,vr=R(()=>{zc=function(e,t){return zc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},zc(e,t)};wi=function(){return wi=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},wi.apply(this,arguments)};bi=Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};fU=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};mU=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};gU={__extends:Zv,__assign:wi,__rest:e_,__decorate:t_,__param:r_,__metadata:n_,__awaiter:o_,__generator:i_,__createBinding:bi,__exportStar:s_,__values:xi,__read:Vc,__spread:a_,__spreadArrays:c_,__spreadArray:l_,__await:gr,__asyncGenerator:d_,__asyncDelegator:u_,__asyncValues:p_,__makeTemplateObject:f_,__importStar:m_,__importDefault:g_,__classPrivateFieldGet:h_,__classPrivateFieldSet:v_,__classPrivateFieldIn:__,__addDisposableResource:y_,__disposeResources:E_}});var S_=g((l5,hU)=>{hU.exports={name:"@aws-sdk/client-bedrock-runtime",description:"AWS SDK for JavaScript Bedrock Runtime Client for Node.js, Browser and React Native",version:"3.596.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-bedrock-runtime","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo bedrock-runtime"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sso-oidc":"3.596.0","@aws-sdk/client-sts":"3.596.0","@aws-sdk/core":"3.592.0","@aws-sdk/credential-provider-node":"3.596.0","@aws-sdk/middleware-host-header":"3.577.0","@aws-sdk/middleware-logger":"3.577.0","@aws-sdk/middleware-recursion-detection":"3.577.0","@aws-sdk/middleware-user-agent":"3.587.0","@aws-sdk/region-config-resolver":"3.587.0","@aws-sdk/types":"3.577.0","@aws-sdk/util-endpoints":"3.587.0","@aws-sdk/util-user-agent-browser":"3.577.0","@aws-sdk/util-user-agent-node":"3.587.0","@smithy/config-resolver":"^3.0.1","@smithy/core":"^2.2.0","@smithy/eventstream-serde-browser":"^3.0.0","@smithy/eventstream-serde-config-resolver":"^3.0.0","@smithy/eventstream-serde-node":"^3.0.0","@smithy/fetch-http-handler":"^3.0.1","@smithy/hash-node":"^3.0.0","@smithy/invalid-dependency":"^3.0.0","@smithy/middleware-content-length":"^3.0.0","@smithy/middleware-endpoint":"^3.0.1","@smithy/middleware-retry":"^3.0.3","@smithy/middleware-serde":"^3.0.0","@smithy/middleware-stack":"^3.0.0","@smithy/node-config-provider":"^3.1.0","@smithy/node-http-handler":"^3.0.0","@smithy/protocol-http":"^4.0.0","@smithy/smithy-client":"^3.1.1","@smithy/types":"^3.0.0","@smithy/url-parser":"^3.0.0","@smithy/util-base64":"^3.0.0","@smithy/util-body-length-browser":"^3.0.0","@smithy/util-body-length-node":"^3.0.0","@smithy/util-defaults-mode-browser":"^3.0.3","@smithy/util-defaults-mode-node":"^3.0.3","@smithy/util-endpoints":"^2.0.1","@smithy/util-middleware":"^3.0.0","@smithy/util-retry":"^3.0.0","@smithy/util-stream":"^3.0.1","@smithy/util-utf8":"^3.0.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node16":"16.1.3","@types/node":"^16.18.96",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=16.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-bedrock-runtime",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-bedrock-runtime"}}});var Wc=g((d5,O_)=>{"use strict";var Ci=Object.defineProperty,vU=Object.getOwnPropertyDescriptor,_U=Object.getOwnPropertyNames,yU=Object.prototype.hasOwnProperty,EU=(e,t)=>Ci(e,"name",{value:t,configurable:!0}),SU=(e,t)=>{for(var r in t)Ci(e,r,{get:t[r],enumerable:!0})},wU=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of _U(t))!yU.call(e,o)&&o!==r&&Ci(e,o,{get:()=>t[o],enumerable:!(n=vU(t,o))||n.enumerable});return e},xU=e=>wU(Ci({},"__esModule",{value:!0}),e),w_={};SU(w_,{ENV_CREDENTIAL_SCOPE:()=>R_,ENV_EXPIRATION:()=>P_,ENV_KEY:()=>x_,ENV_SECRET:()=>b_,ENV_SESSION:()=>C_,fromEnv:()=>CU});O_.exports=xU(w_);var bU=fe(),x_="AWS_ACCESS_KEY_ID",b_="AWS_SECRET_ACCESS_KEY",C_="AWS_SESSION_TOKEN",P_="AWS_CREDENTIAL_EXPIRATION",R_="AWS_CREDENTIAL_SCOPE",CU=EU(e=>async()=>{var t;(t=e?.logger)==null||t.debug("@aws-sdk/credential-provider-env - fromEnv");let r=process.env[x_],n=process.env[b_],o=process.env[C_],i=process.env[P_],s=process.env[R_];if(r&&n)return{accessKeyId:r,secretAccessKey:n,...o&&{sessionToken:o},...i&&{expiration:new Date(i)},...s&&{credentialScope:s}};throw new bU.CredentialsProviderError("Unable to find environment variable credentials.",{logger:e?.logger})},"fromEnv")});var bn=g((u5,$_)=>{var Oi=Object.defineProperty,PU=Object.getOwnPropertyDescriptor,RU=Object.getOwnPropertyNames,OU=Object.prototype.hasOwnProperty,Y=(e,t)=>Oi(e,"name",{value:t,configurable:!0}),AU=(e,t)=>{for(var r in t)Oi(e,r,{get:t[r],enumerable:!0})},TU=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of RU(t))!OU.call(e,o)&&o!==r&&Oi(e,o,{get:()=>t[o],enumerable:!(n=PU(t,o))||n.enumerable});return e},IU=e=>TU(Oi({},"__esModule",{value:!0}),e),N_={};AU(N_,{DEFAULT_MAX_RETRIES:()=>F_,DEFAULT_TIMEOUT:()=>M_,ENV_CMDS_AUTH_TOKEN:()=>Yc,ENV_CMDS_FULL_URI:()=>Pi,ENV_CMDS_RELATIVE_URI:()=>Ri,Endpoint:()=>q_,fromContainerMetadata:()=>MU,fromInstanceMetadata:()=>rL,getInstanceMetadataEndpoint:()=>B_,httpRequest:()=>_r,providerConfigFromInit:()=>Xc});$_.exports=IU(N_);var NU=D("url"),ze=fe(),kU=D("buffer"),DU=D("http");function _r(e){return new Promise((t,r)=>{var n;let o=(0,DU.request)({method:"GET",...e,hostname:(n=e.hostname)==null?void 0:n.replace(/^\[(.+)\]$/,"$1")});o.on("error",i=>{r(Object.assign(new ze.ProviderError("Unable to connect to instance metadata service"),i)),o.destroy()}),o.on("timeout",()=>{r(new ze.ProviderError("TimeoutError from instance metadata service")),o.destroy()}),o.on("response",i=>{let{statusCode:s=400}=i;(s<200||300<=s)&&(r(Object.assign(new ze.ProviderError("Error response received from instance metadata service"),{statusCode:s})),o.destroy());let a=[];i.on("data",c=>{a.push(c)}),i.on("end",()=>{t(kU.Buffer.concat(a)),o.destroy()})}),o.end()})}Y(_r,"httpRequest");var k_=Y(e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string","isImdsCredentials"),D_=Y(e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration)}),"fromImdsCredentials"),M_=1e3,F_=0,Xc=Y(({maxRetries:e=F_,timeout:t=M_})=>({maxRetries:e,timeout:t}),"providerConfigFromInit"),Jc=Y((e,t)=>{let r=e();for(let n=0;n<t;n++)r=r.catch(e);return r},"retry"),Pi="AWS_CONTAINER_CREDENTIALS_FULL_URI",Ri="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",Yc="AWS_CONTAINER_AUTHORIZATION_TOKEN",MU=Y((e={})=>{let{timeout:t,maxRetries:r}=Xc(e);return()=>Jc(async()=>{let n=await jU({logger:e.logger}),o=JSON.parse(await FU(t,n));if(!k_(o))throw new ze.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:e.logger});return D_(o)},r)},"fromContainerMetadata"),FU=Y(async(e,t)=>(process.env[Yc]&&(t.headers={...t.headers,Authorization:process.env[Yc]}),(await _r({...t,timeout:e})).toString()),"requestFromEcsImds"),UU="169.254.170.2",LU={localhost:!0,"127.0.0.1":!0},qU={"http:":!0,"https:":!0},jU=Y(async({logger:e})=>{if(process.env[Ri])return{hostname:UU,path:process.env[Ri]};if(process.env[Pi]){let t=(0,NU.parse)(process.env[Pi]);if(!t.hostname||!(t.hostname in LU))throw new ze.CredentialsProviderError(`${t.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:e});if(!t.protocol||!(t.protocol in qU))throw new ze.CredentialsProviderError(`${t.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:e});return{...t,port:t.port?parseInt(t.port,10):void 0}}throw new ze.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${Ri} or ${Pi} environment variable is set`,{tryNextLink:!1,logger:e})},"getCmdsUri"),U_=class L_ extends ze.CredentialsProviderError{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="InstanceMetadataV1FallbackError",Object.setPrototypeOf(this,L_.prototype)}};Y(U_,"InstanceMetadataV1FallbackError");var BU=U_,Qc=et(),HU=$t(),q_=(e=>(e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]",e))(q_||{}),$U="AWS_EC2_METADATA_SERVICE_ENDPOINT",GU="ec2_metadata_service_endpoint",zU={environmentVariableSelector:e=>e[$U],configFileSelector:e=>e[GU],default:void 0},j_=(e=>(e.IPv4="IPv4",e.IPv6="IPv6",e))(j_||{}),VU="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",WU="ec2_metadata_service_endpoint_mode",KU={environmentVariableSelector:e=>e[VU],configFileSelector:e=>e[WU],default:"IPv4"},B_=Y(async()=>(0,HU.parseUrl)(await JU()||await YU()),"getInstanceMetadataEndpoint"),JU=Y(async()=>(0,Qc.loadConfig)(zU)(),"getFromEndpointConfig"),YU=Y(async()=>{let e=await(0,Qc.loadConfig)(KU)();switch(e){case"IPv4":return"http://169.254.169.254";case"IPv6":return"http://[fd00:ec2::254]";default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(j_)}`)}},"getFromEndpointModeConfig"),XU=5*60,QU=5*60,ZU="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",A_=Y((e,t)=>{let r=XU+Math.floor(Math.random()*QU),n=new Date(Date.now()+r*1e3);t.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(n)}.
For more information, please visit: `+ZU);let o=e.originalExpiration??e.expiration;return{...e,...o?{originalExpiration:o}:{},expiration:n}},"getExtendedInstanceMetadataCredentials"),eL=Y((e,t={})=>{let r=t?.logger||console,n;return async()=>{let o;try{o=await e(),o.expiration&&o.expiration.getTime()<Date.now()&&(o=A_(o,r))}catch(i){if(n)r.warn("Credential renew failed: ",i),o=A_(n,r);else throw i}return n=o,o}},"staticStabilityProvider"),H_="/latest/meta-data/iam/security-credentials/",tL="/latest/api/token",Kc="AWS_EC2_METADATA_V1_DISABLED",T_="ec2_metadata_v1_disabled",I_="x-aws-ec2-metadata-token",rL=Y((e={})=>eL(nL(e),{logger:e.logger}),"fromInstanceMetadata"),nL=Y((e={})=>{let t=!1,{logger:r,profile:n}=e,{timeout:o,maxRetries:i}=Xc(e),s=Y(async(a,c)=>{var l;if(t||((l=c.headers)==null?void 0:l[I_])==null){let p=!1,f=!1,h=await(0,Qc.loadConfig)({environmentVariableSelector:y=>{let S=y[Kc];if(f=!!S&&S!=="false",S===void 0)throw new ze.CredentialsProviderError(`${Kc} not set in env, checking config file next.`,{logger:e.logger});return f},configFileSelector:y=>{let S=y[T_];return p=!!S&&S!=="false",p},default:!1},{profile:n})();if(e.ec2MetadataV1Disabled||h){let y=[];throw e.ec2MetadataV1Disabled&&y.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),p&&y.push(`config file profile (${T_})`),f&&y.push(`process environment variable (${Kc})`),new BU(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${y.join(", ")}].`)}}let u=(await Jc(async()=>{let p;try{p=await iL(c)}catch(f){throw f.statusCode===401&&(t=!1),f}return p},a)).trim();return Jc(async()=>{let p;try{p=await sL(u,c,e)}catch(f){throw f.statusCode===401&&(t=!1),f}return p},a)},"getCredentials");return async()=>{let a=await B_();if(t)return r?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),s(i,{...a,timeout:o});{let c;try{c=(await oL({...a,timeout:o})).toString()}catch(l){if(l?.statusCode===400)throw Object.assign(l,{message:"EC2 Metadata token request returned error"});return(l.message==="TimeoutError"||[403,404,405].includes(l.statusCode))&&(t=!0),r?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),s(i,{...a,timeout:o})}return s(i,{...a,headers:{[I_]:c},timeout:o})}}},"getInstanceMetadataProvider"),oL=Y(async e=>_r({...e,path:tL,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),"getMetadataToken"),iL=Y(async e=>(await _r({...e,path:H_})).toString(),"getProfile"),sL=Y(async(e,t,r)=>{let n=JSON.parse((await _r({...t,path:H_+e})).toString());if(!k_(n))throw new ze.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:r.logger});return D_(n)},"getCredentialsFromProfile")});var G_=g(Ai=>{"use strict";Object.defineProperty(Ai,"__esModule",{value:!0});Ai.checkUrl=void 0;var aL=fe(),cL="169.254.170.2",lL="169.254.170.23",dL="[fd00:ec2::23]",uL=(e,t)=>{if(e.protocol!=="https:"&&!(e.hostname===cL||e.hostname===lL||e.hostname===dL)){if(e.hostname.includes("[")){if(e.hostname==="[::1]"||e.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(e.hostname==="localhost")return;let r=e.hostname.split("."),n=o=>{let i=parseInt(o,10);return 0<=i&&i<=255};if(r[0]==="127"&&n(r[1])&&n(r[2])&&n(r[3])&&r.length===4)return}throw new aL.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:t})}};Ai.checkUrl=uL});var z_=g(yr=>{"use strict";Object.defineProperty(yr,"__esModule",{value:!0});yr.getCredentials=yr.createGetRequest=void 0;var Zc=fe(),pL=Q(),fL=L(),mL=ec();function gL(e){return new pL.HttpRequest({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((t,[r,n])=>(t[r]=n,t),{}),fragment:e.hash})}yr.createGetRequest=gL;async function hL(e,t){let n=await(0,mL.sdkStreamMixin)(e.body).transformToString();if(e.statusCode===200){let o=JSON.parse(n);if(typeof o.AccessKeyId!="string"||typeof o.SecretAccessKey!="string"||typeof o.Token!="string"||typeof o.Expiration!="string")throw new Zc.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:t});return{accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.Token,expiration:(0,fL.parseRfc3339DateTime)(o.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let o={};try{o=JSON.parse(n)}catch{}throw Object.assign(new Zc.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t}),{Code:o.Code,Message:o.Message})}throw new Zc.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t})}yr.getCredentials=hL});var V_=g(Ti=>{"use strict";Object.defineProperty(Ti,"__esModule",{value:!0});Ti.retryWrapper=void 0;var vL=(e,t,r)=>async()=>{for(let n=0;n<t;++n)try{return await e()}catch{await new Promise(i=>setTimeout(i,r))}return await e()};Ti.retryWrapper=vL});var J_=g(Ii=>{"use strict";Object.defineProperty(Ii,"__esModule",{value:!0});Ii.fromHttp=void 0;var _L=(vr(),I(hr)),yL=Kt(),W_=fe(),EL=_L.__importDefault(D("fs/promises")),SL=G_(),K_=z_(),wL=V_(),xL="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",bL="http://169.254.170.2",CL="AWS_CONTAINER_CREDENTIALS_FULL_URI",PL="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",RL="AWS_CONTAINER_AUTHORIZATION_TOKEN",OL=(e={})=>{e.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let t,r=e.awsContainerCredentialsRelativeUri??process.env[xL],n=e.awsContainerCredentialsFullUri??process.env[CL],o=e.awsContainerAuthorizationToken??process.env[RL],i=e.awsContainerAuthorizationTokenFile??process.env[PL],s=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console.warn:e.logger.warn;if(r&&n&&(s("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),s("awsContainerCredentialsFullUri will take precedence.")),o&&i&&(s("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),s("awsContainerAuthorizationToken will take precedence.")),n)t=n;else if(r)t=`${bL}${r}`;else throw new W_.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:e.logger});let a=new URL(t);(0,SL.checkUrl)(a,e.logger);let c=new yL.NodeHttpHandler({requestTimeout:e.timeout??1e3,connectionTimeout:e.timeout??1e3});return(0,wL.retryWrapper)(async()=>{let l=(0,K_.createGetRequest)(a);o?l.headers.Authorization=o:i&&(l.headers.Authorization=(await EL.default.readFile(i)).toString());try{let d=await c.handle(l);return(0,K_.getCredentials)(d.response)}catch(d){throw new W_.CredentialsProviderError(String(d),{logger:e.logger})}},e.maxRetries??3,e.timeout??1e3)};Ii.fromHttp=OL});var el=g(Ni=>{"use strict";Object.defineProperty(Ni,"__esModule",{value:!0});Ni.fromHttp=void 0;var AL=J_();Object.defineProperty(Ni,"fromHttp",{enumerable:!0,get:function(){return AL.fromHttp}})});var tl=g(wt=>{"use strict";Object.defineProperty(wt,"__esModule",{value:!0});wt.resolveHttpAuthSchemeConfig=wt.defaultSSOHttpAuthSchemeProvider=wt.defaultSSOHttpAuthSchemeParametersProvider=void 0;var TL=(re(),I(te)),Y_=Ne(),IL=async(e,t,r)=>({operation:(0,Y_.getSmithyContext)(t).operation,region:await(0,Y_.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});wt.defaultSSOHttpAuthSchemeParametersProvider=IL;function NL(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function ki(e){return{schemeId:"smithy.api#noAuth"}}var kL=e=>{let t=[];switch(e.operation){case"GetRoleCredentials":{t.push(ki(e));break}case"ListAccountRoles":{t.push(ki(e));break}case"ListAccounts":{t.push(ki(e));break}case"Logout":{t.push(ki(e));break}default:t.push(NL(e))}return t};wt.defaultSSOHttpAuthSchemeProvider=kL;var DL=e=>({...(0,TL.resolveAwsSdkSigV4Config)(e)});wt.resolveHttpAuthSchemeConfig=DL});var X_=g((_5,ML)=>{ML.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.592.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/core":"3.592.0","@aws-sdk/middleware-host-header":"3.577.0","@aws-sdk/middleware-logger":"3.577.0","@aws-sdk/middleware-recursion-detection":"3.577.0","@aws-sdk/middleware-user-agent":"3.587.0","@aws-sdk/region-config-resolver":"3.587.0","@aws-sdk/types":"3.577.0","@aws-sdk/util-endpoints":"3.587.0","@aws-sdk/util-user-agent-browser":"3.577.0","@aws-sdk/util-user-agent-node":"3.587.0","@smithy/config-resolver":"^3.0.1","@smithy/core":"^2.2.0","@smithy/fetch-http-handler":"^3.0.1","@smithy/hash-node":"^3.0.0","@smithy/invalid-dependency":"^3.0.0","@smithy/middleware-content-length":"^3.0.0","@smithy/middleware-endpoint":"^3.0.1","@smithy/middleware-retry":"^3.0.3","@smithy/middleware-serde":"^3.0.0","@smithy/middleware-stack":"^3.0.0","@smithy/node-config-provider":"^3.1.0","@smithy/node-http-handler":"^3.0.0","@smithy/protocol-http":"^4.0.0","@smithy/smithy-client":"^3.1.1","@smithy/types":"^3.0.0","@smithy/url-parser":"^3.0.0","@smithy/util-base64":"^3.0.0","@smithy/util-body-length-browser":"^3.0.0","@smithy/util-body-length-node":"^3.0.0","@smithy/util-defaults-mode-browser":"^3.0.3","@smithy/util-defaults-mode-node":"^3.0.3","@smithy/util-endpoints":"^2.0.1","@smithy/util-middleware":"^3.0.0","@smithy/util-retry":"^3.0.0","@smithy/util-utf8":"^3.0.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node16":"16.1.3","@types/node":"^16.18.96",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=16.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var Cn=g((y5,oy)=>{"use strict";var Di=Object.defineProperty,FL=Object.getOwnPropertyDescriptor,UL=Object.getOwnPropertyNames,LL=Object.prototype.hasOwnProperty,Z_=(e,t)=>Di(e,"name",{value:t,configurable:!0}),qL=(e,t)=>{for(var r in t)Di(e,r,{get:t[r],enumerable:!0})},jL=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of UL(t))!LL.call(e,o)&&o!==r&&Di(e,o,{get:()=>t[o],enumerable:!(n=FL(t,o))||n.enumerable});return e},BL=e=>jL(Di({},"__esModule",{value:!0}),e),ey={};qL(ey,{UA_APP_ID_ENV_NAME:()=>ry,UA_APP_ID_INI_NAME:()=>ny,crtAvailability:()=>ty,defaultUserAgent:()=>GL});oy.exports=BL(ey);var HL=et(),Q_=D("os"),rl=D("process"),ty={isCrtAvailable:!1},$L=Z_(()=>ty.isCrtAvailable?["md/crt-avail"]:null,"isCrtAvailable"),ry="AWS_SDK_UA_APP_ID",ny="sdk-ua-app-id",GL=Z_(({serviceId:e,clientVersion:t})=>{let r=[["aws-sdk-js",t],["ua","2.0"],[`os/${(0,Q_.platform)()}`,(0,Q_.release)()],["lang/js"],["md/nodejs",`${rl.versions.node}`]],n=$L();n&&r.push(n),e&&r.push([`api/${e}`,t]),rl.env.AWS_EXECUTION_ENV&&r.push([`exec-env/${rl.env.AWS_EXECUTION_ENV}`]);let o=(0,HL.loadConfig)({environmentVariableSelector:s=>s[ry],configFileSelector:s=>s[ny],default:void 0})(),i;return async()=>{if(!i){let s=await o;i=s?[...r,[`app/${s}`]]:[...r]}return i}},"defaultUserAgent")});var Pn=g((S5,ly)=>{var Mi=Object.defineProperty,zL=Object.getOwnPropertyDescriptor,VL=Object.getOwnPropertyNames,WL=Object.prototype.hasOwnProperty,sy=(e,t)=>Mi(e,"name",{value:t,configurable:!0}),KL=(e,t)=>{for(var r in t)Mi(e,r,{get:t[r],enumerable:!0})},JL=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of VL(t))!WL.call(e,o)&&o!==r&&Mi(e,o,{get:()=>t[o],enumerable:!(n=zL(t,o))||n.enumerable});return e},YL=e=>JL(Mi({},"__esModule",{value:!0}),e),ay={};KL(ay,{Hash:()=>ZL});ly.exports=YL(ay);var nl=ar(),XL=he(),QL=D("buffer"),iy=D("crypto"),cy=class{constructor(t,r){this.algorithmIdentifier=t,this.secret=r,this.reset()}update(t,r){this.hash.update((0,XL.toUint8Array)(ol(t,r)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,iy.createHmac)(this.algorithmIdentifier,ol(this.secret)):(0,iy.createHash)(this.algorithmIdentifier)}};sy(cy,"Hash");var ZL=cy;function ol(e,t){return QL.Buffer.isBuffer(e)?e:typeof e=="string"?(0,nl.fromString)(e,t):ArrayBuffer.isView(e)?(0,nl.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength):(0,nl.fromArrayBuffer)(e)}sy(ol,"castSourceData")});var Rn=g((w5,py)=>{var Fi=Object.defineProperty,eq=Object.getOwnPropertyDescriptor,tq=Object.getOwnPropertyNames,rq=Object.prototype.hasOwnProperty,nq=(e,t)=>Fi(e,"name",{value:t,configurable:!0}),oq=(e,t)=>{for(var r in t)Fi(e,r,{get:t[r],enumerable:!0})},iq=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of tq(t))!rq.call(e,o)&&o!==r&&Fi(e,o,{get:()=>t[o],enumerable:!(n=eq(t,o))||n.enumerable});return e},sq=e=>iq(Fi({},"__esModule",{value:!0}),e),uy={};oq(uy,{calculateBodyLength:()=>aq});py.exports=sq(uy);var dy=D("fs"),aq=nq(e=>{if(!e)return 0;if(typeof e=="string")return Buffer.byteLength(e);if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.start=="number"&&typeof e.end=="number")return e.end+1-e.start;if(typeof e.path=="string"||Buffer.isBuffer(e.path))return(0,dy.lstatSync)(e.path).size;if(typeof e.fd=="number")return(0,dy.fstatSync)(e.fd).size;throw new Error(`Body Length computation failed for ${e}`)},"calculateBodyLength")});var Ry=g(Ui=>{"use strict";Object.defineProperty(Ui,"__esModule",{value:!0});Ui.ruleSet=void 0;var xy="required",Se="fn",we="argv",wr="ref",fy=!0,my="isSet",On="booleanEquals",Er="error",Sr="endpoint",nt="tree",il="PartitionResult",sl="getAttr",gy={[xy]:!1,type:"String"},hy={[xy]:!0,default:!1,type:"Boolean"},vy={[wr]:"Endpoint"},by={[Se]:On,[we]:[{[wr]:"UseFIPS"},!0]},Cy={[Se]:On,[we]:[{[wr]:"UseDualStack"},!0]},Ee={},_y={[Se]:sl,[we]:[{[wr]:il},"supportsFIPS"]},Py={[wr]:il},yy={[Se]:On,[we]:[!0,{[Se]:sl,[we]:[Py,"supportsDualStack"]}]},Ey=[by],Sy=[Cy],wy=[{[wr]:"Region"}],cq={version:"1.0",parameters:{Region:gy,UseDualStack:hy,UseFIPS:hy,Endpoint:gy},rules:[{conditions:[{[Se]:my,[we]:[vy]}],rules:[{conditions:Ey,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Er},{conditions:Sy,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Er},{endpoint:{url:vy,properties:Ee,headers:Ee},type:Sr}],type:nt},{conditions:[{[Se]:my,[we]:wy}],rules:[{conditions:[{[Se]:"aws.partition",[we]:wy,assign:il}],rules:[{conditions:[by,Cy],rules:[{conditions:[{[Se]:On,[we]:[fy,_y]},yy],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ee,headers:Ee},type:Sr}],type:nt},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Er}],type:nt},{conditions:Ey,rules:[{conditions:[{[Se]:On,[we]:[_y,fy]}],rules:[{conditions:[{[Se]:"stringEquals",[we]:[{[Se]:sl,[we]:[Py,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:Ee,headers:Ee},type:Sr},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Ee,headers:Ee},type:Sr}],type:nt},{error:"FIPS is enabled but this partition does not support FIPS",type:Er}],type:nt},{conditions:Sy,rules:[{conditions:[yy],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ee,headers:Ee},type:Sr}],type:nt},{error:"DualStack is enabled but this partition does not support DualStack",type:Er}],type:nt},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:Ee,headers:Ee},type:Sr}],type:nt}],type:nt},{error:"Invalid Configuration: Missing Region",type:Er}]};Ui.ruleSet=cq});var Ay=g(Li=>{"use strict";Object.defineProperty(Li,"__esModule",{value:!0});Li.defaultEndpointResolver=void 0;var lq=nr(),Oy=tr(),dq=Ry(),uq=(e,t={})=>(0,Oy.resolveEndpoint)(dq.ruleSet,{endpointParams:e,logger:t.logger});Li.defaultEndpointResolver=uq;Oy.customEndpointFunctions.aws=lq.awsEndpointFunctions});var Ny=g(qi=>{"use strict";Object.defineProperty(qi,"__esModule",{value:!0});qi.getRuntimeConfig=void 0;var pq=(re(),I(te)),fq=(Ge(),I(tt)),mq=L(),gq=$t(),Ty=vt(),Iy=he(),hq=tl(),vq=Ay(),_q=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??Ty.fromBase64,base64Encoder:e?.base64Encoder??Ty.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??vq.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??hq.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new pq.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new fq.NoAuthSigner}],logger:e?.logger??new mq.NoOpLogger,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??gq.parseUrl,utf8Decoder:e?.utf8Decoder??Iy.fromUtf8,utf8Encoder:e?.utf8Encoder??Iy.toUtf8});qi.getRuntimeConfig=_q});var Tn=g((P5,Ly)=>{var yq=Object.create,An=Object.defineProperty,Eq=Object.getOwnPropertyDescriptor,Sq=Object.getOwnPropertyNames,wq=Object.getPrototypeOf,xq=Object.prototype.hasOwnProperty,al=(e,t)=>An(e,"name",{value:t,configurable:!0}),bq=(e,t)=>{for(var r in t)An(e,r,{get:t[r],enumerable:!0})},Fy=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Sq(t))!xq.call(e,o)&&o!==r&&An(e,o,{get:()=>t[o],enumerable:!(n=Eq(t,o))||n.enumerable});return e},Cq=(e,t,r)=>(r=e!=null?yq(wq(e)):{},Fy(t||!e||!e.__esModule?An(r,"default",{value:e,enumerable:!0}):r,e)),Pq=e=>Fy(An({},"__esModule",{value:!0}),e),Uy={};bq(Uy,{resolveDefaultsModeConfig:()=>Fq});Ly.exports=Pq(Uy);var Rq=Be(),ky=et(),Oq=fe(),Aq="AWS_EXECUTION_ENV",Dy="AWS_REGION",My="AWS_DEFAULT_REGION",Tq="AWS_EC2_METADATA_DISABLED",Iq=["in-region","cross-region","mobile","standard","legacy"],Nq="/latest/meta-data/placement/region",kq="AWS_DEFAULTS_MODE",Dq="defaults_mode",Mq={environmentVariableSelector:e=>e[kq],configFileSelector:e=>e[Dq],default:"legacy"},Fq=al(({region:e=(0,ky.loadConfig)(Rq.NODE_REGION_CONFIG_OPTIONS),defaultsMode:t=(0,ky.loadConfig)(Mq)}={})=>(0,Oq.memoize)(async()=>{let r=typeof t=="function"?await t():t;switch(r?.toLowerCase()){case"auto":return Uq(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${Iq.join(", ")}, got ${r}`)}}),"resolveDefaultsModeConfig"),Uq=al(async e=>{if(e){let t=typeof e=="function"?await e():e,r=await Lq();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},"resolveNodeDefaultsModeAuto"),Lq=al(async()=>{if(process.env[Aq]&&(process.env[Dy]||process.env[My]))return process.env[Dy]??process.env[My];if(!process.env[Tq])try{let{getInstanceMetadataEndpoint:e,httpRequest:t}=await Promise.resolve().then(()=>Cq(bn())),r=await e();return(await t({...r,path:Nq})).toString()}catch{}},"inferPhysicalRegion")});var By=g(Bi=>{"use strict";Object.defineProperty(Bi,"__esModule",{value:!0});Bi.getRuntimeConfig=void 0;var qq=(vr(),I(hr)),jq=qq.__importDefault(X_()),Bq=(re(),I(te)),Hq=Cn(),ji=Be(),$q=Pn(),qy=$e(),In=et(),jy=Kt(),Gq=Rn(),zq=sr(),Vq=Ny(),Wq=L(),Kq=Tn(),Jq=L(),Yq=e=>{(0,Jq.emitWarningIfUnsupportedVersion)(process.version);let t=(0,Kq.resolveDefaultsModeConfig)(e),r=()=>t().then(Wq.loadConfigsForDefaultMode),n=(0,Vq.getRuntimeConfig)(e);return(0,Bq.emitWarningIfUnsupportedVersion)(process.version),{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??Gq.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Hq.defaultUserAgent)({serviceId:n.serviceId,clientVersion:jq.default.version}),maxAttempts:e?.maxAttempts??(0,In.loadConfig)(qy.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:e?.region??(0,In.loadConfig)(ji.NODE_REGION_CONFIG_OPTIONS,ji.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:jy.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,In.loadConfig)({...qy.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||zq.DEFAULT_RETRY_MODE}),sha256:e?.sha256??$q.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??jy.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,In.loadConfig)(ji.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:e?.useFipsEndpoint??(0,In.loadConfig)(ji.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};Bi.getRuntimeConfig=Yq});var Nn=g((O5,Wy)=>{"use strict";var Hi=Object.defineProperty,Xq=Object.getOwnPropertyDescriptor,Qq=Object.getOwnPropertyNames,Zq=Object.prototype.hasOwnProperty,xr=(e,t)=>Hi(e,"name",{value:t,configurable:!0}),ej=(e,t)=>{for(var r in t)Hi(e,r,{get:t[r],enumerable:!0})},tj=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Qq(t))!Zq.call(e,o)&&o!==r&&Hi(e,o,{get:()=>t[o],enumerable:!(n=Xq(t,o))||n.enumerable});return e},rj=e=>tj(Hi({},"__esModule",{value:!0}),e),$y={};ej($y,{NODE_REGION_CONFIG_FILE_OPTIONS:()=>sj,NODE_REGION_CONFIG_OPTIONS:()=>ij,REGION_ENV_NAME:()=>Gy,REGION_INI_NAME:()=>zy,getAwsRegionExtensionConfiguration:()=>nj,resolveAwsRegionExtensionConfiguration:()=>oj,resolveRegionConfig:()=>aj});Wy.exports=rj($y);var nj=xr(e=>{let t=xr(async()=>{if(e.region===void 0)throw new Error("Region is missing from runtimeConfig");let r=e.region;return typeof r=="string"?r:r()},"runtimeConfigRegion");return{setRegion(r){t=r},region(){return t}}},"getAwsRegionExtensionConfiguration"),oj=xr(e=>({region:e.region()}),"resolveAwsRegionExtensionConfiguration"),Gy="AWS_REGION",zy="region",ij={environmentVariableSelector:e=>e[Gy],configFileSelector:e=>e[zy],default:()=>{throw new Error("Region is missing")}},sj={preferredFile:"credentials"},Vy=xr(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),Hy=xr(e=>Vy(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),aj=xr(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return{...e,region:async()=>{if(typeof t=="string")return Hy(t);let n=await t();return Hy(n)},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return Vy(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}}},"resolveRegionConfig")});var UE=g((M5,FE)=>{"use strict";var Gi=Object.defineProperty,cj=Object.getOwnPropertyDescriptor,lj=Object.getOwnPropertyNames,dj=Object.prototype.hasOwnProperty,T=(e,t)=>Gi(e,"name",{value:t,configurable:!0}),uj=(e,t)=>{for(var r in t)Gi(e,r,{get:t[r],enumerable:!0})},pj=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of lj(t))!dj.call(e,o)&&o!==r&&Gi(e,o,{get:()=>t[o],enumerable:!(n=cj(t,o))||n.enumerable});return e},fj=e=>pj(Gi({},"__esModule",{value:!0}),e),eE={};uj(eE,{GetRoleCredentialsCommand:()=>AE,GetRoleCredentialsRequestFilterSensitiveLog:()=>hE,GetRoleCredentialsResponseFilterSensitiveLog:()=>_E,InvalidRequestException:()=>sE,ListAccountRolesCommand:()=>cl,ListAccountRolesRequestFilterSensitiveLog:()=>yE,ListAccountsCommand:()=>ll,ListAccountsRequestFilterSensitiveLog:()=>EE,LogoutCommand:()=>kE,LogoutRequestFilterSensitiveLog:()=>SE,ResourceNotFoundException:()=>lE,RoleCredentialsFilterSensitiveLog:()=>vE,SSO:()=>ME,SSOClient:()=>Vi,SSOServiceException:()=>br,TooManyRequestsException:()=>pE,UnauthorizedException:()=>gE,__Client:()=>b.Client,paginateListAccountRoles:()=>qj,paginateListAccounts:()=>jj});FE.exports=fj(eE);var Ky=Xr(),mj=Qr(),gj=Zr(),Jy=tn(),hj=Be(),ot=(Ge(),I(tt)),vj=yn(),Dn=zt(),Yy=$e(),Xy=tl(),_j=T(e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),"resolveClientEndpointParameters"),zi={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},yj=By(),Qy=Nn(),Zy=Q(),b=L(),Ej=T(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let i=t.findIndex(s=>s.schemeId===o.schemeId);i===-1?t.push(o):t.splice(i,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),Sj=T(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),$i=T(e=>e,"asPartial"),wj=T((e,t)=>{let r={...$i((0,Qy.getAwsRegionExtensionConfiguration)(e)),...$i((0,b.getDefaultExtensionConfiguration)(e)),...$i((0,Zy.getHttpHandlerExtensionConfiguration)(e)),...$i(Ej(e))};return t.forEach(n=>n.configure(r)),{...e,...(0,Qy.resolveAwsRegionExtensionConfiguration)(r),...(0,b.resolveDefaultRuntimeConfig)(r),...(0,Zy.resolveHttpHandlerRuntimeConfig)(r),...Sj(r)}},"resolveRuntimeExtensions"),tE=class extends b.Client{constructor(...[t]){let r=(0,yj.getRuntimeConfig)(t||{}),n=_j(r),o=(0,hj.resolveRegionConfig)(n),i=(0,Dn.resolveEndpointConfig)(o),s=(0,Yy.resolveRetryConfig)(i),a=(0,Ky.resolveHostHeaderConfig)(s),c=(0,Jy.resolveUserAgentConfig)(a),l=(0,Xy.resolveHttpAuthSchemeConfig)(c),d=wj(l,t?.extensions||[]);super(d),this.config=d,this.middlewareStack.use((0,Yy.getRetryPlugin)(this.config)),this.middlewareStack.use((0,vj.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Ky.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,mj.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,gj.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,Jy.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,ot.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:this.getDefaultHttpAuthSchemeParametersProvider(),identityProviderConfigProvider:this.getIdentityProviderConfigProvider()})),this.middlewareStack.use((0,ot.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}getDefaultHttpAuthSchemeParametersProvider(){return Xy.defaultSSOHttpAuthSchemeParametersProvider}getIdentityProviderConfigProvider(){return async t=>new ot.DefaultIdentityProviderConfig({"aws.auth#sigv4":t.credentials})}};T(tE,"SSOClient");var Vi=tE,Wi=Gt(),rE=class nE extends b.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,nE.prototype)}};T(rE,"SSOServiceException");var br=rE,oE=class iE extends br{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,iE.prototype)}};T(oE,"InvalidRequestException");var sE=oE,aE=class cE extends br{constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,cE.prototype)}};T(aE,"ResourceNotFoundException");var lE=aE,dE=class uE extends br{constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,uE.prototype)}};T(dE,"TooManyRequestsException");var pE=dE,fE=class mE extends br{constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),this.name="UnauthorizedException",this.$fault="client",Object.setPrototypeOf(this,mE.prototype)}};T(fE,"UnauthorizedException");var gE=fE,hE=T(e=>({...e,...e.accessToken&&{accessToken:b.SENSITIVE_STRING}}),"GetRoleCredentialsRequestFilterSensitiveLog"),vE=T(e=>({...e,...e.secretAccessKey&&{secretAccessKey:b.SENSITIVE_STRING},...e.sessionToken&&{sessionToken:b.SENSITIVE_STRING}}),"RoleCredentialsFilterSensitiveLog"),_E=T(e=>({...e,...e.roleCredentials&&{roleCredentials:vE(e.roleCredentials)}}),"GetRoleCredentialsResponseFilterSensitiveLog"),yE=T(e=>({...e,...e.accessToken&&{accessToken:b.SENSITIVE_STRING}}),"ListAccountRolesRequestFilterSensitiveLog"),EE=T(e=>({...e,...e.accessToken&&{accessToken:b.SENSITIVE_STRING}}),"ListAccountsRequestFilterSensitiveLog"),SE=T(e=>({...e,...e.accessToken&&{accessToken:b.SENSITIVE_STRING}}),"LogoutRequestFilterSensitiveLog"),kn=(re(),I(te)),xj=T(async(e,t)=>{let r=(0,ot.requestBuilder)(e,t),n=(0,b.map)({},Ji,{[Xi]:e[Yi]});r.bp("/federation/credentials");let o=(0,b.map)({[Uj]:[,(0,b.expectNonNull)(e[Fj],"roleName")],[xE]:[,(0,b.expectNonNull)(e[wE],"accountId")]}),i;return r.m("GET").h(n).q(o).b(i),r.build()},"se_GetRoleCredentialsCommand"),bj=T(async(e,t)=>{let r=(0,ot.requestBuilder)(e,t),n=(0,b.map)({},Ji,{[Xi]:e[Yi]});r.bp("/assignment/roles");let o=(0,b.map)({[RE]:[,e[PE]],[CE]:[()=>e.maxResults!==void 0,()=>e[bE].toString()],[xE]:[,(0,b.expectNonNull)(e[wE],"accountId")]}),i;return r.m("GET").h(n).q(o).b(i),r.build()},"se_ListAccountRolesCommand"),Cj=T(async(e,t)=>{let r=(0,ot.requestBuilder)(e,t),n=(0,b.map)({},Ji,{[Xi]:e[Yi]});r.bp("/assignment/accounts");let o=(0,b.map)({[RE]:[,e[PE]],[CE]:[()=>e.maxResults!==void 0,()=>e[bE].toString()]}),i;return r.m("GET").h(n).q(o).b(i),r.build()},"se_ListAccountsCommand"),Pj=T(async(e,t)=>{let r=(0,ot.requestBuilder)(e,t),n=(0,b.map)({},Ji,{[Xi]:e[Yi]});r.bp("/logout");let o;return r.m("POST").h(n).b(o),r.build()},"se_LogoutCommand"),Rj=T(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Ki(e,t);let r=(0,b.map)({$metadata:xt(e)}),n=(0,b.expectNonNull)((0,b.expectObject)(await(0,kn.parseJsonBody)(e.body,t)),"body"),o=(0,b.take)(n,{roleCredentials:b._json});return Object.assign(r,o),r},"de_GetRoleCredentialsCommand"),Oj=T(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Ki(e,t);let r=(0,b.map)({$metadata:xt(e)}),n=(0,b.expectNonNull)((0,b.expectObject)(await(0,kn.parseJsonBody)(e.body,t)),"body"),o=(0,b.take)(n,{nextToken:b.expectString,roleList:b._json});return Object.assign(r,o),r},"de_ListAccountRolesCommand"),Aj=T(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Ki(e,t);let r=(0,b.map)({$metadata:xt(e)}),n=(0,b.expectNonNull)((0,b.expectObject)(await(0,kn.parseJsonBody)(e.body,t)),"body"),o=(0,b.take)(n,{accountList:b._json,nextToken:b.expectString});return Object.assign(r,o),r},"de_ListAccountsCommand"),Tj=T(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Ki(e,t);let r=(0,b.map)({$metadata:xt(e)});return await(0,b.collectBody)(e.body,t),r},"de_LogoutCommand"),Ki=T(async(e,t)=>{let r={...e,body:await(0,kn.parseJsonErrorBody)(e.body,t)},n=(0,kn.loadRestJsonErrorCode)(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await Nj(r,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await kj(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await Dj(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await Mj(r,t);default:let o=r.body;return Ij({output:e,parsedBody:o,errorCode:n})}},"de_CommandError"),Ij=(0,b.withBaseException)(br),Nj=T(async(e,t)=>{let r=(0,b.map)({}),n=e.body,o=(0,b.take)(n,{message:b.expectString});Object.assign(r,o);let i=new sE({$metadata:xt(e),...r});return(0,b.decorateServiceException)(i,e.body)},"de_InvalidRequestExceptionRes"),kj=T(async(e,t)=>{let r=(0,b.map)({}),n=e.body,o=(0,b.take)(n,{message:b.expectString});Object.assign(r,o);let i=new lE({$metadata:xt(e),...r});return(0,b.decorateServiceException)(i,e.body)},"de_ResourceNotFoundExceptionRes"),Dj=T(async(e,t)=>{let r=(0,b.map)({}),n=e.body,o=(0,b.take)(n,{message:b.expectString});Object.assign(r,o);let i=new pE({$metadata:xt(e),...r});return(0,b.decorateServiceException)(i,e.body)},"de_TooManyRequestsExceptionRes"),Mj=T(async(e,t)=>{let r=(0,b.map)({}),n=e.body,o=(0,b.take)(n,{message:b.expectString});Object.assign(r,o);let i=new gE({$metadata:xt(e),...r});return(0,b.decorateServiceException)(i,e.body)},"de_UnauthorizedExceptionRes"),xt=T(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),Ji=T(e=>e!=null&&e!==""&&(!Object.getOwnPropertyNames(e).includes("length")||e.length!=0)&&(!Object.getOwnPropertyNames(e).includes("size")||e.size!=0),"isSerializableHeaderValue"),wE="accountId",Yi="accessToken",xE="account_id",bE="maxResults",CE="max_result",PE="nextToken",RE="next_token",Fj="roleName",Uj="role_name",Xi="x-amz-sso_bearer_token",OE=class extends b.Command.classBuilder().ep({...zi}).m(function(t,r,n,o){return[(0,Wi.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Dn.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(hE,_E).ser(xj).de(Rj).build(){};T(OE,"GetRoleCredentialsCommand");var AE=OE,TE=class extends b.Command.classBuilder().ep({...zi}).m(function(t,r,n,o){return[(0,Wi.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Dn.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").f(yE,void 0).ser(bj).de(Oj).build(){};T(TE,"ListAccountRolesCommand");var cl=TE,IE=class extends b.Command.classBuilder().ep({...zi}).m(function(t,r,n,o){return[(0,Wi.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Dn.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").f(EE,void 0).ser(Cj).de(Aj).build(){};T(IE,"ListAccountsCommand");var ll=IE,NE=class extends b.Command.classBuilder().ep({...zi}).m(function(t,r,n,o){return[(0,Wi.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Dn.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").f(SE,void 0).ser(Pj).de(Tj).build(){};T(NE,"LogoutCommand");var kE=NE,Lj={GetRoleCredentialsCommand:AE,ListAccountRolesCommand:cl,ListAccountsCommand:ll,LogoutCommand:kE},DE=class extends Vi{};T(DE,"SSO");var ME=DE;(0,b.createAggregatedClient)(Lj,ME);var qj=(0,ot.createPaginator)(Vi,cl,"nextToken","nextToken","maxResults"),jj=(0,ot.createPaginator)(Vi,ll,"nextToken","nextToken","maxResults")});var ul=g(bt=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});bt.resolveHttpAuthSchemeConfig=bt.defaultSSOOIDCHttpAuthSchemeProvider=bt.defaultSSOOIDCHttpAuthSchemeParametersProvider=void 0;var Bj=(re(),I(te)),LE=Ne(),Hj=async(e,t,r)=>({operation:(0,LE.getSmithyContext)(t).operation,region:await(0,LE.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});bt.defaultSSOOIDCHttpAuthSchemeParametersProvider=Hj;function $j(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function dl(e){return{schemeId:"smithy.api#noAuth"}}var Gj=e=>{let t=[];switch(e.operation){case"CreateToken":{t.push(dl(e));break}case"RegisterClient":{t.push(dl(e));break}case"StartDeviceAuthorization":{t.push(dl(e));break}default:t.push($j(e))}return t};bt.defaultSSOOIDCHttpAuthSchemeProvider=Gj;var zj=e=>({...(0,Bj.resolveAwsSdkSigV4Config)(e)});bt.resolveHttpAuthSchemeConfig=zj});var qE=g((U5,Vj)=>{Vj.exports={name:"@aws-sdk/client-sso-oidc",description:"AWS SDK for JavaScript Sso Oidc Client for Node.js, Browser and React Native",version:"3.596.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso-oidc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso-oidc"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sts":"3.596.0","@aws-sdk/core":"3.592.0","@aws-sdk/credential-provider-node":"3.596.0","@aws-sdk/middleware-host-header":"3.577.0","@aws-sdk/middleware-logger":"3.577.0","@aws-sdk/middleware-recursion-detection":"3.577.0","@aws-sdk/middleware-user-agent":"3.587.0","@aws-sdk/region-config-resolver":"3.587.0","@aws-sdk/types":"3.577.0","@aws-sdk/util-endpoints":"3.587.0","@aws-sdk/util-user-agent-browser":"3.577.0","@aws-sdk/util-user-agent-node":"3.587.0","@smithy/config-resolver":"^3.0.1","@smithy/core":"^2.2.0","@smithy/fetch-http-handler":"^3.0.1","@smithy/hash-node":"^3.0.0","@smithy/invalid-dependency":"^3.0.0","@smithy/middleware-content-length":"^3.0.0","@smithy/middleware-endpoint":"^3.0.1","@smithy/middleware-retry":"^3.0.3","@smithy/middleware-serde":"^3.0.0","@smithy/middleware-stack":"^3.0.0","@smithy/node-config-provider":"^3.1.0","@smithy/node-http-handler":"^3.0.0","@smithy/protocol-http":"^4.0.0","@smithy/smithy-client":"^3.1.1","@smithy/types":"^3.0.0","@smithy/url-parser":"^3.0.0","@smithy/util-base64":"^3.0.0","@smithy/util-body-length-browser":"^3.0.0","@smithy/util-body-length-node":"^3.0.0","@smithy/util-defaults-mode-browser":"^3.0.3","@smithy/util-defaults-mode-node":"^3.0.3","@smithy/util-endpoints":"^2.0.1","@smithy/util-middleware":"^3.0.0","@smithy/util-retry":"^3.0.0","@smithy/util-utf8":"^3.0.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node16":"16.1.3","@types/node":"^16.18.96",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=16.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso-oidc",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso-oidc"}}});var eS=g(Qi=>{"use strict";Object.defineProperty(Qi,"__esModule",{value:!0});Qi.ruleSet=void 0;var YE="required",be="fn",Ce="argv",Rr="ref",jE=!0,BE="isSet",Mn="booleanEquals",Cr="error",Pr="endpoint",it="tree",pl="PartitionResult",fl="getAttr",HE={[YE]:!1,type:"String"},$E={[YE]:!0,default:!1,type:"Boolean"},GE={[Rr]:"Endpoint"},XE={[be]:Mn,[Ce]:[{[Rr]:"UseFIPS"},!0]},QE={[be]:Mn,[Ce]:[{[Rr]:"UseDualStack"},!0]},xe={},zE={[be]:fl,[Ce]:[{[Rr]:pl},"supportsFIPS"]},ZE={[Rr]:pl},VE={[be]:Mn,[Ce]:[!0,{[be]:fl,[Ce]:[ZE,"supportsDualStack"]}]},WE=[XE],KE=[QE],JE=[{[Rr]:"Region"}],Wj={version:"1.0",parameters:{Region:HE,UseDualStack:$E,UseFIPS:$E,Endpoint:HE},rules:[{conditions:[{[be]:BE,[Ce]:[GE]}],rules:[{conditions:WE,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Cr},{conditions:KE,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Cr},{endpoint:{url:GE,properties:xe,headers:xe},type:Pr}],type:it},{conditions:[{[be]:BE,[Ce]:JE}],rules:[{conditions:[{[be]:"aws.partition",[Ce]:JE,assign:pl}],rules:[{conditions:[XE,QE],rules:[{conditions:[{[be]:Mn,[Ce]:[jE,zE]},VE],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:xe,headers:xe},type:Pr}],type:it},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Cr}],type:it},{conditions:WE,rules:[{conditions:[{[be]:Mn,[Ce]:[zE,jE]}],rules:[{conditions:[{[be]:"stringEquals",[Ce]:[{[be]:fl,[Ce]:[ZE,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:xe,headers:xe},type:Pr},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:xe,headers:xe},type:Pr}],type:it},{error:"FIPS is enabled but this partition does not support FIPS",type:Cr}],type:it},{conditions:KE,rules:[{conditions:[VE],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:xe,headers:xe},type:Pr}],type:it},{error:"DualStack is enabled but this partition does not support DualStack",type:Cr}],type:it},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:xe,headers:xe},type:Pr}],type:it}],type:it},{error:"Invalid Configuration: Missing Region",type:Cr}]};Qi.ruleSet=Wj});var rS=g(Zi=>{"use strict";Object.defineProperty(Zi,"__esModule",{value:!0});Zi.defaultEndpointResolver=void 0;var Kj=nr(),tS=tr(),Jj=eS(),Yj=(e,t={})=>(0,tS.resolveEndpoint)(Jj.ruleSet,{endpointParams:e,logger:t.logger});Zi.defaultEndpointResolver=Yj;tS.customEndpointFunctions.aws=Kj.awsEndpointFunctions});var iS=g(es=>{"use strict";Object.defineProperty(es,"__esModule",{value:!0});es.getRuntimeConfig=void 0;var Xj=(re(),I(te)),Qj=(Ge(),I(tt)),Zj=L(),eB=$t(),nS=vt(),oS=he(),tB=ul(),rB=rS(),nB=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??nS.fromBase64,base64Encoder:e?.base64Encoder??nS.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??rB.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??tB.defaultSSOOIDCHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Xj.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Qj.NoAuthSigner}],logger:e?.logger??new Zj.NoOpLogger,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??eB.parseUrl,utf8Decoder:e?.utf8Decoder??oS.fromUtf8,utf8Encoder:e?.utf8Encoder??oS.toUtf8});es.getRuntimeConfig=nB});var cS=g(rs=>{"use strict";Object.defineProperty(rs,"__esModule",{value:!0});rs.getRuntimeConfig=void 0;var oB=(vr(),I(hr)),iB=oB.__importDefault(qE()),sB=(re(),I(te)),aB=ns(),cB=Cn(),ts=Be(),lB=Pn(),sS=$e(),Fn=et(),aS=Kt(),dB=Rn(),uB=sr(),pB=iS(),fB=L(),mB=Tn(),gB=L(),hB=e=>{(0,gB.emitWarningIfUnsupportedVersion)(process.version);let t=(0,mB.resolveDefaultsModeConfig)(e),r=()=>t().then(fB.loadConfigsForDefaultMode),n=(0,pB.getRuntimeConfig)(e);return(0,sB.emitWarningIfUnsupportedVersion)(process.version),{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??dB.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??aB.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,cB.defaultUserAgent)({serviceId:n.serviceId,clientVersion:iB.default.version}),maxAttempts:e?.maxAttempts??(0,Fn.loadConfig)(sS.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:e?.region??(0,Fn.loadConfig)(ts.NODE_REGION_CONFIG_OPTIONS,ts.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:aS.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Fn.loadConfig)({...sS.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||uB.DEFAULT_RETRY_MODE}),sha256:e?.sha256??lB.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??aS.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Fn.loadConfig)(ts.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:e?.useFipsEndpoint??(0,Fn.loadConfig)(ts.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};rs.getRuntimeConfig=hB});var ml=g((K5,b0)=>{"use strict";var is=Object.defineProperty,vB=Object.getOwnPropertyDescriptor,_B=Object.getOwnPropertyNames,yB=Object.prototype.hasOwnProperty,P=(e,t)=>is(e,"name",{value:t,configurable:!0}),EB=(e,t)=>{for(var r in t)is(e,r,{get:t[r],enumerable:!0})},SB=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of _B(t))!yB.call(e,o)&&o!==r&&is(e,o,{get:()=>t[o],enumerable:!(n=vB(t,o))||n.enumerable});return e},wB=e=>SB(is({},"__esModule",{value:!0}),e),gS={};EB(gS,{AccessDeniedException:()=>wS,AuthorizationPendingException:()=>CS,CreateTokenCommand:()=>g0,CreateTokenRequestFilterSensitiveLog:()=>c0,CreateTokenResponseFilterSensitiveLog:()=>l0,CreateTokenWithIAMCommand:()=>v0,CreateTokenWithIAMRequestFilterSensitiveLog:()=>d0,CreateTokenWithIAMResponseFilterSensitiveLog:()=>u0,ExpiredTokenException:()=>OS,InternalServerException:()=>IS,InvalidClientException:()=>DS,InvalidClientMetadataException:()=>o0,InvalidGrantException:()=>US,InvalidRedirectUriException:()=>a0,InvalidRequestException:()=>jS,InvalidRequestRegionException:()=>t0,InvalidScopeException:()=>$S,RegisterClientCommand:()=>y0,RegisterClientResponseFilterSensitiveLog:()=>p0,SSOOIDC:()=>x0,SSOOIDCClient:()=>vS,SSOOIDCServiceException:()=>ie,SlowDownException:()=>VS,StartDeviceAuthorizationCommand:()=>S0,StartDeviceAuthorizationRequestFilterSensitiveLog:()=>f0,UnauthorizedClientException:()=>JS,UnsupportedGrantTypeException:()=>QS,__Client:()=>m.Client});b0.exports=wB(gS);var lS=Xr(),xB=Qr(),bB=Zr(),dS=tn(),CB=Be(),Yt=(Ge(),I(tt)),PB=yn(),Un=zt(),uS=$e(),pS=ul(),RB=P(e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),"resolveClientEndpointParameters"),ss={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},OB=cS(),fS=Nn(),mS=Q(),m=L(),AB=P(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let i=t.findIndex(s=>s.schemeId===o.schemeId);i===-1?t.push(o):t.splice(i,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),TB=P(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),os=P(e=>e,"asPartial"),IB=P((e,t)=>{let r={...os((0,fS.getAwsRegionExtensionConfiguration)(e)),...os((0,m.getDefaultExtensionConfiguration)(e)),...os((0,mS.getHttpHandlerExtensionConfiguration)(e)),...os(AB(e))};return t.forEach(n=>n.configure(r)),{...e,...(0,fS.resolveAwsRegionExtensionConfiguration)(r),...(0,m.resolveDefaultRuntimeConfig)(r),...(0,mS.resolveHttpHandlerRuntimeConfig)(r),...TB(r)}},"resolveRuntimeExtensions"),hS=class extends m.Client{constructor(...[t]){let r=(0,OB.getRuntimeConfig)(t||{}),n=RB(r),o=(0,CB.resolveRegionConfig)(n),i=(0,Un.resolveEndpointConfig)(o),s=(0,uS.resolveRetryConfig)(i),a=(0,lS.resolveHostHeaderConfig)(s),c=(0,dS.resolveUserAgentConfig)(a),l=(0,pS.resolveHttpAuthSchemeConfig)(c),d=IB(l,t?.extensions||[]);super(d),this.config=d,this.middlewareStack.use((0,uS.getRetryPlugin)(this.config)),this.middlewareStack.use((0,PB.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,lS.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,xB.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,bB.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,dS.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,Yt.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:this.getDefaultHttpAuthSchemeParametersProvider(),identityProviderConfigProvider:this.getIdentityProviderConfigProvider()})),this.middlewareStack.use((0,Yt.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}getDefaultHttpAuthSchemeParametersProvider(){return pS.defaultSSOOIDCHttpAuthSchemeParametersProvider}getIdentityProviderConfigProvider(){return async t=>new Yt.DefaultIdentityProviderConfig({"aws.auth#sigv4":t.credentials})}};P(hS,"SSOOIDCClient");var vS=hS,as=Gt(),_S=class yS extends m.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,yS.prototype)}};P(_S,"SSOOIDCServiceException");var ie=_S,ES=class SS extends ie{constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),this.name="AccessDeniedException",this.$fault="client",Object.setPrototypeOf(this,SS.prototype),this.error=t.error,this.error_description=t.error_description}};P(ES,"AccessDeniedException");var wS=ES,xS=class bS extends ie{constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),this.name="AuthorizationPendingException",this.$fault="client",Object.setPrototypeOf(this,bS.prototype),this.error=t.error,this.error_description=t.error_description}};P(xS,"AuthorizationPendingException");var CS=xS,PS=class RS extends ie{constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,RS.prototype),this.error=t.error,this.error_description=t.error_description}};P(PS,"ExpiredTokenException");var OS=PS,AS=class TS extends ie{constructor(t){super({name:"InternalServerException",$fault:"server",...t}),this.name="InternalServerException",this.$fault="server",Object.setPrototypeOf(this,TS.prototype),this.error=t.error,this.error_description=t.error_description}};P(AS,"InternalServerException");var IS=AS,NS=class kS extends ie{constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),this.name="InvalidClientException",this.$fault="client",Object.setPrototypeOf(this,kS.prototype),this.error=t.error,this.error_description=t.error_description}};P(NS,"InvalidClientException");var DS=NS,MS=class FS extends ie{constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),this.name="InvalidGrantException",this.$fault="client",Object.setPrototypeOf(this,FS.prototype),this.error=t.error,this.error_description=t.error_description}};P(MS,"InvalidGrantException");var US=MS,LS=class qS extends ie{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,qS.prototype),this.error=t.error,this.error_description=t.error_description}};P(LS,"InvalidRequestException");var jS=LS,BS=class HS extends ie{constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),this.name="InvalidScopeException",this.$fault="client",Object.setPrototypeOf(this,HS.prototype),this.error=t.error,this.error_description=t.error_description}};P(BS,"InvalidScopeException");var $S=BS,GS=class zS extends ie{constructor(t){super({name:"SlowDownException",$fault:"client",...t}),this.name="SlowDownException",this.$fault="client",Object.setPrototypeOf(this,zS.prototype),this.error=t.error,this.error_description=t.error_description}};P(GS,"SlowDownException");var VS=GS,WS=class KS extends ie{constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),this.name="UnauthorizedClientException",this.$fault="client",Object.setPrototypeOf(this,KS.prototype),this.error=t.error,this.error_description=t.error_description}};P(WS,"UnauthorizedClientException");var JS=WS,YS=class XS extends ie{constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),this.name="UnsupportedGrantTypeException",this.$fault="client",Object.setPrototypeOf(this,XS.prototype),this.error=t.error,this.error_description=t.error_description}};P(YS,"UnsupportedGrantTypeException");var QS=YS,ZS=class e0 extends ie{constructor(t){super({name:"InvalidRequestRegionException",$fault:"client",...t}),this.name="InvalidRequestRegionException",this.$fault="client",Object.setPrototypeOf(this,e0.prototype),this.error=t.error,this.error_description=t.error_description,this.endpoint=t.endpoint,this.region=t.region}};P(ZS,"InvalidRequestRegionException");var t0=ZS,r0=class n0 extends ie{constructor(t){super({name:"InvalidClientMetadataException",$fault:"client",...t}),this.name="InvalidClientMetadataException",this.$fault="client",Object.setPrototypeOf(this,n0.prototype),this.error=t.error,this.error_description=t.error_description}};P(r0,"InvalidClientMetadataException");var o0=r0,i0=class s0 extends ie{constructor(t){super({name:"InvalidRedirectUriException",$fault:"client",...t}),this.name="InvalidRedirectUriException",this.$fault="client",Object.setPrototypeOf(this,s0.prototype),this.error=t.error,this.error_description=t.error_description}};P(i0,"InvalidRedirectUriException");var a0=i0,c0=P(e=>({...e,...e.clientSecret&&{clientSecret:m.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:m.SENSITIVE_STRING},...e.codeVerifier&&{codeVerifier:m.SENSITIVE_STRING}}),"CreateTokenRequestFilterSensitiveLog"),l0=P(e=>({...e,...e.accessToken&&{accessToken:m.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:m.SENSITIVE_STRING},...e.idToken&&{idToken:m.SENSITIVE_STRING}}),"CreateTokenResponseFilterSensitiveLog"),d0=P(e=>({...e,...e.refreshToken&&{refreshToken:m.SENSITIVE_STRING},...e.assertion&&{assertion:m.SENSITIVE_STRING},...e.subjectToken&&{subjectToken:m.SENSITIVE_STRING},...e.codeVerifier&&{codeVerifier:m.SENSITIVE_STRING}}),"CreateTokenWithIAMRequestFilterSensitiveLog"),u0=P(e=>({...e,...e.accessToken&&{accessToken:m.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:m.SENSITIVE_STRING},...e.idToken&&{idToken:m.SENSITIVE_STRING}}),"CreateTokenWithIAMResponseFilterSensitiveLog"),p0=P(e=>({...e,...e.clientSecret&&{clientSecret:m.SENSITIVE_STRING}}),"RegisterClientResponseFilterSensitiveLog"),f0=P(e=>({...e,...e.clientSecret&&{clientSecret:m.SENSITIVE_STRING}}),"StartDeviceAuthorizationRequestFilterSensitiveLog"),Or=(re(),I(te)),NB=P(async(e,t)=>{let r=(0,Yt.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/token");let o;return o=JSON.stringify((0,m.take)(e,{clientId:[],clientSecret:[],code:[],codeVerifier:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:i=>(0,m._json)(i)})),r.m("POST").h(n).b(o),r.build()},"se_CreateTokenCommand"),kB=P(async(e,t)=>{let r=(0,Yt.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/token");let o=(0,m.map)({[t3]:[,"t"]}),i;return i=JSON.stringify((0,m.take)(e,{assertion:[],clientId:[],code:[],codeVerifier:[],grantType:[],redirectUri:[],refreshToken:[],requestedTokenType:[],scope:s=>(0,m._json)(s),subjectToken:[],subjectTokenType:[]})),r.m("POST").h(n).q(o).b(i),r.build()},"se_CreateTokenWithIAMCommand"),DB=P(async(e,t)=>{let r=(0,Yt.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/client/register");let o;return o=JSON.stringify((0,m.take)(e,{clientName:[],clientType:[],entitledApplicationArn:[],grantTypes:i=>(0,m._json)(i),issuerUrl:[],redirectUris:i=>(0,m._json)(i),scopes:i=>(0,m._json)(i)})),r.m("POST").h(n).b(o),r.build()},"se_RegisterClientCommand"),MB=P(async(e,t)=>{let r=(0,Yt.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/device_authorization");let o;return o=JSON.stringify((0,m.take)(e,{clientId:[],clientSecret:[],startUrl:[]})),r.m("POST").h(n).b(o),r.build()},"se_StartDeviceAuthorizationCommand"),FB=P(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return cs(e,t);let r=(0,m.map)({$metadata:Z(e)}),n=(0,m.expectNonNull)((0,m.expectObject)(await(0,Or.parseJsonBody)(e.body,t)),"body"),o=(0,m.take)(n,{accessToken:m.expectString,expiresIn:m.expectInt32,idToken:m.expectString,refreshToken:m.expectString,tokenType:m.expectString});return Object.assign(r,o),r},"de_CreateTokenCommand"),UB=P(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return cs(e,t);let r=(0,m.map)({$metadata:Z(e)}),n=(0,m.expectNonNull)((0,m.expectObject)(await(0,Or.parseJsonBody)(e.body,t)),"body"),o=(0,m.take)(n,{accessToken:m.expectString,expiresIn:m.expectInt32,idToken:m.expectString,issuedTokenType:m.expectString,refreshToken:m.expectString,scope:m._json,tokenType:m.expectString});return Object.assign(r,o),r},"de_CreateTokenWithIAMCommand"),LB=P(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return cs(e,t);let r=(0,m.map)({$metadata:Z(e)}),n=(0,m.expectNonNull)((0,m.expectObject)(await(0,Or.parseJsonBody)(e.body,t)),"body"),o=(0,m.take)(n,{authorizationEndpoint:m.expectString,clientId:m.expectString,clientIdIssuedAt:m.expectLong,clientSecret:m.expectString,clientSecretExpiresAt:m.expectLong,tokenEndpoint:m.expectString});return Object.assign(r,o),r},"de_RegisterClientCommand"),qB=P(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return cs(e,t);let r=(0,m.map)({$metadata:Z(e)}),n=(0,m.expectNonNull)((0,m.expectObject)(await(0,Or.parseJsonBody)(e.body,t)),"body"),o=(0,m.take)(n,{deviceCode:m.expectString,expiresIn:m.expectInt32,interval:m.expectInt32,userCode:m.expectString,verificationUri:m.expectString,verificationUriComplete:m.expectString});return Object.assign(r,o),r},"de_StartDeviceAuthorizationCommand"),cs=P(async(e,t)=>{let r={...e,body:await(0,Or.parseJsonErrorBody)(e.body,t)},n=(0,Or.loadRestJsonErrorCode)(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await BB(r,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await HB(r,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await $B(r,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await GB(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await zB(r,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await WB(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await JB(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await XB(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await QB(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await ZB(r,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await e3(r,t);case"InvalidRequestRegionException":case"com.amazonaws.ssooidc#InvalidRequestRegionException":throw await YB(r,t);case"InvalidClientMetadataException":case"com.amazonaws.ssooidc#InvalidClientMetadataException":throw await VB(r,t);case"InvalidRedirectUriException":case"com.amazonaws.ssooidc#InvalidRedirectUriException":throw await KB(r,t);default:let o=r.body;return jB({output:e,parsedBody:o,errorCode:n})}},"de_CommandError"),jB=(0,m.withBaseException)(ie),BB=P(async(e,t)=>{let r=(0,m.map)({}),n=e.body,o=(0,m.take)(n,{error:m.expectString,error_description:m.expectString});Object.assign(r,o);let i=new wS({$metadata:Z(e),...r});return(0,m.decorateServiceException)(i,e.body)},"de_AccessDeniedExceptionRes"),HB=P(async(e,t)=>{let r=(0,m.map)({}),n=e.body,o=(0,m.take)(n,{error:m.expectString,error_description:m.expectString});Object.assign(r,o);let i=new CS({$metadata:Z(e),...r});return(0,m.decorateServiceException)(i,e.body)},"de_AuthorizationPendingExceptionRes"),$B=P(async(e,t)=>{let r=(0,m.map)({}),n=e.body,o=(0,m.take)(n,{error:m.expectString,error_description:m.expectString});Object.assign(r,o);let i=new OS({$metadata:Z(e),...r});return(0,m.decorateServiceException)(i,e.body)},"de_ExpiredTokenExceptionRes"),GB=P(async(e,t)=>{let r=(0,m.map)({}),n=e.body,o=(0,m.take)(n,{error:m.expectString,error_description:m.expectString});Object.assign(r,o);let i=new IS({$metadata:Z(e),...r});return(0,m.decorateServiceException)(i,e.body)},"de_InternalServerExceptionRes"),zB=P(async(e,t)=>{let r=(0,m.map)({}),n=e.body,o=(0,m.take)(n,{error:m.expectString,error_description:m.expectString});Object.assign(r,o);let i=new DS({$metadata:Z(e),...r});return(0,m.decorateServiceException)(i,e.body)},"de_InvalidClientExceptionRes"),VB=P(async(e,t)=>{let r=(0,m.map)({}),n=e.body,o=(0,m.take)(n,{error:m.expectString,error_description:m.expectString});Object.assign(r,o);let i=new o0({$metadata:Z(e),...r});return(0,m.decorateServiceException)(i,e.body)},"de_InvalidClientMetadataExceptionRes"),WB=P(async(e,t)=>{let r=(0,m.map)({}),n=e.body,o=(0,m.take)(n,{error:m.expectString,error_description:m.expectString});Object.assign(r,o);let i=new US({$metadata:Z(e),...r});return(0,m.decorateServiceException)(i,e.body)},"de_InvalidGrantExceptionRes"),KB=P(async(e,t)=>{let r=(0,m.map)({}),n=e.body,o=(0,m.take)(n,{error:m.expectString,error_description:m.expectString});Object.assign(r,o);let i=new a0({$metadata:Z(e),...r});return(0,m.decorateServiceException)(i,e.body)},"de_InvalidRedirectUriExceptionRes"),JB=P(async(e,t)=>{let r=(0,m.map)({}),n=e.body,o=(0,m.take)(n,{error:m.expectString,error_description:m.expectString});Object.assign(r,o);let i=new jS({$metadata:Z(e),...r});return(0,m.decorateServiceException)(i,e.body)},"de_InvalidRequestExceptionRes"),YB=P(async(e,t)=>{let r=(0,m.map)({}),n=e.body,o=(0,m.take)(n,{endpoint:m.expectString,error:m.expectString,error_description:m.expectString,region:m.expectString});Object.assign(r,o);let i=new t0({$metadata:Z(e),...r});return(0,m.decorateServiceException)(i,e.body)},"de_InvalidRequestRegionExceptionRes"),XB=P(async(e,t)=>{let r=(0,m.map)({}),n=e.body,o=(0,m.take)(n,{error:m.expectString,error_description:m.expectString});Object.assign(r,o);let i=new $S({$metadata:Z(e),...r});return(0,m.decorateServiceException)(i,e.body)},"de_InvalidScopeExceptionRes"),QB=P(async(e,t)=>{let r=(0,m.map)({}),n=e.body,o=(0,m.take)(n,{error:m.expectString,error_description:m.expectString});Object.assign(r,o);let i=new VS({$metadata:Z(e),...r});return(0,m.decorateServiceException)(i,e.body)},"de_SlowDownExceptionRes"),ZB=P(async(e,t)=>{let r=(0,m.map)({}),n=e.body,o=(0,m.take)(n,{error:m.expectString,error_description:m.expectString});Object.assign(r,o);let i=new JS({$metadata:Z(e),...r});return(0,m.decorateServiceException)(i,e.body)},"de_UnauthorizedClientExceptionRes"),e3=P(async(e,t)=>{let r=(0,m.map)({}),n=e.body,o=(0,m.take)(n,{error:m.expectString,error_description:m.expectString});Object.assign(r,o);let i=new QS({$metadata:Z(e),...r});return(0,m.decorateServiceException)(i,e.body)},"de_UnsupportedGrantTypeExceptionRes"),Z=P(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),t3="aws_iam",m0=class extends m.Command.classBuilder().ep({...ss}).m(function(t,r,n,o){return[(0,as.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Un.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").f(c0,l0).ser(NB).de(FB).build(){};P(m0,"CreateTokenCommand");var g0=m0,h0=class extends m.Command.classBuilder().ep({...ss}).m(function(t,r,n,o){return[(0,as.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Un.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateTokenWithIAM",{}).n("SSOOIDCClient","CreateTokenWithIAMCommand").f(d0,u0).ser(kB).de(UB).build(){};P(h0,"CreateTokenWithIAMCommand");var v0=h0,_0=class extends m.Command.classBuilder().ep({...ss}).m(function(t,r,n,o){return[(0,as.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Un.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","RegisterClient",{}).n("SSOOIDCClient","RegisterClientCommand").f(void 0,p0).ser(DB).de(LB).build(){};P(_0,"RegisterClientCommand");var y0=_0,E0=class extends m.Command.classBuilder().ep({...ss}).m(function(t,r,n,o){return[(0,as.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Un.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","StartDeviceAuthorization",{}).n("SSOOIDCClient","StartDeviceAuthorizationCommand").f(f0,void 0).ser(MB).de(qB).build(){};P(E0,"StartDeviceAuthorizationCommand");var S0=E0,r3={CreateTokenCommand:g0,CreateTokenWithIAMCommand:v0,RegisterClientCommand:y0,StartDeviceAuthorizationCommand:S0},w0=class extends vS{};P(w0,"SSOOIDC");var x0=w0;(0,m.createAggregatedClient)(r3,x0)});var N0=g((J5,I0)=>{"use strict";var n3=Object.create,qn=Object.defineProperty,o3=Object.getOwnPropertyDescriptor,i3=Object.getOwnPropertyNames,s3=Object.getPrototypeOf,a3=Object.prototype.hasOwnProperty,Ct=(e,t)=>qn(e,"name",{value:t,configurable:!0}),c3=(e,t)=>{for(var r in t)qn(e,r,{get:t[r],enumerable:!0})},R0=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of i3(t))!a3.call(e,o)&&o!==r&&qn(e,o,{get:()=>t[o],enumerable:!(n=o3(t,o))||n.enumerable});return e},O0=(e,t,r)=>(r=e!=null?n3(s3(e)):{},R0(t||!e||!e.__esModule?qn(r,"default",{value:e,enumerable:!0}):r,e)),l3=e=>R0(qn({},"__esModule",{value:!0}),e),A0={};c3(A0,{fromSso:()=>T0,fromStatic:()=>h3,nodeProvider:()=>v3});I0.exports=l3(A0);var d3=5*60*1e3,hl="To refresh this SSO session run 'aws sso login' with the corresponding profile.",gl={},u3=Ct(async e=>{let{SSOOIDCClient:t}=await Promise.resolve().then(()=>O0(ml()));if(gl[e])return gl[e];let r=new t({region:e});return gl[e]=r,r},"getSsoOidcClient"),p3=Ct(async(e,t)=>{let{CreateTokenCommand:r}=await Promise.resolve().then(()=>O0(ml()));return(await u3(t)).send(new r({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))},"getNewSsoOidcToken"),Fe=fe(),C0=Ct(e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new Fe.TokenProviderError(`Token is expired. ${hl}`,!1)},"validateTokenExpiry"),Xt=Ct((e,t,r=!1)=>{if(typeof t>"u")throw new Fe.TokenProviderError(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${hl}`,!1)},"validateTokenKey"),Ln=mt(),f3=D("fs"),{writeFile:m3}=f3.promises,g3=Ct((e,t)=>{let r=(0,Ln.getSSOTokenFilepath)(e),n=JSON.stringify(t,null,2);return m3(r,n)},"writeSSOTokenToFile"),P0=new Date(0),T0=Ct((e={})=>async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/token-providers - fromSso");let r=await(0,Ln.parseKnownFiles)(e),n=(0,Ln.getProfileName)(e),o=r[n];if(o){if(!o.sso_session)throw new Fe.TokenProviderError(`Profile '${n}' is missing required property 'sso_session'.`)}else throw new Fe.TokenProviderError(`Profile '${n}' could not be found in shared credentials file.`,!1);let i=o.sso_session,a=(await(0,Ln.loadSsoSessionData)(e))[i];if(!a)throw new Fe.TokenProviderError(`Sso session '${i}' could not be found in shared credentials file.`,!1);for(let h of["sso_start_url","sso_region"])if(!a[h])throw new Fe.TokenProviderError(`Sso session '${i}' is missing required property '${h}'.`,!1);let c=a.sso_start_url,l=a.sso_region,d;try{d=await(0,Ln.getSSOTokenFromFile)(i)}catch{throw new Fe.TokenProviderError(`The SSO session token associated with profile=${n} was not found or is invalid. ${hl}`,!1)}Xt("accessToken",d.accessToken),Xt("expiresAt",d.expiresAt);let{accessToken:u,expiresAt:p}=d,f={token:u,expiration:new Date(p)};if(f.expiration.getTime()-Date.now()>d3)return f;if(Date.now()-P0.getTime()<30*1e3)return C0(f),f;Xt("clientId",d.clientId,!0),Xt("clientSecret",d.clientSecret,!0),Xt("refreshToken",d.refreshToken,!0);try{P0.setTime(Date.now());let h=await p3(d,l);Xt("accessToken",h.accessToken),Xt("expiresIn",h.expiresIn);let y=new Date(Date.now()+h.expiresIn*1e3);try{await g3(i,{...d,accessToken:h.accessToken,expiresAt:y.toISOString(),refreshToken:h.refreshToken})}catch{}return{token:h.accessToken,expiration:y}}catch{return C0(f),f}},"fromSso"),h3=Ct(({token:e,logger:t})=>async()=>{if(t?.debug("@aws-sdk/token-providers - fromStatic"),!e||!e.token)throw new Fe.TokenProviderError("Please pass a valid token to fromStatic",!1);return e},"fromStatic"),v3=Ct((e={})=>(0,Fe.memoize)((0,Fe.chain)(T0(e),async()=>{throw new Fe.TokenProviderError("Could not load token from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0),"nodeProvider")});var _l=g((Y5,j0)=>{"use strict";var ds=Object.defineProperty,_3=Object.getOwnPropertyDescriptor,D0=Object.getOwnPropertyNames,y3=Object.prototype.hasOwnProperty,us=(e,t)=>ds(e,"name",{value:t,configurable:!0}),E3=(e,t)=>function(){return e&&(t=(0,e[D0(e)[0]])(e=0)),t},M0=(e,t)=>{for(var r in t)ds(e,r,{get:t[r],enumerable:!0})},S3=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of D0(t))!y3.call(e,o)&&o!==r&&ds(e,o,{get:()=>t[o],enumerable:!(n=_3(t,o))||n.enumerable});return e},w3=e=>S3(ds({},"__esModule",{value:!0}),e),F0={};M0(F0,{GetRoleCredentialsCommand:()=>vl.GetRoleCredentialsCommand,SSOClient:()=>vl.SSOClient});var vl,x3=E3({"src/loadSso.ts"(){"use strict";vl=UE()}}),U0={};M0(U0,{fromSSO:()=>C3,isSsoProfile:()=>L0,validateSsoProfile:()=>q0});j0.exports=w3(U0);var L0=us(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),b3=N0(),Ue=fe(),ls=mt(),jn=!1,k0=us(async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:o,ssoClient:i,clientConfig:s,profile:a,logger:c})=>{let l,d="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let G=await(0,b3.fromSso)({profile:a})();l={accessToken:G.token,expiresAt:new Date(G.expiration).toISOString()}}catch(G){throw new Ue.CredentialsProviderError(G.message,{tryNextLink:jn,logger:c})}else try{l=await(0,ls.getSSOTokenFromFile)(e)}catch{throw new Ue.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${d}`,{tryNextLink:jn,logger:c})}if(new Date(l.expiresAt).getTime()-Date.now()<=0)throw new Ue.CredentialsProviderError(`The SSO session associated with this profile has expired. ${d}`,{tryNextLink:jn,logger:c});let{accessToken:u}=l,{SSOClient:p,GetRoleCredentialsCommand:f}=await Promise.resolve().then(()=>(x3(),F0)),h=i||new p(Object.assign({},s??{},{region:s?.region??n})),y;try{y=await h.send(new f({accountId:r,roleName:o,accessToken:u}))}catch(G){throw new Ue.CredentialsProviderError(G,{tryNextLink:jn,logger:c})}let{roleCredentials:{accessKeyId:S,secretAccessKey:x,sessionToken:O,expiration:U,credentialScope:B}={}}=y;if(!S||!x||!O||!U)throw new Ue.CredentialsProviderError("SSO returns an invalid temporary credential.",{tryNextLink:jn,logger:c});return{accessKeyId:S,secretAccessKey:x,sessionToken:O,expiration:new Date(U),credentialScope:B}},"resolveSSOCredentials"),q0=us((e,t)=>{let{sso_start_url:r,sso_account_id:n,sso_region:o,sso_role_name:i}=e;if(!r||!n||!o||!i)throw new Ue.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:t});return e},"validateSsoProfile"),C3=us((e={})=>async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:o,ssoRoleName:i,ssoSession:s}=e,{ssoClient:a}=e,c=(0,ls.getProfileName)(e);if(!r&&!n&&!o&&!i&&!s){let d=(await(0,ls.parseKnownFiles)(e))[c];if(!d)throw new Ue.CredentialsProviderError(`Profile ${c} was not found.`,{logger:e.logger});if(!L0(d))throw new Ue.CredentialsProviderError(`Profile ${c} is not configured with SSO credentials.`,{logger:e.logger});if(d?.sso_session){let x=(await(0,ls.loadSsoSessionData)(e))[d.sso_session],O=` configurations in profile ${c} and sso-session ${d.sso_session}`;if(o&&o!==x.sso_region)throw new Ue.CredentialsProviderError("Conflicting SSO region"+O,{tryNextLink:!1,logger:e.logger});if(r&&r!==x.sso_start_url)throw new Ue.CredentialsProviderError("Conflicting SSO start_url"+O,{tryNextLink:!1,logger:e.logger});d.sso_region=x.sso_region,d.sso_start_url=x.sso_start_url}let{sso_start_url:u,sso_account_id:p,sso_region:f,sso_role_name:h,sso_session:y}=q0(d,e.logger);return k0({ssoStartUrl:u,ssoSession:y,ssoAccountId:p,ssoRegion:f,ssoRoleName:h,ssoClient:a,clientConfig:e.clientConfig,profile:c})}else{if(!r||!n||!o||!i)throw new Ue.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:e.logger});return k0({ssoStartUrl:r,ssoSession:s,ssoAccountId:n,ssoRegion:o,ssoRoleName:i,ssoClient:a,clientConfig:e.clientConfig,profile:c})}},"fromSSO")});var yl=g(Le=>{"use strict";Object.defineProperty(Le,"__esModule",{value:!0});Le.resolveHttpAuthSchemeConfig=Le.resolveStsAuthConfig=Le.defaultSTSHttpAuthSchemeProvider=Le.defaultSTSHttpAuthSchemeParametersProvider=void 0;var P3=(re(),I(te)),B0=Ne(),R3=Bn(),O3=async(e,t,r)=>({operation:(0,B0.getSmithyContext)(t).operation,region:await(0,B0.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Le.defaultSTSHttpAuthSchemeParametersProvider=O3;function A3(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function H0(e){return{schemeId:"smithy.api#noAuth"}}var T3=e=>{let t=[];switch(e.operation){case"AssumeRoleWithSAML":{t.push(H0(e));break}case"AssumeRoleWithWebIdentity":{t.push(H0(e));break}default:t.push(A3(e))}return t};Le.defaultSTSHttpAuthSchemeProvider=T3;var I3=e=>({...e,stsClientCtor:R3.STSClient});Le.resolveStsAuthConfig=I3;var N3=e=>{let t=(0,Le.resolveStsAuthConfig)(e);return{...(0,P3.resolveAwsSdkSigV4Config)(t)}};Le.resolveHttpAuthSchemeConfig=N3});var qe=g(Ar=>{"use strict";Object.defineProperty(Ar,"__esModule",{value:!0});Ar.commonParams=Ar.resolveClientEndpointParameters=void 0;var k3=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"});Ar.resolveClientEndpointParameters=k3;Ar.commonParams={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var $0=g((Z5,D3)=>{D3.exports={name:"@aws-sdk/client-sts",description:"AWS SDK for JavaScript Sts Client for Node.js, Browser and React Native",version:"3.596.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sts","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"rimraf ./dist-types tsconfig.types.tsbuildinfo && tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sts",test:"yarn test:unit","test:unit":"jest"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sso-oidc":"3.596.0","@aws-sdk/core":"3.592.0","@aws-sdk/credential-provider-node":"3.596.0","@aws-sdk/middleware-host-header":"3.577.0","@aws-sdk/middleware-logger":"3.577.0","@aws-sdk/middleware-recursion-detection":"3.577.0","@aws-sdk/middleware-user-agent":"3.587.0","@aws-sdk/region-config-resolver":"3.587.0","@aws-sdk/types":"3.577.0","@aws-sdk/util-endpoints":"3.587.0","@aws-sdk/util-user-agent-browser":"3.577.0","@aws-sdk/util-user-agent-node":"3.587.0","@smithy/config-resolver":"^3.0.1","@smithy/core":"^2.2.0","@smithy/fetch-http-handler":"^3.0.1","@smithy/hash-node":"^3.0.0","@smithy/invalid-dependency":"^3.0.0","@smithy/middleware-content-length":"^3.0.0","@smithy/middleware-endpoint":"^3.0.1","@smithy/middleware-retry":"^3.0.3","@smithy/middleware-serde":"^3.0.0","@smithy/middleware-stack":"^3.0.0","@smithy/node-config-provider":"^3.1.0","@smithy/node-http-handler":"^3.0.0","@smithy/protocol-http":"^4.0.0","@smithy/smithy-client":"^3.1.1","@smithy/types":"^3.0.0","@smithy/url-parser":"^3.0.0","@smithy/util-base64":"^3.0.0","@smithy/util-body-length-browser":"^3.0.0","@smithy/util-body-length-node":"^3.0.0","@smithy/util-defaults-mode-browser":"^3.0.3","@smithy/util-defaults-mode-node":"^3.0.3","@smithy/util-endpoints":"^2.0.1","@smithy/util-middleware":"^3.0.0","@smithy/util-retry":"^3.0.0","@smithy/util-utf8":"^3.0.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node16":"16.1.3","@types/node":"^16.18.96",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=16.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sts",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sts"}}});var uw=g(ps=>{"use strict";Object.defineProperty(ps,"__esModule",{value:!0});ps.ruleSet=void 0;var tw="required",A="type",N="fn",k="argv",Rt="ref",G0=!1,El=!0,Pt="booleanEquals",ne="stringEquals",rw="sigv4",nw="sts",ow="us-east-1",q="endpoint",z0="https://sts.{Region}.{PartitionResult#dnsSuffix}",Ve="tree",Tr="error",wl="getAttr",V0={[tw]:!1,[A]:"String"},Sl={[tw]:!0,default:!1,[A]:"Boolean"},iw={[Rt]:"Endpoint"},W0={[N]:"isSet",[k]:[{[Rt]:"Region"}]},oe={[Rt]:"Region"},K0={[N]:"aws.partition",[k]:[oe],assign:"PartitionResult"},sw={[Rt]:"UseFIPS"},aw={[Rt]:"UseDualStack"},se={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:rw,signingName:nw,signingRegion:ow}]},headers:{}},ve={},J0={conditions:[{[N]:ne,[k]:[oe,"aws-global"]}],[q]:se,[A]:q},cw={[N]:Pt,[k]:[sw,!0]},lw={[N]:Pt,[k]:[aw,!0]},Y0={[N]:wl,[k]:[{[Rt]:"PartitionResult"},"supportsFIPS"]},dw={[Rt]:"PartitionResult"},X0={[N]:Pt,[k]:[!0,{[N]:wl,[k]:[dw,"supportsDualStack"]}]},Q0=[{[N]:"isSet",[k]:[iw]}],Z0=[cw],ew=[lw],M3={version:"1.0",parameters:{Region:V0,UseDualStack:Sl,UseFIPS:Sl,Endpoint:V0,UseGlobalEndpoint:Sl},rules:[{conditions:[{[N]:Pt,[k]:[{[Rt]:"UseGlobalEndpoint"},El]},{[N]:"not",[k]:Q0},W0,K0,{[N]:Pt,[k]:[sw,G0]},{[N]:Pt,[k]:[aw,G0]}],rules:[{conditions:[{[N]:ne,[k]:[oe,"ap-northeast-1"]}],endpoint:se,[A]:q},{conditions:[{[N]:ne,[k]:[oe,"ap-south-1"]}],endpoint:se,[A]:q},{conditions:[{[N]:ne,[k]:[oe,"ap-southeast-1"]}],endpoint:se,[A]:q},{conditions:[{[N]:ne,[k]:[oe,"ap-southeast-2"]}],endpoint:se,[A]:q},J0,{conditions:[{[N]:ne,[k]:[oe,"ca-central-1"]}],endpoint:se,[A]:q},{conditions:[{[N]:ne,[k]:[oe,"eu-central-1"]}],endpoint:se,[A]:q},{conditions:[{[N]:ne,[k]:[oe,"eu-north-1"]}],endpoint:se,[A]:q},{conditions:[{[N]:ne,[k]:[oe,"eu-west-1"]}],endpoint:se,[A]:q},{conditions:[{[N]:ne,[k]:[oe,"eu-west-2"]}],endpoint:se,[A]:q},{conditions:[{[N]:ne,[k]:[oe,"eu-west-3"]}],endpoint:se,[A]:q},{conditions:[{[N]:ne,[k]:[oe,"sa-east-1"]}],endpoint:se,[A]:q},{conditions:[{[N]:ne,[k]:[oe,ow]}],endpoint:se,[A]:q},{conditions:[{[N]:ne,[k]:[oe,"us-east-2"]}],endpoint:se,[A]:q},{conditions:[{[N]:ne,[k]:[oe,"us-west-1"]}],endpoint:se,[A]:q},{conditions:[{[N]:ne,[k]:[oe,"us-west-2"]}],endpoint:se,[A]:q},{endpoint:{url:z0,properties:{authSchemes:[{name:rw,signingName:nw,signingRegion:"{Region}"}]},headers:ve},[A]:q}],[A]:Ve},{conditions:Q0,rules:[{conditions:Z0,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[A]:Tr},{conditions:ew,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[A]:Tr},{endpoint:{url:iw,properties:ve,headers:ve},[A]:q}],[A]:Ve},{conditions:[W0],rules:[{conditions:[K0],rules:[{conditions:[cw,lw],rules:[{conditions:[{[N]:Pt,[k]:[El,Y0]},X0],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ve,headers:ve},[A]:q}],[A]:Ve},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[A]:Tr}],[A]:Ve},{conditions:Z0,rules:[{conditions:[{[N]:Pt,[k]:[Y0,El]}],rules:[{conditions:[{[N]:ne,[k]:[{[N]:wl,[k]:[dw,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:ve,headers:ve},[A]:q},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:ve,headers:ve},[A]:q}],[A]:Ve},{error:"FIPS is enabled but this partition does not support FIPS",[A]:Tr}],[A]:Ve},{conditions:ew,rules:[{conditions:[X0],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ve,headers:ve},[A]:q}],[A]:Ve},{error:"DualStack is enabled but this partition does not support DualStack",[A]:Tr}],[A]:Ve},J0,{endpoint:{url:z0,properties:ve,headers:ve},[A]:q}],[A]:Ve}],[A]:Ve},{error:"Invalid Configuration: Missing Region",[A]:Tr}]};ps.ruleSet=M3});var fw=g(fs=>{"use strict";Object.defineProperty(fs,"__esModule",{value:!0});fs.defaultEndpointResolver=void 0;var F3=nr(),pw=tr(),U3=uw(),L3=(e,t={})=>(0,pw.resolveEndpoint)(U3.ruleSet,{endpointParams:e,logger:t.logger});fs.defaultEndpointResolver=L3;pw.customEndpointFunctions.aws=F3.awsEndpointFunctions});var hw=g(ms=>{"use strict";Object.defineProperty(ms,"__esModule",{value:!0});ms.getRuntimeConfig=void 0;var q3=(re(),I(te)),j3=(Ge(),I(tt)),B3=L(),H3=$t(),mw=vt(),gw=he(),$3=yl(),G3=fw(),z3=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??mw.fromBase64,base64Encoder:e?.base64Encoder??mw.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??G3.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??$3.defaultSTSHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new q3.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new j3.NoAuthSigner}],logger:e?.logger??new B3.NoOpLogger,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??H3.parseUrl,utf8Decoder:e?.utf8Decoder??gw.fromUtf8,utf8Encoder:e?.utf8Encoder??gw.toUtf8});ms.getRuntimeConfig=z3});var Sw=g(hs=>{"use strict";Object.defineProperty(hs,"__esModule",{value:!0});hs.getRuntimeConfig=void 0;var V3=(vr(),I(hr)),W3=V3.__importDefault($0()),vw=(re(),I(te)),_w=ns(),K3=Cn(),gs=Be(),J3=(Ge(),I(tt)),Y3=Pn(),yw=$e(),Hn=et(),Ew=Kt(),X3=Rn(),Q3=sr(),Z3=hw(),eH=L(),tH=Tn(),rH=L(),nH=e=>{(0,rH.emitWarningIfUnsupportedVersion)(process.version);let t=(0,tH.resolveDefaultsModeConfig)(e),r=()=>t().then(eH.loadConfigsForDefaultMode),n=(0,Z3.getRuntimeConfig)(e);return(0,vw.emitWarningIfUnsupportedVersion)(process.version),{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??X3.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??_w.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,K3.defaultUserAgent)({serviceId:n.serviceId,clientVersion:W3.default.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:o=>o.getIdentityProvider("aws.auth#sigv4")||(async i=>await(0,_w.defaultProvider)(i?.__config||{})()),signer:new vw.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:o=>o.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new J3.NoAuthSigner}],maxAttempts:e?.maxAttempts??(0,Hn.loadConfig)(yw.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:e?.region??(0,Hn.loadConfig)(gs.NODE_REGION_CONFIG_OPTIONS,gs.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:Ew.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Hn.loadConfig)({...yw.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||Q3.DEFAULT_RETRY_MODE}),sha256:e?.sha256??Y3.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??Ew.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Hn.loadConfig)(gs.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:e?.useFipsEndpoint??(0,Hn.loadConfig)(gs.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};hs.getRuntimeConfig=nH});var ww=g(Ir=>{"use strict";Object.defineProperty(Ir,"__esModule",{value:!0});Ir.resolveHttpAuthRuntimeConfig=Ir.getHttpAuthExtensionConfiguration=void 0;var oH=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let i=t.findIndex(s=>s.schemeId===o.schemeId);i===-1?t.push(o):t.splice(i,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}};Ir.getHttpAuthExtensionConfiguration=oH;var iH=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()});Ir.resolveHttpAuthRuntimeConfig=iH});var Rw=g(_s=>{"use strict";Object.defineProperty(_s,"__esModule",{value:!0});_s.resolveRuntimeExtensions=void 0;var xw=Nn(),bw=Q(),Cw=L(),Pw=ww(),vs=e=>e,sH=(e,t)=>{let r={...vs((0,xw.getAwsRegionExtensionConfiguration)(e)),...vs((0,Cw.getDefaultExtensionConfiguration)(e)),...vs((0,bw.getHttpHandlerExtensionConfiguration)(e)),...vs((0,Pw.getHttpAuthExtensionConfiguration)(e))};return t.forEach(n=>n.configure(r)),{...e,...(0,xw.resolveAwsRegionExtensionConfiguration)(r),...(0,Cw.resolveDefaultRuntimeConfig)(r),...(0,bw.resolveHttpHandlerRuntimeConfig)(r),...(0,Pw.resolveHttpAuthRuntimeConfig)(r)}};_s.resolveRuntimeExtensions=sH});var Bn=g(Nr=>{"use strict";Object.defineProperty(Nr,"__esModule",{value:!0});Nr.STSClient=Nr.__Client=void 0;var Ow=Xr(),aH=Qr(),cH=Zr(),Aw=tn(),lH=Be(),xl=(Ge(),I(tt)),dH=yn(),uH=zt(),Tw=$e(),Nw=L();Object.defineProperty(Nr,"__Client",{enumerable:!0,get:function(){return Nw.Client}});var Iw=yl(),pH=qe(),fH=Sw(),mH=Rw(),bl=class extends Nw.Client{constructor(...[t]){let r=(0,fH.getRuntimeConfig)(t||{}),n=(0,pH.resolveClientEndpointParameters)(r),o=(0,lH.resolveRegionConfig)(n),i=(0,uH.resolveEndpointConfig)(o),s=(0,Tw.resolveRetryConfig)(i),a=(0,Ow.resolveHostHeaderConfig)(s),c=(0,Aw.resolveUserAgentConfig)(a),l=(0,Iw.resolveHttpAuthSchemeConfig)(c),d=(0,mH.resolveRuntimeExtensions)(l,t?.extensions||[]);super(d),this.config=d,this.middlewareStack.use((0,Tw.getRetryPlugin)(this.config)),this.middlewareStack.use((0,dH.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Ow.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,aH.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,cH.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,Aw.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,xl.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:this.getDefaultHttpAuthSchemeParametersProvider(),identityProviderConfigProvider:this.getIdentityProviderConfigProvider()})),this.middlewareStack.use((0,xl.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}getDefaultHttpAuthSchemeParametersProvider(){return Iw.defaultSTSHttpAuthSchemeParametersProvider}getIdentityProviderConfigProvider(){return async t=>new xl.DefaultIdentityProviderConfig({"aws.auth#sigv4":t.credentials})}};Nr.STSClient=bl});var id=g((h9,od)=>{"use strict";var ys=Object.defineProperty,gH=Object.getOwnPropertyDescriptor,hH=Object.getOwnPropertyNames,vH=Object.prototype.hasOwnProperty,E=(e,t)=>ys(e,"name",{value:t,configurable:!0}),_H=(e,t)=>{for(var r in t)ys(e,r,{get:t[r],enumerable:!0})},Zl=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of hH(t))!vH.call(e,o)&&o!==r&&ys(e,o,{get:()=>t[o],enumerable:!(n=gH(t,o))||n.enumerable});return e},yH=(e,t,r)=>(Zl(e,t,"default"),r&&Zl(r,t,"default")),EH=e=>Zl(ys({},"__esModule",{value:!0}),e),ed={};_H(ed,{AssumeRoleCommand:()=>rd,AssumeRoleResponseFilterSensitiveLog:()=>sx,AssumeRoleWithSAMLCommand:()=>hx,AssumeRoleWithSAMLRequestFilterSensitiveLog:()=>ax,AssumeRoleWithSAMLResponseFilterSensitiveLog:()=>cx,AssumeRoleWithWebIdentityCommand:()=>nd,AssumeRoleWithWebIdentityRequestFilterSensitiveLog:()=>lx,AssumeRoleWithWebIdentityResponseFilterSensitiveLog:()=>dx,ClientInputEndpointParameters:()=>H$.ClientInputEndpointParameters,CredentialsFilterSensitiveLog:()=>jr,DecodeAuthorizationMessageCommand:()=>yx,ExpiredTokenException:()=>Lw,GetAccessKeyInfoCommand:()=>Sx,GetCallerIdentityCommand:()=>xx,GetFederationTokenCommand:()=>Cx,GetFederationTokenResponseFilterSensitiveLog:()=>ux,GetSessionTokenCommand:()=>Rx,GetSessionTokenResponseFilterSensitiveLog:()=>px,IDPCommunicationErrorException:()=>rx,IDPRejectedClaimException:()=>Yw,InvalidAuthorizationMessageException:()=>ix,InvalidIdentityTokenException:()=>Zw,MalformedPolicyDocumentException:()=>Bw,PackedPolicyTooLargeException:()=>Gw,RegionDisabledException:()=>Ww,STS:()=>Ax,STSServiceException:()=>We,decorateDefaultCredentialProvider:()=>z$,getDefaultRoleAssumer:()=>kx,getDefaultRoleAssumerWithWebIdentity:()=>Dx});od.exports=EH(ed);yH(ed,Bn(),od.exports);var Ot=zt(),At=Gt(),SH=qe(),C=L(),Dw=class Mw extends C.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,Mw.prototype)}};E(Dw,"STSServiceException");var We=Dw,Fw=class Uw extends We{constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,Uw.prototype)}};E(Fw,"ExpiredTokenException");var Lw=Fw,qw=class jw extends We{constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),this.name="MalformedPolicyDocumentException",this.$fault="client",Object.setPrototypeOf(this,jw.prototype)}};E(qw,"MalformedPolicyDocumentException");var Bw=qw,Hw=class $w extends We{constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),this.name="PackedPolicyTooLargeException",this.$fault="client",Object.setPrototypeOf(this,$w.prototype)}};E(Hw,"PackedPolicyTooLargeException");var Gw=Hw,zw=class Vw extends We{constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),this.name="RegionDisabledException",this.$fault="client",Object.setPrototypeOf(this,Vw.prototype)}};E(zw,"RegionDisabledException");var Ww=zw,Kw=class Jw extends We{constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),this.name="IDPRejectedClaimException",this.$fault="client",Object.setPrototypeOf(this,Jw.prototype)}};E(Kw,"IDPRejectedClaimException");var Yw=Kw,Xw=class Qw extends We{constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),this.name="InvalidIdentityTokenException",this.$fault="client",Object.setPrototypeOf(this,Qw.prototype)}};E(Xw,"InvalidIdentityTokenException");var Zw=Xw,ex=class tx extends We{constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),this.name="IDPCommunicationErrorException",this.$fault="client",Object.setPrototypeOf(this,tx.prototype)}};E(ex,"IDPCommunicationErrorException");var rx=ex,nx=class ox extends We{constructor(t){super({name:"InvalidAuthorizationMessageException",$fault:"client",...t}),this.name="InvalidAuthorizationMessageException",this.$fault="client",Object.setPrototypeOf(this,ox.prototype)}};E(nx,"InvalidAuthorizationMessageException");var ix=nx,jr=E(e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:C.SENSITIVE_STRING}}),"CredentialsFilterSensitiveLog"),sx=E(e=>({...e,...e.Credentials&&{Credentials:jr(e.Credentials)}}),"AssumeRoleResponseFilterSensitiveLog"),ax=E(e=>({...e,...e.SAMLAssertion&&{SAMLAssertion:C.SENSITIVE_STRING}}),"AssumeRoleWithSAMLRequestFilterSensitiveLog"),cx=E(e=>({...e,...e.Credentials&&{Credentials:jr(e.Credentials)}}),"AssumeRoleWithSAMLResponseFilterSensitiveLog"),lx=E(e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:C.SENSITIVE_STRING}}),"AssumeRoleWithWebIdentityRequestFilterSensitiveLog"),dx=E(e=>({...e,...e.Credentials&&{Credentials:jr(e.Credentials)}}),"AssumeRoleWithWebIdentityResponseFilterSensitiveLog"),ux=E(e=>({...e,...e.Credentials&&{Credentials:jr(e.Credentials)}}),"GetFederationTokenResponseFilterSensitiveLog"),px=E(e=>({...e,...e.Credentials&&{Credentials:jr(e.Credentials)}}),"GetSessionTokenResponseFilterSensitiveLog"),lt=(re(),I(te)),wH=Q(),xH=E(async(e,t)=>{let r=Nt,n;return n=Ft({...WH(e,t),[Dt]:b$,[Mt]:kt}),It(t,r,"/",void 0,n)},"se_AssumeRoleCommand"),bH=E(async(e,t)=>{let r=Nt,n;return n=Ft({...KH(e,t),[Dt]:C$,[Mt]:kt}),It(t,r,"/",void 0,n)},"se_AssumeRoleWithSAMLCommand"),CH=E(async(e,t)=>{let r=Nt,n;return n=Ft({...JH(e,t),[Dt]:P$,[Mt]:kt}),It(t,r,"/",void 0,n)},"se_AssumeRoleWithWebIdentityCommand"),PH=E(async(e,t)=>{let r=Nt,n;return n=Ft({...YH(e,t),[Dt]:R$,[Mt]:kt}),It(t,r,"/",void 0,n)},"se_DecodeAuthorizationMessageCommand"),RH=E(async(e,t)=>{let r=Nt,n;return n=Ft({...XH(e,t),[Dt]:O$,[Mt]:kt}),It(t,r,"/",void 0,n)},"se_GetAccessKeyInfoCommand"),OH=E(async(e,t)=>{let r=Nt,n;return n=Ft({...QH(e,t),[Dt]:A$,[Mt]:kt}),It(t,r,"/",void 0,n)},"se_GetCallerIdentityCommand"),AH=E(async(e,t)=>{let r=Nt,n;return n=Ft({...ZH(e,t),[Dt]:T$,[Mt]:kt}),It(t,r,"/",void 0,n)},"se_GetFederationTokenCommand"),TH=E(async(e,t)=>{let r=Nt,n;return n=Ft({...e$(e,t),[Dt]:I$,[Mt]:kt}),It(t,r,"/",void 0,n)},"se_GetSessionTokenCommand"),IH=E(async(e,t)=>{if(e.statusCode>=300)return Tt(e,t);let r=await(0,lt.parseXmlBody)(e.body,t),n={};return n=s$(r.AssumeRoleResult,t),{$metadata:ae(e),...n}},"de_AssumeRoleCommand"),NH=E(async(e,t)=>{if(e.statusCode>=300)return Tt(e,t);let r=await(0,lt.parseXmlBody)(e.body,t),n={};return n=a$(r.AssumeRoleWithSAMLResult,t),{$metadata:ae(e),...n}},"de_AssumeRoleWithSAMLCommand"),kH=E(async(e,t)=>{if(e.statusCode>=300)return Tt(e,t);let r=await(0,lt.parseXmlBody)(e.body,t),n={};return n=c$(r.AssumeRoleWithWebIdentityResult,t),{$metadata:ae(e),...n}},"de_AssumeRoleWithWebIdentityCommand"),DH=E(async(e,t)=>{if(e.statusCode>=300)return Tt(e,t);let r=await(0,lt.parseXmlBody)(e.body,t),n={};return n=l$(r.DecodeAuthorizationMessageResult,t),{$metadata:ae(e),...n}},"de_DecodeAuthorizationMessageCommand"),MH=E(async(e,t)=>{if(e.statusCode>=300)return Tt(e,t);let r=await(0,lt.parseXmlBody)(e.body,t),n={};return n=p$(r.GetAccessKeyInfoResult,t),{$metadata:ae(e),...n}},"de_GetAccessKeyInfoCommand"),FH=E(async(e,t)=>{if(e.statusCode>=300)return Tt(e,t);let r=await(0,lt.parseXmlBody)(e.body,t),n={};return n=f$(r.GetCallerIdentityResult,t),{$metadata:ae(e),...n}},"de_GetCallerIdentityCommand"),UH=E(async(e,t)=>{if(e.statusCode>=300)return Tt(e,t);let r=await(0,lt.parseXmlBody)(e.body,t),n={};return n=m$(r.GetFederationTokenResult,t),{$metadata:ae(e),...n}},"de_GetFederationTokenCommand"),LH=E(async(e,t)=>{if(e.statusCode>=300)return Tt(e,t);let r=await(0,lt.parseXmlBody)(e.body,t),n={};return n=g$(r.GetSessionTokenResult,t),{$metadata:ae(e),...n}},"de_GetSessionTokenCommand"),Tt=E(async(e,t)=>{let r={...e,body:await(0,lt.parseXmlErrorBody)(e.body,t)},n=N$(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await qH(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await GH(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await zH(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await VH(r,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await BH(r,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await $H(r,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await jH(r,t);case"InvalidAuthorizationMessageException":case"com.amazonaws.sts#InvalidAuthorizationMessageException":throw await HH(r,t);default:let o=r.body;return x$({output:e,parsedBody:o.Error,errorCode:n})}},"de_CommandError"),qH=E(async(e,t)=>{let r=e.body,n=d$(r.Error,t),o=new Lw({$metadata:ae(e),...n});return(0,C.decorateServiceException)(o,r)},"de_ExpiredTokenExceptionRes"),jH=E(async(e,t)=>{let r=e.body,n=h$(r.Error,t),o=new rx({$metadata:ae(e),...n});return(0,C.decorateServiceException)(o,r)},"de_IDPCommunicationErrorExceptionRes"),BH=E(async(e,t)=>{let r=e.body,n=v$(r.Error,t),o=new Yw({$metadata:ae(e),...n});return(0,C.decorateServiceException)(o,r)},"de_IDPRejectedClaimExceptionRes"),HH=E(async(e,t)=>{let r=e.body,n=_$(r.Error,t),o=new ix({$metadata:ae(e),...n});return(0,C.decorateServiceException)(o,r)},"de_InvalidAuthorizationMessageExceptionRes"),$H=E(async(e,t)=>{let r=e.body,n=y$(r.Error,t),o=new Zw({$metadata:ae(e),...n});return(0,C.decorateServiceException)(o,r)},"de_InvalidIdentityTokenExceptionRes"),GH=E(async(e,t)=>{let r=e.body,n=E$(r.Error,t),o=new Bw({$metadata:ae(e),...n});return(0,C.decorateServiceException)(o,r)},"de_MalformedPolicyDocumentExceptionRes"),zH=E(async(e,t)=>{let r=e.body,n=S$(r.Error,t),o=new Gw({$metadata:ae(e),...n});return(0,C.decorateServiceException)(o,r)},"de_PackedPolicyTooLargeExceptionRes"),VH=E(async(e,t)=>{let r=e.body,n=w$(r.Error,t),o=new Ww({$metadata:ae(e),...n});return(0,C.decorateServiceException)(o,r)},"de_RegionDisabledExceptionRes"),WH=E((e,t)=>{var r,n,o,i;let s={};if(e[ct]!=null&&(s[ct]=e[ct]),e[Fr]!=null&&(s[Fr]=e[Fr]),e[Re]!=null){let a=Es(e[Re],t);((r=e[Re])==null?void 0:r.length)===0&&(s.PolicyArns=[]),Object.entries(a).forEach(([c,l])=>{let d=`PolicyArns.${c}`;s[d]=l})}if(e[Pe]!=null&&(s[Pe]=e[Pe]),e[le]!=null&&(s[le]=e[le]),e[Lr]!=null){let a=fx(e[Lr],t);((n=e[Lr])==null?void 0:n.length)===0&&(s.Tags=[]),Object.entries(a).forEach(([c,l])=>{let d=`Tags.${c}`;s[d]=l})}if(e[Kl]!=null){let a=i$(e[Kl],t);((o=e[Kl])==null?void 0:o.length)===0&&(s.TransitiveTagKeys=[]),Object.entries(a).forEach(([c,l])=>{let d=`TransitiveTagKeys.${c}`;s[d]=l})}if(e[Al]!=null&&(s[Al]=e[Al]),e[Ur]!=null&&(s[Ur]=e[Ur]),e[qr]!=null&&(s[qr]=e[qr]),e[Ae]!=null&&(s[Ae]=e[Ae]),e[ql]!=null){let a=n$(e[ql],t);((i=e[ql])==null?void 0:i.length)===0&&(s.ProvidedContexts=[]),Object.entries(a).forEach(([c,l])=>{let d=`ProvidedContexts.${c}`;s[d]=l})}return s},"se_AssumeRoleRequest"),KH=E((e,t)=>{var r;let n={};if(e[ct]!=null&&(n[ct]=e[ct]),e[Ul]!=null&&(n[Ul]=e[Ul]),e[Gl]!=null&&(n[Gl]=e[Gl]),e[Re]!=null){let o=Es(e[Re],t);((r=e[Re])==null?void 0:r.length)===0&&(n.PolicyArns=[]),Object.entries(o).forEach(([i,s])=>{let a=`PolicyArns.${i}`;n[a]=s})}return e[Pe]!=null&&(n[Pe]=e[Pe]),e[le]!=null&&(n[le]=e[le]),n},"se_AssumeRoleWithSAMLRequest"),JH=E((e,t)=>{var r;let n={};if(e[ct]!=null&&(n[ct]=e[ct]),e[Fr]!=null&&(n[Fr]=e[Fr]),e[Xl]!=null&&(n[Xl]=e[Xl]),e[jl]!=null&&(n[jl]=e[jl]),e[Re]!=null){let o=Es(e[Re],t);((r=e[Re])==null?void 0:r.length)===0&&(n.PolicyArns=[]),Object.entries(o).forEach(([i,s])=>{let a=`PolicyArns.${i}`;n[a]=s})}return e[Pe]!=null&&(n[Pe]=e[Pe]),e[le]!=null&&(n[le]=e[le]),n},"se_AssumeRoleWithWebIdentityRequest"),YH=E((e,t)=>{let r={};return e[Tl]!=null&&(r[Tl]=e[Tl]),r},"se_DecodeAuthorizationMessageRequest"),XH=E((e,t)=>{let r={};return e[kr]!=null&&(r[kr]=e[kr]),r},"se_GetAccessKeyInfoRequest"),QH=E((e,t)=>({}),"se_GetCallerIdentityRequest"),ZH=E((e,t)=>{var r,n;let o={};if(e[Ml]!=null&&(o[Ml]=e[Ml]),e[Pe]!=null&&(o[Pe]=e[Pe]),e[Re]!=null){let i=Es(e[Re],t);((r=e[Re])==null?void 0:r.length)===0&&(o.PolicyArns=[]),Object.entries(i).forEach(([s,a])=>{let c=`PolicyArns.${s}`;o[c]=a})}if(e[le]!=null&&(o[le]=e[le]),e[Lr]!=null){let i=fx(e[Lr],t);((n=e[Lr])==null?void 0:n.length)===0&&(o.Tags=[]),Object.entries(i).forEach(([s,a])=>{let c=`Tags.${s}`;o[c]=a})}return o},"se_GetFederationTokenRequest"),e$=E((e,t)=>{let r={};return e[le]!=null&&(r[le]=e[le]),e[Ur]!=null&&(r[Ur]=e[Ur]),e[qr]!=null&&(r[qr]=e[qr]),r},"se_GetSessionTokenRequest"),Es=E((e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let i=t$(o,t);Object.entries(i).forEach(([s,a])=>{r[`member.${n}.${s}`]=a}),n++}return r},"se_policyDescriptorListType"),t$=E((e,t)=>{let r={};return e[Ql]!=null&&(r[Ql]=e[Ql]),r},"se_PolicyDescriptorType"),r$=E((e,t)=>{let r={};return e[Ll]!=null&&(r[Ll]=e[Ll]),e[Pl]!=null&&(r[Pl]=e[Pl]),r},"se_ProvidedContext"),n$=E((e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let i=r$(o,t);Object.entries(i).forEach(([s,a])=>{r[`member.${n}.${s}`]=a}),n++}return r},"se_ProvidedContextsListType"),o$=E((e,t)=>{let r={};return e[Dl]!=null&&(r[Dl]=e[Dl]),e[Yl]!=null&&(r[Yl]=e[Yl]),r},"se_Tag"),i$=E((e,t)=>{let r={},n=1;for(let o of e)o!==null&&(r[`member.${n}`]=o,n++);return r},"se_tagKeyListType"),fx=E((e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let i=o$(o,t);Object.entries(i).forEach(([s,a])=>{r[`member.${n}.${s}`]=a}),n++}return r},"se_tagListType"),td=E((e,t)=>{let r={};return e[Cl]!=null&&(r[Cl]=(0,C.expectString)(e[Cl])),e[at]!=null&&(r[at]=(0,C.expectString)(e[at])),r},"de_AssumedRoleUser"),s$=E((e,t)=>{let r={};return e[ce]!=null&&(r[ce]=$n(e[ce],t)),e[st]!=null&&(r[st]=td(e[st],t)),e[Oe]!=null&&(r[Oe]=(0,C.strictParseInt32)(e[Oe])),e[Ae]!=null&&(r[Ae]=(0,C.expectString)(e[Ae])),r},"de_AssumeRoleResponse"),a$=E((e,t)=>{let r={};return e[ce]!=null&&(r[ce]=$n(e[ce],t)),e[st]!=null&&(r[st]=td(e[st],t)),e[Oe]!=null&&(r[Oe]=(0,C.strictParseInt32)(e[Oe])),e[Hl]!=null&&(r[Hl]=(0,C.expectString)(e[Hl])),e[Vl]!=null&&(r[Vl]=(0,C.expectString)(e[Vl])),e[kl]!=null&&(r[kl]=(0,C.expectString)(e[kl])),e[Mr]!=null&&(r[Mr]=(0,C.expectString)(e[Mr])),e[Fl]!=null&&(r[Fl]=(0,C.expectString)(e[Fl])),e[Ae]!=null&&(r[Ae]=(0,C.expectString)(e[Ae])),r},"de_AssumeRoleWithSAMLResponse"),c$=E((e,t)=>{let r={};return e[ce]!=null&&(r[ce]=$n(e[ce],t)),e[zl]!=null&&(r[zl]=(0,C.expectString)(e[zl])),e[st]!=null&&(r[st]=td(e[st],t)),e[Oe]!=null&&(r[Oe]=(0,C.strictParseInt32)(e[Oe])),e[Bl]!=null&&(r[Bl]=(0,C.expectString)(e[Bl])),e[Mr]!=null&&(r[Mr]=(0,C.expectString)(e[Mr])),e[Ae]!=null&&(r[Ae]=(0,C.expectString)(e[Ae])),r},"de_AssumeRoleWithWebIdentityResponse"),$n=E((e,t)=>{let r={};return e[kr]!=null&&(r[kr]=(0,C.expectString)(e[kr])),e[$l]!=null&&(r[$l]=(0,C.expectString)(e[$l])),e[Wl]!=null&&(r[Wl]=(0,C.expectString)(e[Wl])),e[Ol]!=null&&(r[Ol]=(0,C.expectNonNull)((0,C.parseRfc3339DateTimeWithOffset)(e[Ol]))),r},"de_Credentials"),l$=E((e,t)=>{let r={};return e[Rl]!=null&&(r[Rl]=(0,C.expectString)(e[Rl])),r},"de_DecodeAuthorizationMessageResponse"),d$=E((e,t)=>{let r={};return e[j]!=null&&(r[j]=(0,C.expectString)(e[j])),r},"de_ExpiredTokenException"),u$=E((e,t)=>{let r={};return e[Nl]!=null&&(r[Nl]=(0,C.expectString)(e[Nl])),e[at]!=null&&(r[at]=(0,C.expectString)(e[at])),r},"de_FederatedUser"),p$=E((e,t)=>{let r={};return e[Dr]!=null&&(r[Dr]=(0,C.expectString)(e[Dr])),r},"de_GetAccessKeyInfoResponse"),f$=E((e,t)=>{let r={};return e[Jl]!=null&&(r[Jl]=(0,C.expectString)(e[Jl])),e[Dr]!=null&&(r[Dr]=(0,C.expectString)(e[Dr])),e[at]!=null&&(r[at]=(0,C.expectString)(e[at])),r},"de_GetCallerIdentityResponse"),m$=E((e,t)=>{let r={};return e[ce]!=null&&(r[ce]=$n(e[ce],t)),e[Il]!=null&&(r[Il]=u$(e[Il],t)),e[Oe]!=null&&(r[Oe]=(0,C.strictParseInt32)(e[Oe])),r},"de_GetFederationTokenResponse"),g$=E((e,t)=>{let r={};return e[ce]!=null&&(r[ce]=$n(e[ce],t)),r},"de_GetSessionTokenResponse"),h$=E((e,t)=>{let r={};return e[j]!=null&&(r[j]=(0,C.expectString)(e[j])),r},"de_IDPCommunicationErrorException"),v$=E((e,t)=>{let r={};return e[j]!=null&&(r[j]=(0,C.expectString)(e[j])),r},"de_IDPRejectedClaimException"),_$=E((e,t)=>{let r={};return e[j]!=null&&(r[j]=(0,C.expectString)(e[j])),r},"de_InvalidAuthorizationMessageException"),y$=E((e,t)=>{let r={};return e[j]!=null&&(r[j]=(0,C.expectString)(e[j])),r},"de_InvalidIdentityTokenException"),E$=E((e,t)=>{let r={};return e[j]!=null&&(r[j]=(0,C.expectString)(e[j])),r},"de_MalformedPolicyDocumentException"),S$=E((e,t)=>{let r={};return e[j]!=null&&(r[j]=(0,C.expectString)(e[j])),r},"de_PackedPolicyTooLargeException"),w$=E((e,t)=>{let r={};return e[j]!=null&&(r[j]=(0,C.expectString)(e[j])),r},"de_RegionDisabledException"),ae=E(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),x$=(0,C.withBaseException)(We),It=E(async(e,t,r,n,o)=>{let{hostname:i,protocol:s="https",port:a,path:c}=await e.endpoint(),l={protocol:s,hostname:i,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(l.hostname=n),o!==void 0&&(l.body=o),new wH.HttpRequest(l)},"buildHttpRpcRequest"),Nt={"content-type":"application/x-www-form-urlencoded"},kt="2011-06-15",Dt="Action",kr="AccessKeyId",b$="AssumeRole",Cl="AssumedRoleId",st="AssumedRoleUser",C$="AssumeRoleWithSAML",P$="AssumeRoleWithWebIdentity",Dr="Account",at="Arn",Mr="Audience",ce="Credentials",Pl="ContextAssertion",R$="DecodeAuthorizationMessage",Rl="DecodedMessage",le="DurationSeconds",Ol="Expiration",Al="ExternalId",Tl="EncodedMessage",Il="FederatedUser",Nl="FederatedUserId",O$="GetAccessKeyInfo",A$="GetCallerIdentity",T$="GetFederationToken",I$="GetSessionToken",kl="Issuer",Dl="Key",Ml="Name",Fl="NameQualifier",Pe="Policy",Re="PolicyArns",Ul="PrincipalArn",Ll="ProviderArn",ql="ProvidedContexts",jl="ProviderId",Oe="PackedPolicySize",Bl="Provider",ct="RoleArn",Fr="RoleSessionName",Hl="Subject",$l="SecretAccessKey",Gl="SAMLAssertion",zl="SubjectFromWebIdentityToken",Ae="SourceIdentity",Ur="SerialNumber",Vl="SubjectType",Wl="SessionToken",Lr="Tags",qr="TokenCode",Kl="TransitiveTagKeys",Jl="UserId",Mt="Version",Yl="Value",Xl="WebIdentityToken",Ql="arn",j="message",Ft=E(e=>Object.entries(e).map(([t,r])=>(0,C.extendedEncodeURIComponent)(t)+"="+(0,C.extendedEncodeURIComponent)(r)).join("&"),"buildFormUrlencodedString"),N$=E((e,t)=>{var r;if(((r=t.Error)==null?void 0:r.Code)!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"},"loadQueryErrorCode"),mx=class extends C.Command.classBuilder().ep({...SH.commonParams}).m(function(t,r,n,o){return[(0,At.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Ot.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,sx).ser(xH).de(IH).build(){};E(mx,"AssumeRoleCommand");var rd=mx,k$=qe(),gx=class extends C.Command.classBuilder().ep({...k$.commonParams}).m(function(t,r,n,o){return[(0,At.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Ot.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithSAML",{}).n("STSClient","AssumeRoleWithSAMLCommand").f(ax,cx).ser(bH).de(NH).build(){};E(gx,"AssumeRoleWithSAMLCommand");var hx=gx,D$=qe(),vx=class extends C.Command.classBuilder().ep({...D$.commonParams}).m(function(t,r,n,o){return[(0,At.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Ot.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(lx,dx).ser(CH).de(kH).build(){};E(vx,"AssumeRoleWithWebIdentityCommand");var nd=vx,M$=qe(),_x=class extends C.Command.classBuilder().ep({...M$.commonParams}).m(function(t,r,n,o){return[(0,At.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Ot.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","DecodeAuthorizationMessage",{}).n("STSClient","DecodeAuthorizationMessageCommand").f(void 0,void 0).ser(PH).de(DH).build(){};E(_x,"DecodeAuthorizationMessageCommand");var yx=_x,F$=qe(),Ex=class extends C.Command.classBuilder().ep({...F$.commonParams}).m(function(t,r,n,o){return[(0,At.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Ot.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetAccessKeyInfo",{}).n("STSClient","GetAccessKeyInfoCommand").f(void 0,void 0).ser(RH).de(MH).build(){};E(Ex,"GetAccessKeyInfoCommand");var Sx=Ex,U$=qe(),wx=class extends C.Command.classBuilder().ep({...U$.commonParams}).m(function(t,r,n,o){return[(0,At.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Ot.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetCallerIdentity",{}).n("STSClient","GetCallerIdentityCommand").f(void 0,void 0).ser(OH).de(FH).build(){};E(wx,"GetCallerIdentityCommand");var xx=wx,L$=qe(),bx=class extends C.Command.classBuilder().ep({...L$.commonParams}).m(function(t,r,n,o){return[(0,At.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Ot.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetFederationToken",{}).n("STSClient","GetFederationTokenCommand").f(void 0,ux).ser(AH).de(UH).build(){};E(bx,"GetFederationTokenCommand");var Cx=bx,q$=qe(),Px=class extends C.Command.classBuilder().ep({...q$.commonParams}).m(function(t,r,n,o){return[(0,At.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Ot.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetSessionToken",{}).n("STSClient","GetSessionTokenCommand").f(void 0,px).ser(TH).de(LH).build(){};E(Px,"GetSessionTokenCommand");var Rx=Px,j$=Bn(),B$={AssumeRoleCommand:rd,AssumeRoleWithSAMLCommand:hx,AssumeRoleWithWebIdentityCommand:nd,DecodeAuthorizationMessageCommand:yx,GetAccessKeyInfoCommand:Sx,GetCallerIdentityCommand:xx,GetFederationTokenCommand:Cx,GetSessionTokenCommand:Rx},Ox=class extends j$.STSClient{};E(Ox,"STS");var Ax=Ox;(0,C.createAggregatedClient)(B$,Ax);var H$=qe(),kw="us-east-1",Tx=E(async(e,t,r)=>{var n;let o=typeof e=="function"?await e():e,i=typeof t=="function"?await t():t;return(n=r?.debug)==null||n.call(r,"@aws-sdk/client-sts::resolveRegion","accepting first of:",`${o} (provider)`,`${i} (parent client)`,`${kw} (STS default)`),o??i??kw},"resolveRegion"),$$=E((e,t)=>{let r,n;return async(o,i)=>{var s,a,c;if(n=o,!r){let{logger:d=(s=e?.parentClientConfig)==null?void 0:s.logger,region:u,requestHandler:p=(a=e?.parentClientConfig)==null?void 0:a.requestHandler,credentialProviderLogger:f}=e,h=await Tx(u,(c=e?.parentClientConfig)==null?void 0:c.region,f);r=new t({credentialDefaultProvider:()=>async()=>n,region:h,requestHandler:p,logger:d})}let{Credentials:l}=await r.send(new rd(i));if(!l||!l.AccessKeyId||!l.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${i.RoleArn}`);return{accessKeyId:l.AccessKeyId,secretAccessKey:l.SecretAccessKey,sessionToken:l.SessionToken,expiration:l.Expiration,credentialScope:l.CredentialScope}}},"getDefaultRoleAssumer"),G$=E((e,t)=>{let r;return async n=>{var o,i,s;if(!r){let{logger:c=(o=e?.parentClientConfig)==null?void 0:o.logger,region:l,requestHandler:d=(i=e?.parentClientConfig)==null?void 0:i.requestHandler,credentialProviderLogger:u}=e,p=await Tx(l,(s=e?.parentClientConfig)==null?void 0:s.region,u);r=new t({region:p,requestHandler:d,logger:c})}let{Credentials:a}=await r.send(new nd(n));if(!a||!a.AccessKeyId||!a.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);return{accessKeyId:a.AccessKeyId,secretAccessKey:a.SecretAccessKey,sessionToken:a.SessionToken,expiration:a.Expiration,credentialScope:a.CredentialScope}}},"getDefaultRoleAssumerWithWebIdentity"),Ix=Bn(),Nx=E((e,t)=>{var r;return t?(r=class extends e{constructor(n){super(n);for(let o of t)this.middlewareStack.use(o)}},E(r,"CustomizableSTSClient"),r):e},"getCustomizableStsClientCtor"),kx=E((e={},t)=>$$(e,Nx(Ix.STSClient,t)),"getDefaultRoleAssumer"),Dx=E((e={},t)=>G$(e,Nx(Ix.STSClient,t)),"getDefaultRoleAssumerWithWebIdentity"),z$=E(e=>t=>e({roleAssumer:kx(t),roleAssumerWithWebIdentity:Dx(t),...t}),"decorateDefaultCredentialProvider")});var cd=g((_9,Ux)=>{"use strict";var Ss=Object.defineProperty,V$=Object.getOwnPropertyDescriptor,W$=Object.getOwnPropertyNames,K$=Object.prototype.hasOwnProperty,ad=(e,t)=>Ss(e,"name",{value:t,configurable:!0}),J$=(e,t)=>{for(var r in t)Ss(e,r,{get:t[r],enumerable:!0})},Y$=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of W$(t))!K$.call(e,o)&&o!==r&&Ss(e,o,{get:()=>t[o],enumerable:!(n=V$(t,o))||n.enumerable});return e},X$=e=>Y$(Ss({},"__esModule",{value:!0}),e),Fx={};J$(Fx,{fromProcess:()=>r2});Ux.exports=X$(Fx);var Mx=mt(),sd=fe(),Q$=D("child_process"),Z$=D("util"),e2=ad((e,t)=>{if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let r=new Date;if(new Date(t.Expiration)<r)throw Error(`Profile ${e} credential_process returned expired credentials.`)}return{accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)},...t.CredentialScope&&{credentialScope:t.CredentialScope}}},"getValidatedProcessCredentials"),t2=ad(async(e,t,r)=>{let n=t[e];if(t[e]){let o=n.credential_process;if(o!==void 0){let i=(0,Z$.promisify)(Q$.exec);try{let{stdout:s}=await i(o),a;try{a=JSON.parse(s.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return e2(e,a)}catch(s){throw new sd.CredentialsProviderError(s.message,{logger:r})}}else throw new sd.CredentialsProviderError(`Profile ${e} did not contain credential_process.`,{logger:r})}else throw new sd.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`,{logger:r})},"resolveProcessCredentials"),r2=ad((e={})=>async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-process - fromProcess");let r=await(0,Mx.parseKnownFiles)(e);return t2((0,Mx.getProfileName)(e),r,e.logger)},"fromProcess")});var ld=g(Ke=>{"use strict";var n2=Ke&&Ke.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),o2=Ke&&Ke.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i2=Ke&&Ke.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&n2(t,e,r);return o2(t,e),t};Object.defineProperty(Ke,"__esModule",{value:!0});Ke.fromWebToken=void 0;var s2=e=>async()=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:t,roleSessionName:r,webIdentityToken:n,providerId:o,policyArns:i,policy:s,durationSeconds:a}=e,{roleAssumerWithWebIdentity:c}=e;if(!c){let{getDefaultRoleAssumerWithWebIdentity:l}=await Promise.resolve().then(()=>i2(id()));c=l({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:e.parentClientConfig},e.clientPlugins)}return c({RoleArn:t,RoleSessionName:r??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:n,ProviderId:o,PolicyArns:i,Policy:s,DurationSeconds:a})};Ke.fromWebToken=s2});var Lx=g(ws=>{"use strict";Object.defineProperty(ws,"__esModule",{value:!0});ws.fromTokenFile=void 0;var a2=fe(),c2=D("fs"),l2=ld(),d2="AWS_WEB_IDENTITY_TOKEN_FILE",u2="AWS_ROLE_ARN",p2="AWS_ROLE_SESSION_NAME",f2=(e={})=>async()=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let t=e?.webIdentityTokenFile??process.env[d2],r=e?.roleArn??process.env[u2],n=e?.roleSessionName??process.env[p2];if(!t||!r)throw new a2.CredentialsProviderError("Web identity configuration not specified",{logger:e.logger});return(0,l2.fromWebToken)({...e,webIdentityToken:(0,c2.readFileSync)(t,{encoding:"ascii"}),roleArn:r,roleSessionName:n})()};ws.fromTokenFile=f2});var pd=g((S9,xs)=>{"use strict";var qx=Object.defineProperty,m2=Object.getOwnPropertyDescriptor,g2=Object.getOwnPropertyNames,h2=Object.prototype.hasOwnProperty,dd=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of g2(t))!h2.call(e,o)&&o!==r&&qx(e,o,{get:()=>t[o],enumerable:!(n=m2(t,o))||n.enumerable});return e},jx=(e,t,r)=>(dd(e,t,"default"),r&&dd(r,t,"default")),v2=e=>dd(qx({},"__esModule",{value:!0}),e),ud={};xs.exports=v2(ud);jx(ud,Lx(),xs.exports);jx(ud,ld(),xs.exports)});var Wx=g((w9,Vx)=>{"use strict";var _2=Object.create,zn=Object.defineProperty,y2=Object.getOwnPropertyDescriptor,E2=Object.getOwnPropertyNames,S2=Object.getPrototypeOf,w2=Object.prototype.hasOwnProperty,de=(e,t)=>zn(e,"name",{value:t,configurable:!0}),x2=(e,t)=>{for(var r in t)zn(e,r,{get:t[r],enumerable:!0})},$x=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of E2(t))!w2.call(e,o)&&o!==r&&zn(e,o,{get:()=>t[o],enumerable:!(n=y2(t,o))||n.enumerable});return e},Ut=(e,t,r)=>(r=e!=null?_2(S2(e)):{},$x(t||!e||!e.__esModule?zn(r,"default",{value:e,enumerable:!0}):r,e)),b2=e=>$x(zn({},"__esModule",{value:!0}),e),Gx={};x2(Gx,{fromIni:()=>F2});Vx.exports=b2(Gx);var fd=mt(),Gn=fe(),C2=de((e,t,r)=>{let n={EcsContainer:async o=>{let{fromHttp:i}=await Promise.resolve().then(()=>Ut(el())),{fromContainerMetadata:s}=await Promise.resolve().then(()=>Ut(bn()));return r?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),(0,Gn.chain)(i(o??{}),s(o))},Ec2InstanceMetadata:async o=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:i}=await Promise.resolve().then(()=>Ut(bn()));return i(o)},Environment:async o=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:i}=await Promise.resolve().then(()=>Ut(Wc()));return i(o)}};if(e in n)return n[e];throw new Gn.CredentialsProviderError(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:r})},"resolveCredentialSource"),P2=de((e,{profile:t="default",logger:r}={})=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(R2(e,{profile:t,logger:r})||O2(e,{profile:t,logger:r})),"isAssumeRoleProfile"),R2=de((e,{profile:t,logger:r})=>{var n;let o=typeof e.source_profile=="string"&&typeof e.credential_source>"u";return o&&((n=r?.debug)==null||n.call(r,`    ${t} isAssumeRoleWithSourceProfile source_profile=${e.source_profile}`)),o},"isAssumeRoleWithSourceProfile"),O2=de((e,{profile:t,logger:r})=>{var n;let o=typeof e.credential_source=="string"&&typeof e.source_profile>"u";return o&&((n=r?.debug)==null||n.call(r,`    ${t} isCredentialSourceProfile credential_source=${e.credential_source}`)),o},"isCredentialSourceProfile"),A2=de(async(e,t,r,n={})=>{var o,i;(o=r.logger)==null||o.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let s=t[e];if(!r.roleAssumer){let{getDefaultRoleAssumer:p}=await Promise.resolve().then(()=>Ut(id()));r.roleAssumer=p({...r.clientConfig,credentialProviderLogger:r.logger,parentClientConfig:r?.parentClientConfig},r.clientPlugins)}let{source_profile:a}=s;if(a&&a in n)throw new Gn.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${(0,fd.getProfileName)(r)}. Profiles visited: `+Object.keys(n).join(", "),{logger:r.logger});(i=r.logger)==null||i.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${a?`source_profile=[${a}]`:`profile=[${e}]`}`);let c=a?zx(a,{...t,[a]:{...t[a],role_arn:s.role_arn??t[a].role_arn}},r,{...n,[a]:!0}):(await C2(s.credential_source,e,r.logger)(r))(),l={RoleArn:s.role_arn,RoleSessionName:s.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:s.external_id,DurationSeconds:parseInt(s.duration_seconds||"3600",10)},{mfa_serial:d}=s;if(d){if(!r.mfaCodeProvider)throw new Gn.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:r.logger,tryNextLink:!1});l.SerialNumber=d,l.TokenCode=await r.mfaCodeProvider(d)}let u=await c;return r.roleAssumer(u,l)},"resolveAssumeRoleCredentials"),T2=de(e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string","isProcessProfile"),I2=de(async(e,t)=>Promise.resolve().then(()=>Ut(cd())).then(({fromProcess:r})=>r({...e,profile:t})()),"resolveProcessCredentials"),N2=de(async(e,t={})=>{let{fromSSO:r}=await Promise.resolve().then(()=>Ut(_l()));return r({profile:e,logger:t.logger})()},"resolveSsoCredentials"),k2=de(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),Bx=de(e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1,"isStaticCredsProfile"),Hx=de((e,t)=>{var r;return(r=t?.logger)==null||r.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials"),Promise.resolve({accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token,credentialScope:e.aws_credential_scope})},"resolveStaticCredentials"),D2=de(e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,"isWebIdentityProfile"),M2=de(async(e,t)=>Promise.resolve().then(()=>Ut(pd())).then(({fromTokenFile:r})=>r({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity,logger:t.logger,parentClientConfig:t.parentClientConfig})()),"resolveWebIdentityCredentials"),zx=de(async(e,t,r,n={})=>{let o=t[e];if(Object.keys(n).length>0&&Bx(o))return Hx(o,r);if(P2(o,{profile:e,logger:r.logger}))return A2(e,t,r,n);if(Bx(o))return Hx(o,r);if(D2(o))return M2(o,r);if(T2(o))return I2(r,e);if(k2(o))return await N2(e,r);throw new Gn.CredentialsProviderError(`Could not resolve credentials using profile: [${e}] in configuration/credentials file(s).`,{logger:r.logger})},"resolveProfileData"),F2=de((e={})=>async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-ini - fromIni");let r=await(0,fd.parseKnownFiles)(e);return zx((0,fd.getProfileName)(e),r,e)},"fromIni")});var ns=g((x9,Qx)=>{"use strict";var U2=Object.create,Vn=Object.defineProperty,L2=Object.getOwnPropertyDescriptor,q2=Object.getOwnPropertyNames,j2=Object.getPrototypeOf,B2=Object.prototype.hasOwnProperty,bs=(e,t)=>Vn(e,"name",{value:t,configurable:!0}),H2=(e,t)=>{for(var r in t)Vn(e,r,{get:t[r],enumerable:!0})},Kx=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of q2(t))!B2.call(e,o)&&o!==r&&Vn(e,o,{get:()=>t[o],enumerable:!(n=L2(t,o))||n.enumerable});return e},Br=(e,t,r)=>(r=e!=null?U2(j2(e)):{},Kx(t||!e||!e.__esModule?Vn(r,"default",{value:e,enumerable:!0}):r,e)),$2=e=>Kx(Vn({},"__esModule",{value:!0}),e),Jx={};H2(Jx,{credentialsTreatedAsExpired:()=>Xx,credentialsWillNeedRefresh:()=>Yx,defaultProvider:()=>K2});Qx.exports=$2(Jx);var G2=Wc(),z2=mt(),Hr=fe(),V2="AWS_EC2_METADATA_DISABLED",W2=bs(async e=>{var t,r;let{ENV_CMDS_FULL_URI:n,ENV_CMDS_RELATIVE_URI:o,fromContainerMetadata:i,fromInstanceMetadata:s}=await Promise.resolve().then(()=>Br(bn()));if(process.env[o]||process.env[n]){(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:a}=await Promise.resolve().then(()=>Br(el()));return(0,Hr.chain)(a(e),i(e))}return process.env[V2]?async()=>{throw new Hr.CredentialsProviderError("EC2 Instance Metadata Service access disabled",{logger:e.logger})}:((r=e.logger)==null||r.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),s(e))},"remoteProvider"),K2=bs((e={})=>(0,Hr.memoize)((0,Hr.chain)(...e.profile||process.env[z2.ENV_PROFILE]?[]:[async()=>{var t;return(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),(0,G2.fromEnv)(e)()}],async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:o,ssoRoleName:i,ssoSession:s}=e;if(!r&&!n&&!o&&!i&&!s)throw new Hr.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:e.logger});let{fromSSO:a}=await Promise.resolve().then(()=>Br(_l()));return a(e)()},async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:r}=await Promise.resolve().then(()=>Br(Wx()));return r(e)()},async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:r}=await Promise.resolve().then(()=>Br(cd()));return r(e)()},async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:r}=await Promise.resolve().then(()=>Br(pd()));return r(e)()},async()=>{var t;return(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await W2(e))()},async()=>{throw new Hr.CredentialsProviderError("Could not load credentials from any providers",{tryNextLink:!1,logger:e.logger})}),Xx,Yx),"defaultProvider"),Yx=bs(e=>e?.expiration!==void 0,"credentialsWillNeedRefresh"),Xx=bs(e=>e?.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5,"credentialsTreatedAsExpired")});var vd={};Yr(vd,{__assign:()=>gd,__asyncDelegator:()=>a6,__asyncGenerator:()=>s6,__asyncValues:()=>c6,__await:()=>Wn,__awaiter:()=>e6,__classPrivateFieldGet:()=>p6,__classPrivateFieldSet:()=>f6,__createBinding:()=>r6,__decorate:()=>X2,__exportStar:()=>n6,__extends:()=>J2,__generator:()=>t6,__importDefault:()=>u6,__importStar:()=>d6,__makeTemplateObject:()=>l6,__metadata:()=>Z2,__param:()=>Q2,__read:()=>Zx,__rest:()=>Y2,__spread:()=>o6,__spreadArrays:()=>i6,__values:()=>hd});function J2(e,t){md(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function Y2(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function X2(e,t,r,n){var o=arguments.length,i=o<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(o<3?s(i):o>3?s(t,r,i):s(t,r))||i);return o>3&&i&&Object.defineProperty(t,r,i),i}function Q2(e,t){return function(r,n){t(r,n,e)}}function Z2(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function e6(e,t,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(d){try{l(n.next(d))}catch(u){s(u)}}function c(d){try{l(n.throw(d))}catch(u){s(u)}}function l(d){d.done?i(d.value):o(d.value).then(a,c)}l((n=n.apply(e,t||[])).next())})}function t6(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(d){return c([l,d])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=l[0]&2?o.return:l[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,l[1])).done)return i;switch(o=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,o=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){r.label=l[1];break}if(l[0]===6&&r.label<i[1]){r.label=i[1],i=l;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(l);break}i[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(d){l=[6,d],o=0}finally{n=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function r6(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function n6(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function hd(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Zx(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],s;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i}function o6(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Zx(arguments[t]));return e}function i6(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),o=0,t=0;t<r;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)n[o]=i[s];return n}function Wn(e){return this instanceof Wn?(this.v=e,this):new Wn(e)}function s6(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),o,i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(p){n[p]&&(o[p]=function(f){return new Promise(function(h,y){i.push([p,f,h,y])>1||a(p,f)})})}function a(p,f){try{c(n[p](f))}catch(h){u(i[0][3],h)}}function c(p){p.value instanceof Wn?Promise.resolve(p.value.v).then(l,d):u(i[0][2],p)}function l(p){a("next",p)}function d(p){a("throw",p)}function u(p,f){p(f),i.shift(),i.length&&a(i[0][0],i[0][1])}}function a6(e){var t,r;return t={},n("next"),n("throw",function(o){throw o}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(o,i){t[o]=e[o]?function(s){return(r=!r)?{value:Wn(e[o](s)),done:o==="return"}:i?i(s):s}:i}}function c6(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof hd=="function"?hd(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(s){return new Promise(function(a,c){s=e[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},s)}}function l6(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function d6(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function u6(e){return e&&e.__esModule?e:{default:e}}function p6(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function f6(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}var md,gd,_d=R(()=>{md=function(e,t){return md=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},md(e,t)};gd=function(){return gd=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},gd.apply(this,arguments)}});var eb=g($r=>{"use strict";Object.defineProperty($r,"__esModule",{value:!0});$r.toUtf8=$r.fromUtf8=void 0;var m6=e=>{let t=[];for(let r=0,n=e.length;r<n;r++){let o=e.charCodeAt(r);if(o<128)t.push(o);else if(o<2048)t.push(o>>6|192,o&63|128);else if(r+1<e.length&&(o&64512)===55296&&(e.charCodeAt(r+1)&64512)===56320){let i=65536+((o&1023)<<10)+(e.charCodeAt(++r)&1023);t.push(i>>18|240,i>>12&63|128,i>>6&63|128,i&63|128)}else t.push(o>>12|224,o>>6&63|128,o&63|128)}return Uint8Array.from(t)};$r.fromUtf8=m6;var g6=e=>{let t="";for(let r=0,n=e.length;r<n;r++){let o=e[r];if(o<128)t+=String.fromCharCode(o);else if(192<=o&&o<224){let i=e[++r];t+=String.fromCharCode((o&31)<<6|i&63)}else if(240<=o&&o<365){let s="%"+[o,e[++r],e[++r],e[++r]].map(a=>a.toString(16)).join("%");t+=decodeURIComponent(s)}else t+=String.fromCharCode((o&15)<<12|(e[++r]&63)<<6|e[++r]&63)}return t};$r.toUtf8=g6});var tb=g(Gr=>{"use strict";Object.defineProperty(Gr,"__esModule",{value:!0});Gr.toUtf8=Gr.fromUtf8=void 0;function h6(e){return new TextEncoder().encode(e)}Gr.fromUtf8=h6;function v6(e){return new TextDecoder("utf-8").decode(e)}Gr.toUtf8=v6});var ob=g(zr=>{"use strict";Object.defineProperty(zr,"__esModule",{value:!0});zr.toUtf8=zr.fromUtf8=void 0;var rb=eb(),nb=tb(),_6=e=>typeof TextEncoder=="function"?(0,nb.fromUtf8)(e):(0,rb.fromUtf8)(e);zr.fromUtf8=_6;var y6=e=>typeof TextDecoder=="function"?(0,nb.toUtf8)(e):(0,rb.toUtf8)(e);zr.toUtf8=y6});var ib=g(Cs=>{"use strict";Object.defineProperty(Cs,"__esModule",{value:!0});Cs.convertToBuffer=void 0;var E6=ob(),S6=typeof Buffer<"u"&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:E6.fromUtf8;function w6(e){return e instanceof Uint8Array?e:typeof e=="string"?S6(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}Cs.convertToBuffer=w6});var sb=g(Ps=>{"use strict";Object.defineProperty(Ps,"__esModule",{value:!0});Ps.isEmptyData=void 0;function x6(e){return typeof e=="string"?e.length===0:e.byteLength===0}Ps.isEmptyData=x6});var ab=g(Rs=>{"use strict";Object.defineProperty(Rs,"__esModule",{value:!0});Rs.numToUint8=void 0;function b6(e){return new Uint8Array([(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255])}Rs.numToUint8=b6});var cb=g(Os=>{"use strict";Object.defineProperty(Os,"__esModule",{value:!0});Os.uint32ArrayFrom=void 0;function C6(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),r=0;r<e.length;)t[r]=e[r],r+=1;return t}return Uint32Array.from(e)}Os.uint32ArrayFrom=C6});var yd=g(Je=>{"use strict";Object.defineProperty(Je,"__esModule",{value:!0});Je.uint32ArrayFrom=Je.numToUint8=Je.isEmptyData=Je.convertToBuffer=void 0;var P6=ib();Object.defineProperty(Je,"convertToBuffer",{enumerable:!0,get:function(){return P6.convertToBuffer}});var R6=sb();Object.defineProperty(Je,"isEmptyData",{enumerable:!0,get:function(){return R6.isEmptyData}});var O6=ab();Object.defineProperty(Je,"numToUint8",{enumerable:!0,get:function(){return O6.numToUint8}});var A6=cb();Object.defineProperty(Je,"uint32ArrayFrom",{enumerable:!0,get:function(){return A6.uint32ArrayFrom}})});var ub=g(As=>{"use strict";Object.defineProperty(As,"__esModule",{value:!0});As.AwsCrc32=void 0;var lb=(_d(),I(vd)),Ed=yd(),db=Ts(),T6=function(){function e(){this.crc32=new db.Crc32}return e.prototype.update=function(t){(0,Ed.isEmptyData)(t)||this.crc32.update((0,Ed.convertToBuffer)(t))},e.prototype.digest=function(){return lb.__awaiter(this,void 0,void 0,function(){return lb.__generator(this,function(t){return[2,(0,Ed.numToUint8)(this.crc32.digest())]})})},e.prototype.reset=function(){this.crc32=new db.Crc32},e}();As.AwsCrc32=T6});var Ts=g(Lt=>{"use strict";Object.defineProperty(Lt,"__esModule",{value:!0});Lt.AwsCrc32=Lt.Crc32=Lt.crc32=void 0;var I6=(_d(),I(vd)),N6=yd();function k6(e){return new pb().update(e).digest()}Lt.crc32=k6;var pb=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(t){var r,n;try{for(var o=I6.__values(t),i=o.next();!i.done;i=o.next()){var s=i.value;this.checksum=this.checksum>>>8^M6[(this.checksum^s)&255]}}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return this},e.prototype.digest=function(){return(this.checksum^4294967295)>>>0},e}();Lt.Crc32=pb;var D6=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],M6=(0,N6.uint32ArrayFrom)(D6),F6=ub();Object.defineProperty(Lt,"AwsCrc32",{enumerable:!0,get:function(){return F6.AwsCrc32}})});var yb=g((D9,_b)=>{var Is=Object.defineProperty,U6=Object.getOwnPropertyDescriptor,L6=Object.getOwnPropertyNames,q6=Object.prototype.hasOwnProperty,fb=(e,t)=>Is(e,"name",{value:t,configurable:!0}),j6=(e,t)=>{for(var r in t)Is(e,r,{get:t[r],enumerable:!0})},B6=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of L6(t))!q6.call(e,o)&&o!==r&&Is(e,o,{get:()=>t[o],enumerable:!(n=U6(t,o))||n.enumerable});return e},H6=e=>B6(Is({},"__esModule",{value:!0}),e),mb={};j6(mb,{fromHex:()=>hb,toHex:()=>vb});_b.exports=H6(mb);var gb={},Sd={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),gb[e]=t,Sd[t]=e}function hb(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in Sd)t[r/2]=Sd[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}fb(hb,"fromHex");function vb(e){let t="";for(let r=0;r<e.byteLength;r++)t+=gb[e[r]];return t}fb(vb,"toHex")});var Db=g((B9,kb)=>{var ks=Object.defineProperty,$6=Object.getOwnPropertyDescriptor,G6=Object.getOwnPropertyNames,z6=Object.prototype.hasOwnProperty,dt=(e,t)=>ks(e,"name",{value:t,configurable:!0}),V6=(e,t)=>{for(var r in t)ks(e,r,{get:t[r],enumerable:!0})},W6=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of G6(t))!z6.call(e,o)&&o!==r&&ks(e,o,{get:()=>t[o],enumerable:!(n=$6(t,o))||n.enumerable});return e},K6=e=>W6(ks({},"__esModule",{value:!0}),e),Sb={};V6(Sb,{EventStreamCodec:()=>a8,HeaderMarshaller:()=>Cb,Int64:()=>Ns,MessageDecoderStream:()=>c8,MessageEncoderStream:()=>l8,SmithyMessageDecoderStream:()=>d8,SmithyMessageEncoderStream:()=>u8});kb.exports=K6(Sb);var J6=Ts(),Qt=yb(),wb=class xb{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,o=Math.abs(Math.round(t));n>-1&&o>0;n--,o/=256)r[n]=o;return t<0&&wd(r),new xb(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&wd(t),parseInt((0,Qt.toHex)(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};dt(wb,"Int64");var Ns=wb;function wd(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}dt(wd,"negate");var bb=class{constructor(t,r){this.toUtf8=t,this.fromUtf8=r}format(t){let r=[];for(let i of Object.keys(t)){let s=this.fromUtf8(i);r.push(Uint8Array.from([s.byteLength]),s,this.formatHeaderValue(t[i]))}let n=new Uint8Array(r.reduce((i,s)=>i+s.byteLength,0)),o=0;for(let i of r)n.set(i,o),o+=i.byteLength;return n}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,t.value,!1),new Uint8Array(n.buffer);case"long":let o=new Uint8Array(9);return o[0]=5,o.set(t.value.bytes,1),o;case"binary":let i=new DataView(new ArrayBuffer(3+t.value.byteLength));i.setUint8(0,6),i.setUint16(1,t.value.byteLength,!1);let s=new Uint8Array(i.buffer);return s.set(t.value,3),s;case"string":let a=this.fromUtf8(t.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);let l=new Uint8Array(c.buffer);return l.set(a,3),l;case"timestamp":let d=new Uint8Array(9);return d[0]=8,d.set(Ns.fromNumber(t.value.valueOf()).bytes,1),d;case"uuid":if(!o8.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);let u=new Uint8Array(17);return u[0]=9,u.set((0,Qt.fromHex)(t.value.replace(/\-/g,"")),1),u}}parse(t){let r={},n=0;for(;n<t.byteLength;){let o=t.getUint8(n++),i=this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+n,o));switch(n+=o,t.getUint8(n++)){case 0:r[i]={type:Eb,value:!0};break;case 1:r[i]={type:Eb,value:!1};break;case 2:r[i]={type:Y6,value:t.getInt8(n++)};break;case 3:r[i]={type:X6,value:t.getInt16(n,!1)},n+=2;break;case 4:r[i]={type:Q6,value:t.getInt32(n,!1)},n+=4;break;case 5:r[i]={type:Z6,value:new Ns(new Uint8Array(t.buffer,t.byteOffset+n,8))},n+=8;break;case 6:let s=t.getUint16(n,!1);n+=2,r[i]={type:e8,value:new Uint8Array(t.buffer,t.byteOffset+n,s)},n+=s;break;case 7:let a=t.getUint16(n,!1);n+=2,r[i]={type:t8,value:this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+n,a))},n+=a;break;case 8:r[i]={type:r8,value:new Date(new Ns(new Uint8Array(t.buffer,t.byteOffset+n,8)).valueOf())},n+=8;break;case 9:let c=new Uint8Array(t.buffer,t.byteOffset+n,16);n+=16,r[i]={type:n8,value:`${(0,Qt.toHex)(c.subarray(0,4))}-${(0,Qt.toHex)(c.subarray(4,6))}-${(0,Qt.toHex)(c.subarray(6,8))}-${(0,Qt.toHex)(c.subarray(8,10))}-${(0,Qt.toHex)(c.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return r}};dt(bb,"HeaderMarshaller");var Cb=bb,Eb="boolean",Y6="byte",X6="short",Q6="integer",Z6="long",e8="binary",t8="string",r8="timestamp",n8="uuid",o8=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,i8=Ts(),Pb=4,qt=Pb*2,Zt=4,s8=qt+Zt*2;function Rb({byteLength:e,byteOffset:t,buffer:r}){if(e<s8)throw new Error("Provided message too short to accommodate event stream message overhead");let n=new DataView(r,t,e),o=n.getUint32(0,!1);if(e!==o)throw new Error("Reported message length does not match received message length");let i=n.getUint32(Pb,!1),s=n.getUint32(qt,!1),a=n.getUint32(e-Zt,!1),c=new i8.Crc32().update(new Uint8Array(r,t,qt));if(s!==c.digest())throw new Error(`The prelude checksum specified in the message (${s}) does not match the calculated CRC32 checksum (${c.digest()})`);if(c.update(new Uint8Array(r,t+qt,e-(qt+Zt))),a!==c.digest())throw new Error(`The message checksum (${c.digest()}) did not match the expected value of ${a}`);return{headers:new DataView(r,t+qt+Zt,i),body:new Uint8Array(r,t+qt+Zt+i,o-i-(qt+Zt+Zt))}}dt(Rb,"splitMessage");var Ob=class{constructor(t,r){this.headerMarshaller=new Cb(t,r),this.messageBuffer=[],this.isEndOfStream=!1}feed(t){this.messageBuffer.push(this.decode(t))}endOfStream(){this.isEndOfStream=!0}getMessage(){let t=this.messageBuffer.pop(),r=this.isEndOfStream;return{getMessage(){return t},isEndOfStream(){return r}}}getAvailableMessages(){let t=this.messageBuffer;this.messageBuffer=[];let r=this.isEndOfStream;return{getMessages(){return t},isEndOfStream(){return r}}}encode({headers:t,body:r}){let n=this.headerMarshaller.format(t),o=n.byteLength+r.byteLength+16,i=new Uint8Array(o),s=new DataView(i.buffer,i.byteOffset,i.byteLength),a=new J6.Crc32;return s.setUint32(0,o,!1),s.setUint32(4,n.byteLength,!1),s.setUint32(8,a.update(i.subarray(0,8)).digest(),!1),i.set(n,12),i.set(r,n.byteLength+12),s.setUint32(o-4,a.update(i.subarray(8,o-4)).digest(),!1),i}decode(t){let{headers:r,body:n}=Rb(t);return{headers:this.headerMarshaller.parse(r),body:n}}formatHeaders(t){return this.headerMarshaller.format(t)}};dt(Ob,"EventStreamCodec");var a8=Ob,Ab=class{constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let t of this.options.inputStream)yield this.options.decoder.decode(t)}};dt(Ab,"MessageDecoderStream");var c8=Ab,Tb=class{constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let t of this.options.messageStream)yield this.options.encoder.encode(t);this.options.includeEndFrame&&(yield new Uint8Array(0))}};dt(Tb,"MessageEncoderStream");var l8=Tb,Ib=class{constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let t of this.options.messageStream){let r=await this.options.deserializer(t);r!==void 0&&(yield r)}}};dt(Ib,"SmithyMessageDecoderStream");var d8=Ib,Nb=class{constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let t of this.options.inputStream)yield this.options.serializer(t)}};dt(Nb,"SmithyMessageEncoderStream");var u8=Nb});var Bb=g(($9,jb)=>{var Ds=Object.defineProperty,p8=Object.getOwnPropertyDescriptor,f8=Object.getOwnPropertyNames,m8=Object.prototype.hasOwnProperty,Vr=(e,t)=>Ds(e,"name",{value:t,configurable:!0}),g8=(e,t)=>{for(var r in t)Ds(e,r,{get:t[r],enumerable:!0})},h8=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of f8(t))!m8.call(e,o)&&o!==r&&Ds(e,o,{get:()=>t[o],enumerable:!(n=p8(t,o))||n.enumerable});return e},v8=e=>h8(Ds({},"__esModule",{value:!0}),e),Mb={};g8(Mb,{EventStreamMarshaller:()=>qb,eventStreamSerdeProvider:()=>_8});jb.exports=v8(Mb);var Kn=Db();function Fb(e){let t=0,r=0,n=null,o=null,i=Vr(a=>{if(typeof a!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+a);t=a,r=4,n=new Uint8Array(a),new DataView(n.buffer).setUint32(0,a,!1)},"allocateMessage"),s=Vr(async function*(){let a=e[Symbol.asyncIterator]();for(;;){let{value:c,done:l}=await a.next();if(l){if(t)if(t===r)yield n;else throw new Error("Truncated event message received.");else return;return}let d=c.length,u=0;for(;u<d;){if(!n){let f=d-u;o||(o=new Uint8Array(4));let h=Math.min(4-r,f);if(o.set(c.slice(u,u+h),r),r+=h,u+=h,r<4)break;i(new DataView(o.buffer).getUint32(0,!1)),o=null}let p=Math.min(t-r,d-u);n.set(c.slice(u,u+p),r),r+=p,u+=p,t&&t===r&&(yield n,n=null,t=0,r=0)}}},"iterator");return{[Symbol.asyncIterator]:s}}Vr(Fb,"getChunkedStream");function Ub(e,t){return async function(r){let{value:n}=r.headers[":message-type"];if(n==="error"){let o=new Error(r.headers[":error-message"].value||"UnknownError");throw o.name=r.headers[":error-code"].value,o}else if(n==="exception"){let o=r.headers[":exception-type"].value,i={[o]:r},s=await e(i);if(s.$unknown){let a=new Error(t(r.body));throw a.name=o,a}throw s[o]}else if(n==="event"){let o={[r.headers[":event-type"].value]:r},i=await e(o);return i.$unknown?void 0:i}else throw Error(`Unrecognizable event type: ${r.headers[":event-type"].value}`)}}Vr(Ub,"getMessageUnmarshaller");var Lb=class{constructor({utf8Encoder:t,utf8Decoder:r}){this.eventStreamCodec=new Kn.EventStreamCodec(t,r),this.utfEncoder=t}deserialize(t,r){let n=Fb(t);return new Kn.SmithyMessageDecoderStream({messageStream:new Kn.MessageDecoderStream({inputStream:n,decoder:this.eventStreamCodec}),deserializer:Ub(r,this.utfEncoder)})}serialize(t,r){return new Kn.MessageEncoderStream({messageStream:new Kn.SmithyMessageEncoderStream({inputStream:t,serializer:r}),encoder:this.eventStreamCodec,includeEndFrame:!0})}};Vr(Lb,"EventStreamMarshaller");var qb=Lb,_8=Vr(e=>new qb(e),"eventStreamSerdeProvider")});var Wb=g((z9,Vb)=>{var Ms=Object.defineProperty,y8=Object.getOwnPropertyDescriptor,E8=Object.getOwnPropertyNames,S8=Object.prototype.hasOwnProperty,xd=(e,t)=>Ms(e,"name",{value:t,configurable:!0}),w8=(e,t)=>{for(var r in t)Ms(e,r,{get:t[r],enumerable:!0})},x8=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of E8(t))!S8.call(e,o)&&o!==r&&Ms(e,o,{get:()=>t[o],enumerable:!(n=y8(t,o))||n.enumerable});return e},b8=e=>x8(Ms({},"__esModule",{value:!0}),e),Hb={};w8(Hb,{EventStreamMarshaller:()=>zb,eventStreamSerdeProvider:()=>R8});Vb.exports=b8(Hb);var C8=Bb(),P8=D("stream");async function*$b(e){let t=!1,r=!1,n=new Array;for(e.on("error",o=>{if(t||(t=!0),o)throw o}),e.on("data",o=>{n.push(o)}),e.on("end",()=>{t=!0});!r;){let o=await new Promise(i=>setTimeout(()=>i(n.shift()),0));o&&(yield o),r=t&&n.length===0}}xd($b,"readabletoIterable");var Gb=class{constructor({utf8Encoder:t,utf8Decoder:r}){this.universalMarshaller=new C8.EventStreamMarshaller({utf8Decoder:r,utf8Encoder:t})}deserialize(t,r){let n=typeof t[Symbol.asyncIterator]=="function"?t:$b(t);return this.universalMarshaller.deserialize(n,r)}serialize(t,r){return P8.Readable.from(this.universalMarshaller.serialize(t,r))}};xd(Gb,"EventStreamMarshaller");var zb=Gb,R8=xd(e=>new zb(e),"eventStreamSerdeProvider")});var aC=g(Fs=>{"use strict";Object.defineProperty(Fs,"__esModule",{value:!0});Fs.ruleSet=void 0;var oC="required",Xe="fn",Qe="argv",Kr="ref",Kb=!0,Jb="isSet",Yn="booleanEquals",Wr="error",Jn="endpoint",ue="tree",bd="PartitionResult",Yb={[oC]:!1,type:"String"},Xb={[oC]:!0,default:!1,type:"Boolean"},Qb={[Kr]:"Endpoint"},iC={[Xe]:Yn,[Qe]:[{[Kr]:"UseFIPS"},!0]},sC={[Xe]:Yn,[Qe]:[{[Kr]:"UseDualStack"},!0]},Ye={},Zb={[Xe]:"getAttr",[Qe]:[{[Kr]:bd},"supportsFIPS"]},eC={[Xe]:Yn,[Qe]:[!0,{[Xe]:"getAttr",[Qe]:[{[Kr]:bd},"supportsDualStack"]}]},tC=[iC],rC=[sC],nC=[{[Kr]:"Region"}],O8={version:"1.0",parameters:{Region:Yb,UseDualStack:Xb,UseFIPS:Xb,Endpoint:Yb},rules:[{conditions:[{[Xe]:Jb,[Qe]:[Qb]}],rules:[{conditions:tC,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Wr},{rules:[{conditions:rC,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Wr},{endpoint:{url:Qb,properties:Ye,headers:Ye},type:Jn}],type:ue}],type:ue},{rules:[{conditions:[{[Xe]:Jb,[Qe]:nC}],rules:[{conditions:[{[Xe]:"aws.partition",[Qe]:nC,assign:bd}],rules:[{conditions:[iC,sC],rules:[{conditions:[{[Xe]:Yn,[Qe]:[Kb,Zb]},eC],rules:[{rules:[{endpoint:{url:"https://bedrock-runtime-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ye,headers:Ye},type:Jn}],type:ue}],type:ue},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Wr}],type:ue},{conditions:tC,rules:[{conditions:[{[Xe]:Yn,[Qe]:[Zb,Kb]}],rules:[{rules:[{endpoint:{url:"https://bedrock-runtime-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Ye,headers:Ye},type:Jn}],type:ue}],type:ue},{error:"FIPS is enabled but this partition does not support FIPS",type:Wr}],type:ue},{conditions:rC,rules:[{conditions:[eC],rules:[{rules:[{endpoint:{url:"https://bedrock-runtime.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ye,headers:Ye},type:Jn}],type:ue}],type:ue},{error:"DualStack is enabled but this partition does not support DualStack",type:Wr}],type:ue},{rules:[{endpoint:{url:"https://bedrock-runtime.{Region}.{PartitionResult#dnsSuffix}",properties:Ye,headers:Ye},type:Jn}],type:ue}],type:ue}],type:ue},{error:"Invalid Configuration: Missing Region",type:Wr}],type:ue}]};Fs.ruleSet=O8});var lC=g(Us=>{"use strict";Object.defineProperty(Us,"__esModule",{value:!0});Us.defaultEndpointResolver=void 0;var A8=nr(),cC=tr(),T8=aC(),I8=(e,t={})=>(0,cC.resolveEndpoint)(T8.ruleSet,{endpointParams:e,logger:t.logger});Us.defaultEndpointResolver=I8;cC.customEndpointFunctions.aws=A8.awsEndpointFunctions});var pC=g(Ls=>{"use strict";Object.defineProperty(Ls,"__esModule",{value:!0});Ls.getRuntimeConfig=void 0;var N8=(re(),I(te)),k8=L(),D8=$t(),dC=vt(),uC=he(),M8=Gc(),F8=lC(),U8=e=>({apiVersion:"2023-09-30",base64Decoder:e?.base64Decoder??dC.fromBase64,base64Encoder:e?.base64Encoder??dC.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??F8.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??M8.defaultBedrockRuntimeHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new N8.AwsSdkSigV4Signer}],logger:e?.logger??new k8.NoOpLogger,serviceId:e?.serviceId??"Bedrock Runtime",urlParser:e?.urlParser??D8.parseUrl,utf8Decoder:e?.utf8Decoder??uC.fromUtf8,utf8Encoder:e?.utf8Encoder??uC.toUtf8});Ls.getRuntimeConfig=U8});var gC=g(js=>{"use strict";Object.defineProperty(js,"__esModule",{value:!0});js.getRuntimeConfig=void 0;var L8=(vr(),I(hr)),q8=L8.__importDefault(S_()),j8=(re(),I(te)),B8=ns(),H8=Cn(),qs=Be(),$8=Wb(),G8=Pn(),fC=$e(),Xn=et(),mC=Kt(),z8=Rn(),V8=sr(),W8=pC(),K8=L(),J8=Tn(),Y8=L(),X8=e=>{(0,Y8.emitWarningIfUnsupportedVersion)(process.version);let t=(0,J8.resolveDefaultsModeConfig)(e),r=()=>t().then(K8.loadConfigsForDefaultMode),n=(0,W8.getRuntimeConfig)(e);return(0,j8.emitWarningIfUnsupportedVersion)(process.version),{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??z8.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??B8.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,H8.defaultUserAgent)({serviceId:n.serviceId,clientVersion:q8.default.version}),eventStreamSerdeProvider:e?.eventStreamSerdeProvider??$8.eventStreamSerdeProvider,maxAttempts:e?.maxAttempts??(0,Xn.loadConfig)(fC.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:e?.region??(0,Xn.loadConfig)(qs.NODE_REGION_CONFIG_OPTIONS,qs.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:mC.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Xn.loadConfig)({...fC.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||V8.DEFAULT_RETRY_MODE}),sha256:e?.sha256??G8.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??mC.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Xn.loadConfig)(qs.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:e?.useFipsEndpoint??(0,Xn.loadConfig)(qs.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};js.getRuntimeConfig=X8});var jP=g((r7,qP)=>{"use strict";var Ws=Object.defineProperty,Q8=Object.getOwnPropertyDescriptor,Z8=Object.getOwnPropertyNames,eG=Object.prototype.hasOwnProperty,_=(e,t)=>Ws(e,"name",{value:t,configurable:!0}),tG=(e,t)=>{for(var r in t)Ws(e,r,{get:t[r],enumerable:!0})},rG=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Z8(t))!eG.call(e,o)&&o!==r&&Ws(e,o,{get:()=>t[o],enumerable:!(n=Q8(t,o))||n.enumerable});return e},nG=e=>rG(Ws({},"__esModule",{value:!0}),e),wC={};tG(wC,{AccessDeniedException:()=>AC,BedrockRuntime:()=>LP,BedrockRuntimeClient:()=>bC,BedrockRuntimeServiceException:()=>Te,ContentBlock:()=>Gs,ContentBlockDelta:()=>Od,ContentBlockStart:()=>Ad,ConversationRole:()=>hG,ConverseCommand:()=>TP,ConverseOutput:()=>Rd,ConverseStreamCommand:()=>NP,ConverseStreamOutput:()=>Td,ConverseStreamOutputFilterSensitiveLog:()=>yG,ConverseStreamResponseFilterSensitiveLog:()=>nP,ImageFormat:()=>mG,ImageSource:()=>Hs,InternalServerException:()=>NC,InvokeModelCommand:()=>DP,InvokeModelRequestFilterSensitiveLog:()=>oP,InvokeModelResponseFilterSensitiveLog:()=>iP,InvokeModelWithResponseStreamCommand:()=>FP,InvokeModelWithResponseStreamRequestFilterSensitiveLog:()=>sP,InvokeModelWithResponseStreamResponseFilterSensitiveLog:()=>aP,ModelErrorException:()=>MC,ModelNotReadyException:()=>LC,ModelStreamErrorException:()=>ZC,ModelTimeoutException:()=>BC,PayloadPartFilterSensitiveLog:()=>EG,ResourceNotFoundException:()=>GC,ResponseStream:()=>Id,ResponseStreamFilterSensitiveLog:()=>SG,ServiceQuotaExceededException:()=>rP,StopReason:()=>vG,SystemContentBlock:()=>Cd,ThrottlingException:()=>WC,Tool:()=>Vs,ToolChoice:()=>Pd,ToolInputSchema:()=>zs,ToolResultContentBlock:()=>$s,ToolResultStatus:()=>gG,Trace:()=>_G,ValidationException:()=>YC,__Client:()=>v.Client});qP.exports=nG(wC);var hC=Xr(),oG=Qr(),iG=Zr(),vC=tn(),sG=Be(),er=(Ge(),I(tt)),aG=wh(),cG=yn(),Qn=zt(),_C=$e(),yC=Gc(),lG=_(e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"bedrock"}),"resolveClientEndpointParameters"),Ks={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},dG=gC(),EC=Nn(),SC=Q(),v=L(),uG=_(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let i=t.findIndex(s=>s.schemeId===o.schemeId);i===-1?t.push(o):t.splice(i,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),pG=_(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),Bs=_(e=>e,"asPartial"),fG=_((e,t)=>{let r={...Bs((0,EC.getAwsRegionExtensionConfiguration)(e)),...Bs((0,v.getDefaultExtensionConfiguration)(e)),...Bs((0,SC.getHttpHandlerExtensionConfiguration)(e)),...Bs(uG(e))};return t.forEach(n=>n.configure(r)),{...e,...(0,EC.resolveAwsRegionExtensionConfiguration)(r),...(0,v.resolveDefaultRuntimeConfig)(r),...(0,SC.resolveHttpHandlerRuntimeConfig)(r),...pG(r)}},"resolveRuntimeExtensions"),xC=class extends v.Client{constructor(...[t]){let r=(0,dG.getRuntimeConfig)(t||{}),n=lG(r),o=(0,sG.resolveRegionConfig)(n),i=(0,Qn.resolveEndpointConfig)(o),s=(0,_C.resolveRetryConfig)(i),a=(0,hC.resolveHostHeaderConfig)(s),c=(0,vC.resolveUserAgentConfig)(a),l=(0,aG.resolveEventStreamSerdeConfig)(c),d=(0,yC.resolveHttpAuthSchemeConfig)(l),u=fG(d,t?.extensions||[]);super(u),this.config=u,this.middlewareStack.use((0,_C.getRetryPlugin)(this.config)),this.middlewareStack.use((0,cG.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,hC.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,oG.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,iG.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,vC.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,er.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:this.getDefaultHttpAuthSchemeParametersProvider(),identityProviderConfigProvider:this.getIdentityProviderConfigProvider()})),this.middlewareStack.use((0,er.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}getDefaultHttpAuthSchemeParametersProvider(){return yC.defaultBedrockRuntimeHttpAuthSchemeParametersProvider}getIdentityProviderConfigProvider(){return async t=>new er.DefaultIdentityProviderConfig({"aws.auth#sigv4":t.credentials})}};_(xC,"BedrockRuntimeClient");var bC=xC,Js=Gt(),X=(re(),I(te)),CC=class PC extends v.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,PC.prototype)}};_(CC,"BedrockRuntimeServiceException");var Te=CC,RC=class OC extends Te{constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),this.name="AccessDeniedException",this.$fault="client",Object.setPrototypeOf(this,OC.prototype)}};_(RC,"AccessDeniedException");var AC=RC,mG={GIF:"gif",JPEG:"jpeg",PNG:"png",WEBP:"webp"},Hs;(e=>{e.visit=_((t,r)=>t.bytes!==void 0?r.bytes(t.bytes):r._(t.$unknown[0],t.$unknown[1]),"visit")})(Hs||(Hs={}));var $s;(e=>{e.visit=_((t,r)=>t.json!==void 0?r.json(t.json):t.text!==void 0?r.text(t.text):t.image!==void 0?r.image(t.image):r._(t.$unknown[0],t.$unknown[1]),"visit")})($s||($s={}));var gG={ERROR:"error",SUCCESS:"success"},Gs;(e=>{e.visit=_((t,r)=>t.text!==void 0?r.text(t.text):t.image!==void 0?r.image(t.image):t.toolUse!==void 0?r.toolUse(t.toolUse):t.toolResult!==void 0?r.toolResult(t.toolResult):r._(t.$unknown[0],t.$unknown[1]),"visit")})(Gs||(Gs={}));var hG={ASSISTANT:"assistant",USER:"user"},Cd;(e=>{e.visit=_((t,r)=>t.text!==void 0?r.text(t.text):r._(t.$unknown[0],t.$unknown[1]),"visit")})(Cd||(Cd={}));var Pd;(e=>{e.visit=_((t,r)=>t.auto!==void 0?r.auto(t.auto):t.any!==void 0?r.any(t.any):t.tool!==void 0?r.tool(t.tool):r._(t.$unknown[0],t.$unknown[1]),"visit")})(Pd||(Pd={}));var zs;(e=>{e.visit=_((t,r)=>t.json!==void 0?r.json(t.json):r._(t.$unknown[0],t.$unknown[1]),"visit")})(zs||(zs={}));var Vs;(e=>{e.visit=_((t,r)=>t.toolSpec!==void 0?r.toolSpec(t.toolSpec):r._(t.$unknown[0],t.$unknown[1]),"visit")})(Vs||(Vs={}));var Rd;(e=>{e.visit=_((t,r)=>t.message!==void 0?r.message(t.message):r._(t.$unknown[0],t.$unknown[1]),"visit")})(Rd||(Rd={}));var vG={CONTENT_FILTERED:"content_filtered",END_TURN:"end_turn",MAX_TOKENS:"max_tokens",STOP_SEQUENCE:"stop_sequence",TOOL_USE:"tool_use"},TC=class IC extends Te{constructor(t){super({name:"InternalServerException",$fault:"server",...t}),this.name="InternalServerException",this.$fault="server",Object.setPrototypeOf(this,IC.prototype)}};_(TC,"InternalServerException");var NC=TC,kC=class DC extends Te{constructor(t){super({name:"ModelErrorException",$fault:"client",...t}),this.name="ModelErrorException",this.$fault="client",Object.setPrototypeOf(this,DC.prototype),this.originalStatusCode=t.originalStatusCode,this.resourceName=t.resourceName}};_(kC,"ModelErrorException");var MC=kC,FC=class UC extends Te{constructor(t){super({name:"ModelNotReadyException",$fault:"client",...t}),this.name="ModelNotReadyException",this.$fault="client",Object.setPrototypeOf(this,UC.prototype)}};_(FC,"ModelNotReadyException");var LC=FC,qC=class jC extends Te{constructor(t){super({name:"ModelTimeoutException",$fault:"client",...t}),this.name="ModelTimeoutException",this.$fault="client",Object.setPrototypeOf(this,jC.prototype)}};_(qC,"ModelTimeoutException");var BC=qC,HC=class $C extends Te{constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,$C.prototype)}};_(HC,"ResourceNotFoundException");var GC=HC,zC=class VC extends Te{constructor(t){super({name:"ThrottlingException",$fault:"client",...t}),this.name="ThrottlingException",this.$fault="client",Object.setPrototypeOf(this,VC.prototype)}};_(zC,"ThrottlingException");var WC=zC,KC=class JC extends Te{constructor(t){super({name:"ValidationException",$fault:"client",...t}),this.name="ValidationException",this.$fault="client",Object.setPrototypeOf(this,JC.prototype)}};_(KC,"ValidationException");var YC=KC,Od;(e=>{e.visit=_((t,r)=>t.text!==void 0?r.text(t.text):t.toolUse!==void 0?r.toolUse(t.toolUse):r._(t.$unknown[0],t.$unknown[1]),"visit")})(Od||(Od={}));var Ad;(e=>{e.visit=_((t,r)=>t.toolUse!==void 0?r.toolUse(t.toolUse):r._(t.$unknown[0],t.$unknown[1]),"visit")})(Ad||(Ad={}));var XC=class QC extends Te{constructor(t){super({name:"ModelStreamErrorException",$fault:"client",...t}),this.name="ModelStreamErrorException",this.$fault="client",Object.setPrototypeOf(this,QC.prototype),this.originalStatusCode=t.originalStatusCode,this.originalMessage=t.originalMessage}};_(XC,"ModelStreamErrorException");var ZC=XC,Td;(e=>{e.visit=_((t,r)=>t.messageStart!==void 0?r.messageStart(t.messageStart):t.contentBlockStart!==void 0?r.contentBlockStart(t.contentBlockStart):t.contentBlockDelta!==void 0?r.contentBlockDelta(t.contentBlockDelta):t.contentBlockStop!==void 0?r.contentBlockStop(t.contentBlockStop):t.messageStop!==void 0?r.messageStop(t.messageStop):t.metadata!==void 0?r.metadata(t.metadata):t.internalServerException!==void 0?r.internalServerException(t.internalServerException):t.modelStreamErrorException!==void 0?r.modelStreamErrorException(t.modelStreamErrorException):t.validationException!==void 0?r.validationException(t.validationException):t.throttlingException!==void 0?r.throttlingException(t.throttlingException):r._(t.$unknown[0],t.$unknown[1]),"visit")})(Td||(Td={}));var _G={DISABLED:"DISABLED",ENABLED:"ENABLED"},eP=class tP extends Te{constructor(t){super({name:"ServiceQuotaExceededException",$fault:"client",...t}),this.name="ServiceQuotaExceededException",this.$fault="client",Object.setPrototypeOf(this,tP.prototype)}};_(eP,"ServiceQuotaExceededException");var rP=eP,Id;(e=>{e.visit=_((t,r)=>t.chunk!==void 0?r.chunk(t.chunk):t.internalServerException!==void 0?r.internalServerException(t.internalServerException):t.modelStreamErrorException!==void 0?r.modelStreamErrorException(t.modelStreamErrorException):t.validationException!==void 0?r.validationException(t.validationException):t.throttlingException!==void 0?r.throttlingException(t.throttlingException):t.modelTimeoutException!==void 0?r.modelTimeoutException(t.modelTimeoutException):r._(t.$unknown[0],t.$unknown[1]),"visit")})(Id||(Id={}));var yG=_(e=>{if(e.messageStart!==void 0)return{messageStart:e.messageStart};if(e.contentBlockStart!==void 0)return{contentBlockStart:e.contentBlockStart};if(e.contentBlockDelta!==void 0)return{contentBlockDelta:e.contentBlockDelta};if(e.contentBlockStop!==void 0)return{contentBlockStop:e.contentBlockStop};if(e.messageStop!==void 0)return{messageStop:e.messageStop};if(e.metadata!==void 0)return{metadata:e.metadata};if(e.internalServerException!==void 0)return{internalServerException:e.internalServerException};if(e.modelStreamErrorException!==void 0)return{modelStreamErrorException:e.modelStreamErrorException};if(e.validationException!==void 0)return{validationException:e.validationException};if(e.throttlingException!==void 0)return{throttlingException:e.throttlingException};if(e.$unknown!==void 0)return{[e.$unknown[0]]:"UNKNOWN"}},"ConverseStreamOutputFilterSensitiveLog"),nP=_(e=>({...e,...e.stream&&{stream:"STREAMING_CONTENT"}}),"ConverseStreamResponseFilterSensitiveLog"),oP=_(e=>({...e,...e.body&&{body:v.SENSITIVE_STRING}}),"InvokeModelRequestFilterSensitiveLog"),iP=_(e=>({...e,...e.body&&{body:v.SENSITIVE_STRING}}),"InvokeModelResponseFilterSensitiveLog"),sP=_(e=>({...e,...e.body&&{body:v.SENSITIVE_STRING}}),"InvokeModelWithResponseStreamRequestFilterSensitiveLog"),EG=_(e=>({...e,...e.bytes&&{bytes:v.SENSITIVE_STRING}}),"PayloadPartFilterSensitiveLog"),SG=_(e=>{if(e.chunk!==void 0)return{chunk:v.SENSITIVE_STRING};if(e.internalServerException!==void 0)return{internalServerException:e.internalServerException};if(e.modelStreamErrorException!==void 0)return{modelStreamErrorException:e.modelStreamErrorException};if(e.validationException!==void 0)return{validationException:e.validationException};if(e.throttlingException!==void 0)return{throttlingException:e.throttlingException};if(e.modelTimeoutException!==void 0)return{modelTimeoutException:e.modelTimeoutException};if(e.$unknown!==void 0)return{[e.$unknown[0]]:"UNKNOWN"}},"ResponseStreamFilterSensitiveLog"),aP=_(e=>({...e,...e.body&&{body:"STREAMING_CONTENT"}}),"InvokeModelWithResponseStreamResponseFilterSensitiveLog"),wG=_(async(e,t)=>{let r=(0,er.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/model/{modelId}/converse"),r.p("modelId",()=>e.modelId,"{modelId}",!1);let o;return o=JSON.stringify((0,v.take)(e,{additionalModelRequestFields:i=>Zn(i,t),additionalModelResponseFieldPaths:i=>(0,v._json)(i),inferenceConfig:i=>_P(i,t),messages:i=>yP(i,t),system:i=>(0,v._json)(i),toolConfig:i=>EP(i,t)})),r.m("POST").h(n).b(o),r.build()},"se_ConverseCommand"),xG=_(async(e,t)=>{let r=(0,er.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/model/{modelId}/converse-stream"),r.p("modelId",()=>e.modelId,"{modelId}",!1);let o;return o=JSON.stringify((0,v.take)(e,{additionalModelRequestFields:i=>Zn(i,t),additionalModelResponseFieldPaths:i=>(0,v._json)(i),inferenceConfig:i=>_P(i,t),messages:i=>yP(i,t),system:i=>(0,v._json)(i),toolConfig:i=>EP(i,t)})),r.m("POST").h(n).b(o),r.build()},"se_ConverseStreamCommand"),bG=_(async(e,t)=>{let r=(0,er.requestBuilder)(e,t),n=(0,v.map)({},wP,{[kd]:e[Qs]||"application/octet-stream",[Nd]:e[Nd],[OP]:e[CP],[PP]:e[xP],[RP]:e[bP]});r.bp("/model/{modelId}/invoke"),r.p("modelId",()=>e.modelId,"{modelId}",!1);let o;return e.body!==void 0&&(o=e.body),r.m("POST").h(n).b(o),r.build()},"se_InvokeModelCommand"),CG=_(async(e,t)=>{let r=(0,er.requestBuilder)(e,t),n=(0,v.map)({},wP,{[kd]:e[Qs]||"application/octet-stream",[gz]:e[Nd],[OP]:e[CP],[PP]:e[xP],[RP]:e[bP]});r.bp("/model/{modelId}/invoke-with-response-stream"),r.p("modelId",()=>e.modelId,"{modelId}",!1);let o;return e.body!==void 0&&(o=e.body),r.m("POST").h(n).b(o),r.build()},"se_InvokeModelWithResponseStreamCommand"),PG=_(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Ys(e,t);let r=(0,v.map)({$metadata:ge(e)}),n=(0,v.expectNonNull)((0,v.expectObject)(await(0,X.parseJsonBody)(e.body,t)),"body"),o=(0,v.take)(n,{additionalModelResponseFields:i=>Xs(i,t),metrics:v._json,output:i=>sz((0,X.awsExpectUnion)(i),t),stopReason:v.expectString,usage:v._json});return Object.assign(r,o),r},"de_ConverseCommand"),RG=_(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Ys(e,t);let r=(0,v.map)({$metadata:ge(e)}),n=e.body;return r.stream=FG(n,t),r},"de_ConverseStreamCommand"),OG=_(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Ys(e,t);let r=(0,v.map)({$metadata:ge(e),[Qs]:[,e.headers[kd]]}),n=await(0,v.collectBody)(e.body,t);return r.body=n,r},"de_InvokeModelCommand"),AG=_(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Ys(e,t);let r=(0,v.map)({$metadata:ge(e),[Qs]:[,e.headers[hz]]}),n=e.body;return r.body=UG(n,t),r},"de_InvokeModelWithResponseStreamCommand"),Ys=_(async(e,t)=>{let r={...e,body:await(0,X.parseJsonErrorBody)(e.body,t)},n=(0,X.loadRestJsonErrorCode)(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.bedrockruntime#AccessDeniedException":throw await IG(r,t);case"InternalServerException":case"com.amazonaws.bedrockruntime#InternalServerException":throw await cP(r,t);case"ModelErrorException":case"com.amazonaws.bedrockruntime#ModelErrorException":throw await NG(r,t);case"ModelNotReadyException":case"com.amazonaws.bedrockruntime#ModelNotReadyException":throw await kG(r,t);case"ModelTimeoutException":case"com.amazonaws.bedrockruntime#ModelTimeoutException":throw await dP(r,t);case"ResourceNotFoundException":case"com.amazonaws.bedrockruntime#ResourceNotFoundException":throw await DG(r,t);case"ThrottlingException":case"com.amazonaws.bedrockruntime#ThrottlingException":throw await uP(r,t);case"ValidationException":case"com.amazonaws.bedrockruntime#ValidationException":throw await pP(r,t);case"ServiceQuotaExceededException":case"com.amazonaws.bedrockruntime#ServiceQuotaExceededException":throw await MG(r,t);case"ModelStreamErrorException":case"com.amazonaws.bedrockruntime#ModelStreamErrorException":throw await lP(r,t);default:let o=r.body;return TG({output:e,parsedBody:o,errorCode:n})}},"de_CommandError"),TG=(0,v.withBaseException)(Te),IG=_(async(e,t)=>{let r=(0,v.map)({}),n=e.body,o=(0,v.take)(n,{message:v.expectString});Object.assign(r,o);let i=new AC({$metadata:ge(e),...r});return(0,v.decorateServiceException)(i,e.body)},"de_AccessDeniedExceptionRes"),cP=_(async(e,t)=>{let r=(0,v.map)({}),n=e.body,o=(0,v.take)(n,{message:v.expectString});Object.assign(r,o);let i=new NC({$metadata:ge(e),...r});return(0,v.decorateServiceException)(i,e.body)},"de_InternalServerExceptionRes"),NG=_(async(e,t)=>{let r=(0,v.map)({}),n=e.body,o=(0,v.take)(n,{message:v.expectString,originalStatusCode:v.expectInt32,resourceName:v.expectString});Object.assign(r,o);let i=new MC({$metadata:ge(e),...r});return(0,v.decorateServiceException)(i,e.body)},"de_ModelErrorExceptionRes"),kG=_(async(e,t)=>{let r=(0,v.map)({}),n=e.body,o=(0,v.take)(n,{message:v.expectString});Object.assign(r,o);let i=new LC({$metadata:ge(e),...r});return(0,v.decorateServiceException)(i,e.body)},"de_ModelNotReadyExceptionRes"),lP=_(async(e,t)=>{let r=(0,v.map)({}),n=e.body,o=(0,v.take)(n,{message:v.expectString,originalMessage:v.expectString,originalStatusCode:v.expectInt32});Object.assign(r,o);let i=new ZC({$metadata:ge(e),...r});return(0,v.decorateServiceException)(i,e.body)},"de_ModelStreamErrorExceptionRes"),dP=_(async(e,t)=>{let r=(0,v.map)({}),n=e.body,o=(0,v.take)(n,{message:v.expectString});Object.assign(r,o);let i=new BC({$metadata:ge(e),...r});return(0,v.decorateServiceException)(i,e.body)},"de_ModelTimeoutExceptionRes"),DG=_(async(e,t)=>{let r=(0,v.map)({}),n=e.body,o=(0,v.take)(n,{message:v.expectString});Object.assign(r,o);let i=new GC({$metadata:ge(e),...r});return(0,v.decorateServiceException)(i,e.body)},"de_ResourceNotFoundExceptionRes"),MG=_(async(e,t)=>{let r=(0,v.map)({}),n=e.body,o=(0,v.take)(n,{message:v.expectString});Object.assign(r,o);let i=new rP({$metadata:ge(e),...r});return(0,v.decorateServiceException)(i,e.body)},"de_ServiceQuotaExceededExceptionRes"),uP=_(async(e,t)=>{let r=(0,v.map)({}),n=e.body,o=(0,v.take)(n,{message:v.expectString});Object.assign(r,o);let i=new WC({$metadata:ge(e),...r});return(0,v.decorateServiceException)(i,e.body)},"de_ThrottlingExceptionRes"),pP=_(async(e,t)=>{let r=(0,v.map)({}),n=e.body,o=(0,v.take)(n,{message:v.expectString});Object.assign(r,o);let i=new YC({$metadata:ge(e),...r});return(0,v.decorateServiceException)(i,e.body)},"de_ValidationExceptionRes"),FG=_((e,t)=>t.eventStreamMarshaller.deserialize(e,async r=>r.messageStart!=null?{messageStart:await HG(r.messageStart,t)}:r.contentBlockStart!=null?{contentBlockStart:await qG(r.contentBlockStart,t)}:r.contentBlockDelta!=null?{contentBlockDelta:await LG(r.contentBlockDelta,t)}:r.contentBlockStop!=null?{contentBlockStop:await jG(r.contentBlockStop,t)}:r.messageStop!=null?{messageStop:await $G(r.messageStop,t)}:r.metadata!=null?{metadata:await BG(r.metadata,t)}:r.internalServerException!=null?{internalServerException:await fP(r.internalServerException,t)}:r.modelStreamErrorException!=null?{modelStreamErrorException:await mP(r.modelStreamErrorException,t)}:r.validationException!=null?{validationException:await hP(r.validationException,t)}:r.throttlingException!=null?{throttlingException:await gP(r.throttlingException,t)}:{$unknown:e}),"de_ConverseStreamOutput"),UG=_((e,t)=>t.eventStreamMarshaller.deserialize(e,async r=>r.chunk!=null?{chunk:await zG(r.chunk,t)}:r.internalServerException!=null?{internalServerException:await fP(r.internalServerException,t)}:r.modelStreamErrorException!=null?{modelStreamErrorException:await mP(r.modelStreamErrorException,t)}:r.validationException!=null?{validationException:await hP(r.validationException,t)}:r.throttlingException!=null?{throttlingException:await gP(r.throttlingException,t)}:r.modelTimeoutException!=null?{modelTimeoutException:await GG(r.modelTimeoutException,t)}:{$unknown:e}),"de_ResponseStream"),LG=_(async(e,t)=>{let r={},n=await(0,X.parseJsonBody)(e.body,t);return Object.assign(r,(0,v._json)(n)),r},"de_ContentBlockDeltaEvent_event"),qG=_(async(e,t)=>{let r={},n=await(0,X.parseJsonBody)(e.body,t);return Object.assign(r,(0,v._json)(n)),r},"de_ContentBlockStartEvent_event"),jG=_(async(e,t)=>{let r={},n=await(0,X.parseJsonBody)(e.body,t);return Object.assign(r,(0,v._json)(n)),r},"de_ContentBlockStopEvent_event"),BG=_(async(e,t)=>{let r={},n=await(0,X.parseJsonBody)(e.body,t);return Object.assign(r,(0,v._json)(n)),r},"de_ConverseStreamMetadataEvent_event"),fP=_(async(e,t)=>{let r={...e,body:await(0,X.parseJsonBody)(e.body,t)};return cP(r,t)},"de_InternalServerException_event"),HG=_(async(e,t)=>{let r={},n=await(0,X.parseJsonBody)(e.body,t);return Object.assign(r,(0,v._json)(n)),r},"de_MessageStartEvent_event"),$G=_(async(e,t)=>{let r={},n=await(0,X.parseJsonBody)(e.body,t);return Object.assign(r,lz(n,t)),r},"de_MessageStopEvent_event"),mP=_(async(e,t)=>{let r={...e,body:await(0,X.parseJsonBody)(e.body,t)};return lP(r,t)},"de_ModelStreamErrorException_event"),GG=_(async(e,t)=>{let r={...e,body:await(0,X.parseJsonBody)(e.body,t)};return dP(r,t)},"de_ModelTimeoutException_event"),zG=_(async(e,t)=>{let r={},n=await(0,X.parseJsonBody)(e.body,t);return Object.assign(r,dz(n,t)),r},"de_PayloadPart_event"),gP=_(async(e,t)=>{let r={...e,body:await(0,X.parseJsonBody)(e.body,t)};return uP(r,t)},"de_ThrottlingException_event"),hP=_(async(e,t)=>{let r={...e,body:await(0,X.parseJsonBody)(e.body,t)};return pP(r,t)},"de_ValidationException_event"),VG=_((e,t)=>Gs.visit(e,{image:r=>({image:vP(r,t)}),text:r=>({text:r}),toolResult:r=>({toolResult:QG(r,t)}),toolUse:r=>({toolUse:nz(r,t)}),_:(r,n)=>({name:n})}),"se_ContentBlock"),WG=_((e,t)=>e.filter(r=>r!=null).map(r=>VG(r,t)),"se_ContentBlocks"),vP=_((e,t)=>(0,v.take)(e,{format:[],source:r=>KG(r,t)}),"se_ImageBlock"),KG=_((e,t)=>Hs.visit(e,{bytes:r=>({bytes:t.base64Encoder(r)}),_:(r,n)=>({name:n})}),"se_ImageSource"),_P=_((e,t)=>(0,v.take)(e,{maxTokens:[],stopSequences:v._json,temperature:v.serializeFloat,topP:v.serializeFloat}),"se_InferenceConfiguration"),JG=_((e,t)=>(0,v.take)(e,{content:r=>WG(r,t),role:[]}),"se_Message"),yP=_((e,t)=>e.filter(r=>r!=null).map(r=>JG(r,t)),"se_Messages"),YG=_((e,t)=>Vs.visit(e,{toolSpec:r=>({toolSpec:rz(r,t)}),_:(r,n)=>({name:n})}),"se_Tool"),EP=_((e,t)=>(0,v.take)(e,{toolChoice:v._json,tools:r=>tz(r,t)}),"se_ToolConfiguration"),XG=_((e,t)=>zs.visit(e,{json:r=>({json:Zn(r,t)}),_:(r,n)=>({name:n})}),"se_ToolInputSchema"),QG=_((e,t)=>(0,v.take)(e,{content:r=>ez(r,t),status:[],toolUseId:[]}),"se_ToolResultBlock"),ZG=_((e,t)=>$s.visit(e,{image:r=>({image:vP(r,t)}),json:r=>({json:Zn(r,t)}),text:r=>({text:r}),_:(r,n)=>({name:n})}),"se_ToolResultContentBlock"),ez=_((e,t)=>e.filter(r=>r!=null).map(r=>ZG(r,t)),"se_ToolResultContentBlocks"),tz=_((e,t)=>e.filter(r=>r!=null).map(r=>YG(r,t)),"se_Tools"),rz=_((e,t)=>(0,v.take)(e,{description:[],inputSchema:r=>XG(r,t),name:[]}),"se_ToolSpecification"),nz=_((e,t)=>(0,v.take)(e,{input:r=>Zn(r,t),name:[],toolUseId:[]}),"se_ToolUseBlock"),Zn=_((e,t)=>e,"se_Document"),oz=_((e,t)=>e.image!=null?{image:SP(e.image,t)}:(0,v.expectString)(e.text)!==void 0?{text:(0,v.expectString)(e.text)}:e.toolResult!=null?{toolResult:uz(e.toolResult,t)}:e.toolUse!=null?{toolUse:mz(e.toolUse,t)}:{$unknown:Object.entries(e)[0]},"de_ContentBlock"),iz=_((e,t)=>(e||[]).filter(n=>n!=null).map(n=>oz((0,X.awsExpectUnion)(n),t)),"de_ContentBlocks"),sz=_((e,t)=>e.message!=null?{message:cz(e.message,t)}:{$unknown:Object.entries(e)[0]},"de_ConverseOutput"),SP=_((e,t)=>(0,v.take)(e,{format:v.expectString,source:r=>az((0,X.awsExpectUnion)(r),t)}),"de_ImageBlock"),az=_((e,t)=>e.bytes!=null?{bytes:t.base64Decoder(e.bytes)}:{$unknown:Object.entries(e)[0]},"de_ImageSource"),cz=_((e,t)=>(0,v.take)(e,{content:r=>iz(r,t),role:v.expectString}),"de_Message"),lz=_((e,t)=>(0,v.take)(e,{additionalModelResponseFields:r=>Xs(r,t),stopReason:v.expectString}),"de_MessageStopEvent"),dz=_((e,t)=>(0,v.take)(e,{bytes:t.base64Decoder}),"de_PayloadPart"),uz=_((e,t)=>(0,v.take)(e,{content:r=>fz(r,t),status:v.expectString,toolUseId:v.expectString}),"de_ToolResultBlock"),pz=_((e,t)=>e.image!=null?{image:SP(e.image,t)}:e.json!=null?{json:Xs(e.json,t)}:(0,v.expectString)(e.text)!==void 0?{text:(0,v.expectString)(e.text)}:{$unknown:Object.entries(e)[0]},"de_ToolResultContentBlock"),fz=_((e,t)=>(e||[]).filter(n=>n!=null).map(n=>pz((0,X.awsExpectUnion)(n),t)),"de_ToolResultContentBlocks"),mz=_((e,t)=>(0,v.take)(e,{input:r=>Xs(r,t),name:v.expectString,toolUseId:v.expectString}),"de_ToolUseBlock"),Xs=_((e,t)=>e,"de_Document"),ge=_(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),wP=_(e=>e!=null&&e!==""&&(!Object.getOwnPropertyNames(e).includes("length")||e.length!=0)&&(!Object.getOwnPropertyNames(e).includes("size")||e.size!=0),"isSerializableHeaderValue"),Nd="accept",Qs="contentType",kd="content-type",xP="guardrailIdentifier",bP="guardrailVersion",CP="trace",gz="x-amzn-bedrock-accept",hz="x-amzn-bedrock-content-type",PP="x-amzn-bedrock-guardrailidentifier",RP="x-amzn-bedrock-guardrailversion",OP="x-amzn-bedrock-trace",AP=class extends v.Command.classBuilder().ep({...Ks}).m(function(t,r,n,o){return[(0,Js.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Qn.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonBedrockFrontendService","Converse",{}).n("BedrockRuntimeClient","ConverseCommand").f(void 0,void 0).ser(wG).de(PG).build(){};_(AP,"ConverseCommand");var TP=AP,IP=class extends v.Command.classBuilder().ep({...Ks}).m(function(t,r,n,o){return[(0,Js.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Qn.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonBedrockFrontendService","ConverseStream",{eventStream:{output:!0}}).n("BedrockRuntimeClient","ConverseStreamCommand").f(void 0,nP).ser(xG).de(RG).build(){};_(IP,"ConverseStreamCommand");var NP=IP,kP=class extends v.Command.classBuilder().ep({...Ks}).m(function(t,r,n,o){return[(0,Js.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Qn.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonBedrockFrontendService","InvokeModel",{}).n("BedrockRuntimeClient","InvokeModelCommand").f(oP,iP).ser(bG).de(OG).build(){};_(kP,"InvokeModelCommand");var DP=kP,MP=class extends v.Command.classBuilder().ep({...Ks}).m(function(t,r,n,o){return[(0,Js.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Qn.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonBedrockFrontendService","InvokeModelWithResponseStream",{eventStream:{output:!0}}).n("BedrockRuntimeClient","InvokeModelWithResponseStreamCommand").f(sP,aP).ser(CG).de(AG).build(){};_(MP,"InvokeModelWithResponseStreamCommand");var FP=MP,vz={ConverseCommand:TP,ConverseStreamCommand:NP,InvokeModelCommand:DP,InvokeModelWithResponseStreamCommand:FP},UP=class extends bC{};_(UP,"BedrockRuntime");var LP=UP;(0,v.createAggregatedClient)(vz,LP)});var Zs=z(jP(),1),_z="anthropic.claude-3-haiku-20240307-v1:0",n7={modelId:"STRING_VALUE",messages:[{role:"user",content:[{text:"STRING_VALUE",image:{format:"png",source:{bytes:new Uint8Array}},toolUse:{toolUseId:"STRING_VALUE",name:"STRING_VALUE",input:"DOCUMENT_VALUE"},toolResult:{toolUseId:"STRING_VALUE",content:[{json:"DOCUMENT_VALUE",text:"STRING_VALUE",image:{format:"png",source:{bytes:new Uint8Array}}}],status:"success"}}]}],system:[{text:"STRING_VALUE"}],inferenceConfig:{maxTokens:+"int",temperature:+"float",topP:+"float",stopSequences:["STRING_VALUE"]},toolConfig:{tools:[{toolSpec:{name:"STRING_VALUE",description:"STRING_VALUE",inputSchema:{json:"DOCUMENT_VALUE"}}}],toolChoice:{auto:{},any:{},tool:{name:"STRING_VALUE"}}},additionalModelRequestFields:"DOCUMENT_VALUE",additionalModelResponseFieldPaths:["STRING_VALUE"]},o7=async(e,t=_z,r=.1,n="",o="")=>{let i=new Zs.BedrockRuntimeClient({region:"us-east-1"}),s={anthropic_version:"bedrock-2023-05-31",max_tokens:1e3,messages:[{role:"user",content:[{type:"text",text:e}]}],inferenceConfig:{temperature:r}};o&&(s.inferenceConfig={stopSequences:[o]}),n&&s.messages.push({role:"assistant",content:[{type:"text",text:n}]});let a=new Zs.InvokeModelCommand({contentType:"application/json",body:JSON.stringify(s),modelId:t}),c=await i.send(a),l=new TextDecoder().decode(c.body);return JSON.parse(l).content[0].text};export{o7 as invokeModel};
/*! Bundled license information:

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)
*/
